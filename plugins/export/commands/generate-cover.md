---
title: 封面生成 - /generate-cover
description: 生成或上传小说封面图片
---

# 封面生成

## 使用方法

```bash
/generate-cover [选项]
```

### 基本用法

```bash
/generate-cover                            # 自动生成基础封面
/generate-cover --upload cover.jpg         # 上传自定义封面
/generate-cover --template modern          # 使用指定模板
/generate-cover --template classic --color "#2c3e50"  # 指定模板和颜色
```

### 选项

| 选项 | 说明 | 默认值 |
|------|------|--------|
| `--upload <文件>` | 上传自定义封面图片 | - |
| `--template <模板>` | 选择封面模板 | minimal |
| `--color <颜色>` | 背景颜色（HEX） | 模板默认色 |
| `--output <路径>` | 输出路径 | stories/[name]/cover.jpg |

---

## 封面模板

| 模板 | 风格 | 默认颜色 | 适用题材 |
|------|------|---------|---------|
| `modern` | 现代简约，大字标题，渐变背景 | #1a1a2e -> #16213e | 都市、现代、科幻 |
| `classic` | 古典风格，竖排书名，纹理背景 | #2c1810 | 古代、武侠、仙侠 |
| `minimal` | 极简风格，白底黑字，留白多 | #ffffff | 通用、文学 |
| `dark` | 暗色系，粗体标题，压迫感 | #0d0d0d | 悬疑、恐怖、黑暗 |

### 模板详细说明

#### modern - 现代简约

```
┌─────────────────────┐
│                     │
│   ▓▓▓▓▓▓▓▓▓▓▓▓▓   │  渐变背景
│                     │
│                     │
│    我 的 小 说      │  书名（大号，居中）
│                     │
│    ── 副标题 ──     │  副标题（可选）
│                     │
│                     │
│                     │
│     作 者 名        │  作者名（底部）
│                     │
└─────────────────────┘
```

#### classic - 古典风格

```
┌─────────────────────┐
│  ╔═══════════════╗  │
│  ║               ║  │  纹理边框
│  ║   我          ║  │
│  ║   的          ║  │  竖排书名
│  ║   小          ║  │
│  ║   说          ║  │
│  ║               ║  │
│  ║   ─────       ║  │
│  ║   作者名      ║  │
│  ║               ║  │
│  ╚═══════════════╝  │
└─────────────────────┘
```

#### minimal - 极简风格

```
┌─────────────────────┐
│                     │
│                     │
│                     │
│                     │
│    我的小说         │  书名（左对齐或居中）
│    ─────────        │  分隔线
│    作者名           │  作者名
│                     │
│                     │
│                     │
│                     │
│                     │
└─────────────────────┘
```

#### dark - 暗色系

```
┌─────────────────────┐
│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│
│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│  暗色纹理背景
│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│
│                     │
│   我 的 小 说       │  书名（粗体，白色）
│                     │
│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│
│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│
│                     │
│     作 者 名        │  作者名（灰色）
│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│
│▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒│
└─────────────────────┘
```

---

## 封面要求

| 维度 | 推荐值 | 说明 |
|------|--------|------|
| 尺寸 | 1600 x 2400 像素 | 2:3 比例（EPUB 标准） |
| 格式 | JPG 或 PNG | JPG 较小，PNG 更清晰 |
| 大小 | < 1 MB | 太大影响 EPUB 文件大小 |
| 色彩 | RGB | 不使用 CMYK（CMYK 用于印刷） |
| 分辨率 | >= 300 DPI | 适合打印（72 DPI 仅适合屏幕） |

---

## 上传封面

### 流程

```
/generate-cover --upload ~/Desktop/my-cover.jpg
      |
验证图片：
  - 格式：JPG/PNG？
  - 尺寸：接近 2:3？
  - 大小：< 1 MB？
  - 色彩：RGB？
      |
通过 -> 复制到 stories/[name]/cover.jpg
不通过 -> 提示问题和建议
```

### 验证规则

| 检查项 | 通过条件 | 不通过处理 |
|--------|---------|-----------|
| 格式 | JPG 或 PNG | 错误：请转换格式 |
| 比例 | 2:3 +/- 5% | 警告：建议裁剪为 2:3 |
| 大小 | < 1 MB | 警告：建议压缩 |
| 最小尺寸 | >= 800x1200 | 警告：分辨率偏低 |
| 最大尺寸 | <= 4000x6000 | 警告：建议缩小 |

### 示例

```
/generate-cover --upload ~/Desktop/my-cover.jpg

封面验证：
  格式：JPG
  尺寸：1600x2400 (2:3)
  大小：450 KB
  色彩：RGB

已保存到：stories/my-novel/cover.jpg
```

---

## 自动生成封面

### 流程

```
/generate-cover --template modern
      |
读取元数据：
  - 书名（metadata.json 或 specification.md）
  - 副标题（可选）
  - 作者名
      |
应用模板：
  - 背景色/渐变
  - 文字排版
  - 装饰元素
      |
生成 1600x2400 图片
      |
保存到 stories/[name]/cover.jpg
```

### 生成封面的元素

| 元素 | 来源 | 必需 |
|------|------|------|
| 书名 | metadata.json -> title | 是 |
| 副标题 | metadata.json -> subtitle | 否 |
| 作者名 | metadata.json -> author | 是 |
| 背景色 | 模板默认或 `--color` 指定 | 自动 |

### 示例

```
/generate-cover --template modern

封面生成完成：
  模板：modern
  书名：我的小说
  作者：作者名
  尺寸：1600x2400
  大小：128 KB

已保存到：stories/my-novel/cover.jpg
```

---

## 封面与导出格式的关系

| 格式 | 封面用途 | 要求 |
|------|---------|------|
| EPUB | 嵌入电子书，阅读器显示 | 必需，1600x2400 |
| PDF | 第一页封面 | 推荐，按纸张尺寸缩放 |
| 网文平台 | 不嵌入，平台单独上传 | 不需要 |
| Markdown | 不嵌入 | 不需要 |

---

## 常见陷阱

### 1. 封面比例不对

**症状**：在阅读器中被拉伸或出现黑边
**解决**：严格使用 2:3 比例（1600x2400），上传时系统会自动检测

### 2. 封面文件过大

**症状**：EPUB 文件超过 5MB
**解决**：压缩封面到 < 1MB，JPG 质量 80% 通常足够

### 3. 文字看不清

**症状**：自动生成的封面文字与背景对比度不够
**解决**：选择与书名颜色对比明显的背景色，或换用其他模板

### 4. 打印封面模糊

**症状**：打印出来的封面不清晰
**解决**：使用 >= 300 DPI 的高分辨率图片，推荐 2400x3600 或更高
