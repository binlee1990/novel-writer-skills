# Task 19: `/track --check` 节奏健康度检测

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** 在 `/track --check` 中增加节奏健康度检测，检查最近 N 章的节奏是否单一、爽点间隔是否过长、情绪曲线是否合理

**Architecture:** 在 `track.md` 的 `--check` 模式中扩展检测项，新增「节奏健康度」检测维度。

**Tech Stack:** Markdown 模板

---

### Task 19.1: 在 track.md 的 --check 模式中添加节奏健康度

**Files:**
- Modify: `templates/commands/track.md`（--check 模式部分）

**Step 1: 在现有 --check 检测项之后添加节奏健康度检测**

在 `track.md` 的 `--check` 模式的检测项列表中，添加新的检测维度：

```markdown

#### 节奏健康度检测

**检测范围**：最近 10 章（或全部已写章节，取较小值）

##### 检测 1：节奏单一性

分析最近 N 章的情绪节奏（高/中/低），检测是否过于单一：

```
📊 节奏分布（最近 10 章）
━━━━━━━━━━━━━━━━━━━━
高强度：[N] 章（[X]%）
中强度：[N] 章（[X]%）
低强度：[N] 章（[X]%）

判定：
✅ 节奏多样（高/中/低分布均匀）
⚠️ 节奏偏单一（连续 [N] 章 [高/中/低] 强度）
❌ 节奏严重单一（[X]% 章节为同一强度）
```

**判定标准**：
- ✅ 健康：高/中/低各占 20%-50%
- ⚠️ 偏单一：某一强度占比 > 60%
- ❌ 严重单一：某一强度占比 > 80%，或连续 5+ 章同一强度

##### 检测 2：爽点间隔

检查最近章节中爽点的分布间隔：

```
⭐ 爽点间隔检测
━━━━━━━━━━━━━━━━━━━━
最近爽点：第 [N] 章（[类型]）
当前间隔：[M] 章无爽点

判定：
✅ 间隔正常（≤ 3 章）
⚠️ 间隔偏长（4-5 章）— 建议在下一章安排爽点
❌ 间隔过长（> 5 章）— 读者流失风险！
```

##### 检测 3：钩子连续性

检查最近章节的钩子是否连续：

```
🪝 钩子连续性
━━━━━━━━━━━━━━━━━━━━
最近 5 章钩子状态：
第 [A] 章：✅ 悬念 ⭐⭐⭐
第 [B] 章：✅ 反转 ⭐⭐⭐⭐
第 [C] 章：❌ 无钩子
第 [D] 章：✅ 信息 ⭐⭐
第 [E] 章：✅ 情感 ⭐⭐⭐

判定：
⚠️ 第 [C] 章无钩子，建议补充
```

##### 检测 4：情绪曲线合理性

基于张弛有度原则，检查情绪曲线是否合理：

```
📈 情绪曲线
━━━━━━━━━━━━━━━━━━━━
第 [A] 章 ████████░░ 高
第 [B] 章 ██████████ 高
第 [C] 章 █████████░ 高
第 [D] 章 ████████░░ 高
第 [E] 章 ███████░░░ 中高

⚠️ 警告：连续 4 章高强度，读者可能疲劳
💡 建议：下一章安排过渡/日常/角色互动
```

##### 综合节奏健康度评分

```
🏥 节奏健康度
━━━━━━━━━━━━━━━━━━━━
节奏多样性：[✅/⚠️/❌]
爽点间隔  ：[✅/⚠️/❌]
钩子连续性：[✅/⚠️/❌]
情绪曲线  ：[✅/⚠️/❌]

综合评定：[健康 / 需关注 / 需改进]
```
```

**Step 2: Commit**

```bash
git add templates/commands/track.md
git commit -m "feat(track): add rhythm health detection to --check mode (pacing diversity, satisfaction interval, hook continuity, emotional curve)"
```
