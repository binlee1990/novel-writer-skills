# Task 35: åé¦ˆå¾ªç¯å¢å¼º

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** å»ºç«‹ä» `/analyze` ç»“æœåˆ° `/specify`ã€`/plan`ã€`/tasks` çš„åé¦ˆå¾ªç¯ï¼Œä½¿åˆ†æå‘ç°çš„é—®é¢˜èƒ½è‡ªåŠ¨åé¦ˆåˆ°ä¸Šæ¸¸æ–‡æ¡£

**Architecture:** åœ¨ `/analyze` çš„æŠ¥å‘Šè¾“å‡ºä¸­å¢åŠ ã€Œåé¦ˆå»ºè®®ã€æ¨¡å—ï¼Œæ˜ç¡®æŒ‡å‡ºå“ªäº›é—®é¢˜éœ€è¦å›æº¯ä¿®æ”¹ä¸Šæ¸¸æ–‡æ¡£ã€‚åœ¨ `/specify`ã€`/plan`ã€`/tasks` ä¸­å¢åŠ ã€Œæ¥æ”¶åé¦ˆã€å…¥å£ã€‚

**Tech Stack:** Markdown æ¨¡æ¿

---

### Task 35.1: åœ¨ /analyze ä¸­æ·»åŠ åé¦ˆå»ºè®®æ¨¡å—

**Files:**
- Modify: `templates/commands/analyze.md`ï¼ˆæŠ¥å‘Šè¾“å‡ºå°¾éƒ¨ï¼‰

**Step 1: åœ¨åˆ†ææŠ¥å‘Šçš„æœ€åæ·»åŠ åé¦ˆå»ºè®®**

```markdown

#### åé¦ˆå»ºè®®

åœ¨åˆ†ææŠ¥å‘Šçš„æœ€åï¼Œæ ¹æ®å‘ç°çš„é—®é¢˜ç”Ÿæˆåé¦ˆå»ºè®®ï¼ŒæŒ‡å‘éœ€è¦ä¿®æ”¹çš„ä¸Šæ¸¸æ–‡æ¡£ï¼š

##### åé¦ˆåˆ†ç±»

| é—®é¢˜ç±»å‹ | åé¦ˆç›®æ ‡ | æ“ä½œå»ºè®® |
|---------|---------|---------|
| è§’è‰²è®¾å®šä¸å®é™…æå†™ä¸ç¬¦ | `specification.md` | `/specify [æ•…äº‹å]` æ›´æ–°è§’è‰²è®¾å®š |
| æƒ…èŠ‚èµ°å‘åç¦»è®¡åˆ’ | `creative-plan.md` | `/plan [æ•…äº‹å]` è°ƒæ•´è®¡åˆ’ |
| ä»»åŠ¡ç²’åº¦ä¸åˆç† | `tasks.md` | `/tasks [æ•…äº‹å]` é‡æ–°æ‹†åˆ† |
| åŠ›é‡ä½“ç³»ä¸ä¸€è‡´ | `specification.md` | `/specify [æ•…äº‹å]` ä¿®æ­£åŠ›é‡ä½“ç³» |
| ä¸–ç•Œè§‚è®¾å®šå†²çª | `spec/world-setting.json` | `/specify --world` ä¿®æ­£ä¸–ç•Œè§‚ |
| èŠ‚å¥é—®é¢˜ | `creative-plan.md` | `/plan --detail` è°ƒæ•´ç« èŠ‚è§„åˆ’ |

##### è¾“å‡ºæ ¼å¼

```
ğŸ”„ åé¦ˆå»ºè®®
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æœ¬æ¬¡åˆ†æå‘ç°ä»¥ä¸‹é—®é¢˜éœ€è¦å›æº¯ä¿®æ”¹ä¸Šæ¸¸æ–‡æ¡£ï¼š

ğŸ“‹ è§„æ ¼ä¹¦åé¦ˆï¼ˆ/specifyï¼‰ï¼š
1. è§’è‰²ã€Œå¸ˆå§ã€çš„æ€§æ ¼è®¾å®šä¸ºã€Œå†·æ·¡ã€ï¼Œä½†ç¬¬ 12-15 ç« è¡¨ç°ä¸ºã€Œçƒ­æƒ…ã€
   â†’ é€‰æ‹©ï¼šä¿®æ”¹è®¾å®š or ä¿®æ”¹ç« èŠ‚å†…å®¹
2. åŠ›é‡ä½“ç³»ä¸­ã€Œé‡‘ä¸¹æœŸã€çš„èƒ½åŠ›æè¿°ä¸ç¬¬ 20 ç« å®é™…æå†™ä¸ç¬¦
   â†’ å»ºè®®æ›´æ–° specification.md ä¸­çš„åŠ›é‡ä½“ç³»éƒ¨åˆ†

ğŸ“‹ è®¡åˆ’åé¦ˆï¼ˆ/planï¼‰ï¼š
3. ç¬¬ 2 å·çš„èŠ‚å¥æ•´ä½“åå¿«ï¼Œç¼ºå°‘è¿‡æ¸¡ç« èŠ‚
   â†’ å»ºè®®è¿è¡Œ /plan --detail vol-02 é‡æ–°è§„åˆ’
4. åŸè®¡åˆ’ç¬¬ 25 ç« ä¸ºé«˜æ½®ï¼Œä½†å®é™…å†™åˆ°ç¬¬ 25 ç« æ—¶å†²çªå°šæœªå……åˆ†ç§¯ç´¯
   â†’ å»ºè®®å°†é«˜æ½®æ¨è¿Ÿåˆ°ç¬¬ 28-30 ç« 

ğŸ“‹ ä»»åŠ¡åé¦ˆï¼ˆ/tasksï¼‰ï¼š
5. ç¬¬ 15-20 ç« çš„ä»»åŠ¡ç²’åº¦è¿‡ç²—ï¼ˆæ¯ä¸ªä»»åŠ¡è¦†ç›– 3 ç« ï¼‰
   â†’ å»ºè®®æ‹†åˆ†ä¸ºæ¯ç« ä¸€ä¸ªä»»åŠ¡

âš ï¸ æœªå¤„ç†çš„åé¦ˆä¼šåœ¨ä¸‹æ¬¡ /guide ä¸­æé†’
```
```

**Step 2: Commit**

```bash
git add templates/commands/analyze.md
git commit -m "feat(analyze): add feedback suggestion module for upstream document correction"
```

---

### Task 35.2: åœ¨ /specify ä¸­æ·»åŠ åé¦ˆæ¥æ”¶å…¥å£

**Files:**
- Modify: `templates/commands/specify.md`

**Step 1: åœ¨å‚æ•°è§£æä¸­æ·»åŠ  --feedback æ¨¡å¼**

```markdown
#### åé¦ˆæ¥æ”¶æ¨¡å¼ï¼ˆ`--feedback`ï¼‰

**è§¦å‘æ¡ä»¶**ï¼š`$ARGUMENTS` åŒ…å« `--feedback`

**æ‰§è¡Œæµç¨‹**ï¼š
1. è¯»å–æœ€è¿‘ä¸€æ¬¡ `/analyze` çš„åé¦ˆå»ºè®®ï¼ˆå¦‚æœ‰ä¿å­˜ï¼‰
2. é€æ¡å±•ç¤ºéœ€è¦ä¿®æ”¹çš„è§„æ ¼ä¹¦å†…å®¹
3. å¯¹æ¯æ¡åé¦ˆï¼Œå±•ç¤ºï¼š
   - å½“å‰è®¾å®šå†…å®¹
   - å®é™…æå†™å†…å®¹ï¼ˆæ¥è‡ªç« èŠ‚ï¼‰
   - å»ºè®®ä¿®æ”¹æ–¹æ¡ˆ
4. ç”¨æˆ·ç¡®è®¤åï¼Œæ›´æ–° `specification.md`

**è¾“å‡ºæ ¼å¼**ï¼š
```
ğŸ”„ è§„æ ¼ä¹¦åé¦ˆå¤„ç†
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

åé¦ˆ #1ï¼šè§’è‰²ã€Œå¸ˆå§ã€æ€§æ ¼è®¾å®š
  å½“å‰è®¾å®šï¼šå†·æ·¡ã€ä¸å–„è¨€è¾
  å®é™…æå†™ï¼šç¬¬ 12 ç« ã€Œå¸ˆå§ç¬‘ç€æ‹‰ä½ä»–çš„æ‰‹ã€ã€ç¬¬ 15 ç« ã€Œå¸ˆå§å…´å¥‹åœ°è·³äº†èµ·æ¥ã€

  é€‰é¡¹ï¼š
  A. ä¿®æ”¹è®¾å®šä¸ºã€Œå¤–å†·å†…çƒ­ã€ï¼ˆä¿ç•™ç« èŠ‚å†…å®¹ï¼‰
  B. ä¿æŒè®¾å®šï¼Œæ ‡è®°ç¬¬ 12ã€15 ç« éœ€è¦ä¿®æ”¹
  C. è·³è¿‡æ­¤åé¦ˆ

è¯·é€‰æ‹© [A/B/C]ï¼š
```
```

**Step 2: Commit**

```bash
git add templates/commands/specify.md
git commit -m "feat(specify): add --feedback mode for receiving analysis feedback and updating specifications"
```

---

### Task 35.3: åœ¨ /plan ä¸­æ·»åŠ åé¦ˆæ¥æ”¶å…¥å£

**Files:**
- Modify: `templates/commands/plan.md`

**Step 1: åœ¨å‚æ•°è§£æä¸­æ·»åŠ  --feedback æ¨¡å¼**

```markdown
#### åé¦ˆæ¥æ”¶æ¨¡å¼ï¼ˆ`--feedback`ï¼‰

**è§¦å‘æ¡ä»¶**ï¼š`$ARGUMENTS` åŒ…å« `--feedback`

**æ‰§è¡Œæµç¨‹**ï¼š
1. è¯»å–æœ€è¿‘ä¸€æ¬¡ `/analyze` çš„è®¡åˆ’åé¦ˆ
2. å±•ç¤ºéœ€è¦è°ƒæ•´çš„è®¡åˆ’å†…å®¹
3. æä¾›è°ƒæ•´å»ºè®®
4. ç”¨æˆ·ç¡®è®¤åï¼Œæ›´æ–° `creative-plan.md`

**å¤„ç†çš„åé¦ˆç±»å‹**ï¼š
- èŠ‚å¥é—®é¢˜ â†’ è°ƒæ•´ç« èŠ‚åˆ†é…
- é«˜æ½®ä½ç½®åç§» â†’ è°ƒæ•´é«˜æ½®ç« èŠ‚
- ä¼ç¬”å›æ”¶æ—¶æœº â†’ è°ƒæ•´ä¼ç¬”è§„åˆ’
- æƒ…èŠ‚çº¿è¿›åº¦ â†’ è°ƒæ•´æ”¯çº¿å®‰æ’
```

**Step 2: Commit**

```bash
git add templates/commands/plan.md
git commit -m "feat(plan): add --feedback mode for receiving analysis feedback and adjusting creative plan"
```

---

### Task 35.4: åœ¨ /guide ä¸­é›†æˆæœªå¤„ç†åé¦ˆæé†’

**Files:**
- Modify: `templates/commands/guide.md`

**Step 1: åœ¨å¥åº·æ£€æŸ¥ä¸­æ·»åŠ åé¦ˆçŠ¶æ€**

```markdown
#### åé¦ˆçŠ¶æ€æ£€æŸ¥

åœ¨ /guide çš„å¥åº·æ£€æŸ¥ä¸­ï¼Œæ£€æµ‹æ˜¯å¦æœ‰æœªå¤„ç†çš„åˆ†æåé¦ˆï¼š

```
ğŸ”„ æœªå¤„ç†åé¦ˆï¼š[N] æ¡
  è§„æ ¼ä¹¦åé¦ˆï¼š[A] æ¡ â†’ è¿è¡Œ /specify --feedback
  è®¡åˆ’åé¦ˆ  ï¼š[B] æ¡ â†’ è¿è¡Œ /plan --feedback
  ä»»åŠ¡åé¦ˆ  ï¼š[C] æ¡ â†’ è¿è¡Œ /tasks --feedback
```
```

**Step 2: Commit**

```bash
git add templates/commands/guide.md
git commit -m "feat(guide): add unprocessed feedback reminder in health check"
```
