# Task 40: `/checklist` åŠŸèƒ½å¢å¼º

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** å¢å¼º `/checklist` å‘½ä»¤ï¼šæ”¯æŒè‡ªå®šä¹‰æ£€æŸ¥é¡¹ã€æ£€æŸ¥æ¨¡æ¿ï¼ˆæŒ‰ç±»å‹/é˜¶æ®µï¼‰ã€æ£€æŸ¥å†å²è®°å½•ã€è‡ªåŠ¨ä¿®å¤å»ºè®®

**Architecture:** åœ¨ `templates/commands/checklist.md` ä¸­æ‰©å±•æ£€æŸ¥æ¸…å•èƒ½åŠ›ã€‚

**Tech Stack:** Markdown æ¨¡æ¿

---

### Task 40.1: è¯»å–ç°æœ‰ checklist.md å¹¶è¯„ä¼°ç¼ºå¤±å†…å®¹

**Files:**
- Read: `templates/commands/checklist.md`

**Step 1: è¯»å–æ–‡ä»¶ï¼Œè®°å½•å·²æœ‰å†…å®¹å’Œç¼ºå¤±éƒ¨åˆ†**

éœ€è¦ç¡®è®¤ä»¥ä¸‹èƒ½åŠ›æ˜¯å¦å·²å®ç°ï¼š
- [ ] åŸºç¡€æ£€æŸ¥æ¸…å•
- [ ] æŒ‰é˜¶æ®µçš„æ£€æŸ¥æ¨¡æ¿
- [ ] è‡ªå®šä¹‰æ£€æŸ¥é¡¹
- [ ] æ£€æŸ¥å†å²
- [ ] è‡ªåŠ¨ä¿®å¤å»ºè®®

---

### Task 40.2: æ·»åŠ é˜¶æ®µæ€§æ£€æŸ¥æ¨¡æ¿

**Files:**
- Modify: `templates/commands/checklist.md`

**Step 1: æ·»åŠ æŒ‰é˜¶æ®µçš„æ£€æŸ¥æ¨¡æ¿**

```markdown
#### é˜¶æ®µæ€§æ£€æŸ¥æ¨¡æ¿

æ ¹æ®åˆ›ä½œé˜¶æ®µè‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„æ£€æŸ¥æ¸…å•ï¼š

##### å†™å‰æ£€æŸ¥ï¼ˆ/checklist --pre-writeï¼‰

åœ¨å¼€å§‹å†™æ–°ç« èŠ‚ä¹‹å‰è¿è¡Œï¼š

```
ğŸ“‹ å†™å‰æ£€æŸ¥ â€” ç¬¬ [N] ç« 
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ä¸Šä¸‹æ–‡å‡†å¤‡ï¼š
  â–¡ å·²é˜…è¯»å‰ä¸€ç« ç»“å°¾ï¼ˆè¡”æ¥ï¼‰
  â–¡ å·²ç¡®è®¤æœ¬ç« è®¡åˆ’ï¼ˆcreative-plan.mdï¼‰
  â–¡ å·²ç¡®è®¤æœ¬ç« ä»»åŠ¡ï¼ˆtasks.mdï¼‰

è§’è‰²å‡†å¤‡ï¼š
  â–¡ æœ¬ç« å‡ºåœºè§’è‰²å·²ç¡®è®¤
  â–¡ è§’è‰²å½“å‰çŠ¶æ€å·²äº†è§£ï¼ˆä½ç½®ã€æƒ…ç»ªã€ç›®æ ‡ï¼‰
  â–¡ è§’è‰²è¯­è¨€æŒ‡çº¹å·²åŠ è½½

æƒ…èŠ‚å‡†å¤‡ï¼š
  â–¡ æœ¬ç« éœ€è¦æ¨è¿›çš„æƒ…èŠ‚çº¿å·²ç¡®è®¤
  â–¡ æœ¬ç« éœ€è¦å¤„ç†çš„ä¼ç¬”å·²ç¡®è®¤
  â–¡ æœ¬ç« çš„çˆ½ç‚¹/é’©å­å·²è§„åˆ’

ä¸–ç•Œè§‚å‡†å¤‡ï¼š
  â–¡ æœ¬ç« æ¶‰åŠçš„åœºæ™¯/åœ°ç‚¹å·²ç¡®è®¤
  â–¡ åŠ›é‡ä½“ç³»ç›¸å…³è®¾å®šå·²ç¡®è®¤ï¼ˆå¦‚æœ‰æˆ˜æ–—ï¼‰
```

##### å†™åæ£€æŸ¥ï¼ˆ/checklist --post-writeï¼‰

åœ¨å®Œæˆç« èŠ‚å†™ä½œåè¿è¡Œï¼š

```
ğŸ“‹ å†™åæ£€æŸ¥ â€” ç¬¬ [N] ç« 
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å†…å®¹è´¨é‡ï¼š
  â–¡ ç« èŠ‚å­—æ•°åœ¨åˆç†èŒƒå›´ï¼ˆ2000-4000 å­—ï¼‰
  â–¡ å¼€å¤´æœ‰å¸å¼•åŠ›ï¼ˆå‰ 200 å­—ï¼‰
  â–¡ ç»“å°¾æœ‰é’©å­
  â–¡ æ— æ˜æ˜¾çš„ AI ç—•è¿¹

ä¸€è‡´æ€§ï¼š
  â–¡ è§’è‰²è¡Œä¸ºç¬¦åˆè®¾å®š
  â–¡ å¯¹è¯ç¬¦åˆè§’è‰²è¯­è¨€æŒ‡çº¹
  â–¡ æ—¶é—´çº¿æ— å†²çª
  â–¡ åŠ›é‡ä½“ç³»æ— çŸ›ç›¾

èŠ‚å¥ï¼š
  â–¡ æœ‰è‡³å°‘ä¸€ä¸ªå°çˆ½ç‚¹
  â–¡ èŠ‚å¥ä¸å‰åç« èŠ‚åè°ƒ
  â–¡ ä¿¡æ¯å¯†åº¦é€‚ä¸­ï¼ˆä¸è¿‡è½½ä¹Ÿä¸ç©ºæ´ï¼‰

è¿½è¸ªï¼š
  â–¡ tracking æ•°æ®å·²åŒæ­¥
  â–¡ æ–°ä¼ç¬”å·²è®°å½•
  â–¡ è§’è‰²çŠ¶æ€å·²æ›´æ–°
```

##### å·æœ«æ£€æŸ¥ï¼ˆ/checklist --volume-endï¼‰

åœ¨å®Œæˆä¸€å·åè¿è¡Œï¼š

```
ğŸ“‹ å·æœ«æ£€æŸ¥ â€” ç¬¬ [N] å·
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç»“æ„å®Œæ•´æ€§ï¼š
  â–¡ æœ¬å·ä¸»è¦å†²çªå·²è§£å†³ï¼ˆæˆ–æ¨å‘é«˜æ½®ï¼‰
  â–¡ æœ¬å·ä¼ç¬”å›æ”¶ç‡ > 70%
  â–¡ æœ¬å·æœ‰æ˜ç¡®çš„é«˜æ½®ç« èŠ‚
  â–¡ å·æœ«æœ‰æ‰¿ä¸Šå¯ä¸‹çš„é’©å­

è§’è‰²å‘å±•ï¼š
  â–¡ ä¸»è§’åœ¨æœ¬å·æœ‰æ˜æ˜¾æˆé•¿/å˜åŒ–
  â–¡ é‡è¦é…è§’æœ‰è¶³å¤Ÿæˆä»½
  â–¡ è§’è‰²å…³ç³»æœ‰æ¨è¿›

èŠ‚å¥å›é¡¾ï¼š
  â–¡ æ•´å·èŠ‚å¥å¼ å¼›æœ‰åº¦
  â–¡ æ— è¿ç»­ 3+ ç« çš„èŠ‚å¥å•ä¸€
  â–¡ çˆ½ç‚¹åˆ†å¸ƒåˆç†

æ•°æ®åŒæ­¥ï¼š
  â–¡ æ‰€æœ‰ tracking æ•°æ®å·²åŒæ­¥
  â–¡ è§’è‰²çŠ¶æ€å·²æ›´æ–°è‡³æœ€æ–°
  â–¡ æƒ…èŠ‚çº¿è¿›åº¦å·²æ›´æ–°
```
```

---

### Task 40.3: æ·»åŠ è‡ªå®šä¹‰æ£€æŸ¥é¡¹

**Files:**
- Modify: `templates/commands/checklist.md`

**Step 1: æ·»åŠ è‡ªå®šä¹‰æ£€æŸ¥é¡¹æ”¯æŒ**

```markdown
#### è‡ªå®šä¹‰æ£€æŸ¥é¡¹

ç”¨æˆ·å¯ä»¥æ·»åŠ è‡ªå·±çš„æ£€æŸ¥é¡¹ï¼Œä¿å­˜åœ¨ `spec/custom-checklist.json` ä¸­ï¼š

**æ·»åŠ **ï¼š`/checklist --add "æ£€æŸ¥é¡¹å†…å®¹" --stage=post-write`
**åˆ é™¤**ï¼š`/checklist --remove [æ£€æŸ¥é¡¹ID]`
**æŸ¥çœ‹**ï¼š`/checklist --custom`

##### è‡ªå®šä¹‰æ£€æŸ¥é¡¹ç¤ºä¾‹

```json
{
  "customChecks": [
    {
      "id": "custom-001",
      "content": "ç¡®è®¤ä¸»è§’æ²¡æœ‰ä½¿ç”¨ã€Œæˆ‘ã€ï¼ˆæœ¬ä¹¦ä¸ºç¬¬ä¸‰äººç§°ï¼‰",
      "stage": "post-write",
      "category": "ä¸€è‡´æ€§"
    },
    {
      "id": "custom-002",
      "content": "ç¡®è®¤æˆ˜æ–—åœºæ™¯ä¸è¶…è¿‡ 800 å­—ï¼ˆæœ¬ä¹¦åè½»æ¾é£æ ¼ï¼‰",
      "stage": "post-write",
      "category": "é£æ ¼"
    }
  ]
}
```
```

---

### Task 40.4: æ·»åŠ è‡ªåŠ¨ä¿®å¤å»ºè®®

**Files:**
- Modify: `templates/commands/checklist.md`

**Step 1: åœ¨æ£€æŸ¥ç»“æœä¸­æ·»åŠ è‡ªåŠ¨ä¿®å¤å»ºè®®**

```markdown
#### è‡ªåŠ¨ä¿®å¤å»ºè®®

å¯¹äºæ£€æŸ¥æœªé€šè¿‡çš„é¡¹ç›®ï¼Œè‡ªåŠ¨ç”Ÿæˆä¿®å¤å»ºè®®ï¼š

```
ğŸ“‹ æ£€æŸ¥ç»“æœ â€” ç¬¬ [N] ç« 
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… é€šè¿‡ï¼š8/12
âš ï¸ è­¦å‘Šï¼š2/12
âŒ æœªé€šè¿‡ï¼š2/12

âŒ æœªé€šè¿‡é¡¹ï¼š

1. ç»“å°¾ç¼ºå°‘é’©å­
   å½“å‰ç»“å°¾ï¼š"ä»–å›åˆ°äº†æˆ¿é—´ï¼Œèººåœ¨åºŠä¸Šç¡ç€äº†ã€‚"
   ä¿®å¤å»ºè®®ï¼š
   A. æ·»åŠ æ‚¬å¿µï¼š"ä»–å›åˆ°æˆ¿é—´ï¼Œå´å‘ç°æ¡Œä¸Šå¤šäº†ä¸€å°ä¿¡â€”â€”ä¸Šé¢åªæœ‰ä¸‰ä¸ªå­—ã€‚"
   B. æ·»åŠ é¢„å‘Šï¼š"ä»–èººåœ¨åºŠä¸Šï¼Œä¸çŸ¥é“æ˜å¤©ç­‰å¾…ä»–çš„å°†æ˜¯ä¸€åœºæ”¹å˜å‘½è¿çš„ç›¸é‡ã€‚"
   â†’ è¿è¡Œ /write --revise ch[N] ä¿®æ”¹ç»“å°¾

2. tracking æ•°æ®æœªåŒæ­¥
   è½åç« èŠ‚ï¼šç¬¬ [N] ç« 
   â†’ è¿è¡Œ /track --sync=ch[N]
```
```

**Step 2: Commit**

```bash
git add templates/commands/checklist.md
git commit -m "feat(checklist): enhance with stage-based templates, custom checks, and auto-fix suggestions"
```
