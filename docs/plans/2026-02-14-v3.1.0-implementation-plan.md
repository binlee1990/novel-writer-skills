# v3.1.0 ç»¼åˆä¼˜åŒ–å®æ–½è®¡åˆ’

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** ä»"ç¦æ­¢åˆ—è¡¨"è½¬å‘"æ™ºèƒ½å¹³è¡¡"çš„AIå»å‘³ç³»ç»Ÿï¼Œæå‡ç”¨æˆ·ä½“éªŒå’ŒåŠŸèƒ½æ‰©å±•

**Architecture:**
- Phase 1: åˆ›å»ºä¸¤ä¸ªååŒå·¥ä½œçš„Skillsï¼ˆwriting-balance + writing-techniquesï¼‰å®ç°æ™ºèƒ½AIå»å‘³
- Phase 2: å¢å¼ºå‘½ä»¤å‘ç°ï¼ˆ/guide + /help-meï¼‰å’Œé”™è¯¯å¤„ç†ï¼ˆç»Ÿä¸€æ¡†æ¶ + è¯Šæ–­ç³»ç»Ÿï¼‰
- Phase 3: æ‰©å±•6ä¸ªgenreçŸ¥è¯†åº“ï¼Œæ·»åŠ AIæ¨¡å‹æ™ºèƒ½é€‰æ‹©ï¼Œä¼˜åŒ–å¤§å‹å‘½ä»¤Tokenæ¶ˆè€—

**Tech Stack:** TypeScript, Markdown (Skills/Commands), Jest (Testing)

**è®¾è®¡æ–‡æ¡£:** `docs/plans/2026-02-14-optimization-design.md`

**æ€»å·¥æœŸ:** 4-7å‘¨ï¼Œåˆ†3ä¸ªPhaseå®æ–½

---

## Phase 1: åˆ›ä½œè´¨é‡æ ¸å¿ƒ - AIå»å‘³æ™ºèƒ½åŒ–ï¼ˆ2-3å‘¨ï¼‰

### Task 1.1: åˆ›å»º writing-balance Skill ç›®å½•ç»“æ„

**Files:**
- Create: `templates/skills/writing-techniques/writing-balance/SKILL.md`
- Create: `templates/skills/writing-techniques/writing-balance/.gitkeep`

**Step 1: åˆ›å»ºç›®å½•ç»“æ„**

```bash
mkdir -p templates/skills/writing-techniques/writing-balance
touch templates/skills/writing-techniques/writing-balance/.gitkeep
```

**Step 2: éªŒè¯ç›®å½•åˆ›å»º**

```bash
ls -la templates/skills/writing-techniques/writing-balance/
```

Expected: ç›®å½•å­˜åœ¨ä¸”åŒ…å« .gitkeep æ–‡ä»¶

**Step 3: æäº¤**

```bash
git add templates/skills/writing-techniques/writing-balance/
git commit -m "chore: create writing-balance skill directory"
```

---

### Task 1.2: ç¼–å†™ writing-balance Skill - æ ¸å¿ƒæ¡†æ¶

**Files:**
- Create: `templates/skills/writing-techniques/writing-balance/SKILL.md`

**Step 1: åˆ›å»ºSkillæ–‡ä»¶å¤´éƒ¨**

åœ¨ `templates/skills/writing-techniques/writing-balance/SKILL.md` ä¸­å†™å…¥ï¼š

```markdown
# Writing Balance - æ™ºèƒ½å†™ä½œå¹³è¡¡ç›‘æ§

## Skillç±»å‹
- **ç±»åˆ«**: writing-techniques
- **æ¿€æ´»æ–¹å¼**: /write å‘½ä»¤è‡ªåŠ¨æ¿€æ´»
- **ä¼˜å…ˆçº§**: é«˜ï¼ˆæ ¸å¿ƒåˆ›ä½œè´¨é‡ä¿éšœï¼‰

## è®¾è®¡ç†å¿µ

ä»"ç¦æ­¢åˆ—è¡¨"è½¬å‘"å¹³è¡¡è¯„åˆ†"â€”â€”ä¸å¼ºåˆ¶100åˆ†ï¼Œ70-85åˆ†å³ä¸ºä¼˜ç§€ã€‚

**æ ¸å¿ƒåŸåˆ™**:
1. **å¹³è¡¡ä¼˜äºå®Œç¾** - å…è®¸é€‚åº¦ä½¿ç”¨AIå¸¸ç”¨è¯ï¼Œä½†è¦æ±‚å¤šæ ·åŒ–
2. **è‡ªç„¶ä¼˜äºæœºæ¢°** - é•¿çŸ­å¥æ··åˆã€è¯æ±‡ä¸°å¯Œã€å±‚æ¬¡åˆ†æ˜
3. **æŒ‡å¯¼ä¼˜äºç¦æ­¢** - ç»™å‡ºæ”¹è¿›å»ºè®®ï¼Œè€Œéç®€å•æ‹’ç»

## åŠŸèƒ½æ¦‚è¿°

å®æ—¶ç›‘æ§å†™ä½œå¹³è¡¡åº¦ï¼Œæä¾›6ä¸ªç»´åº¦çš„è¯„åˆ†å’Œå…·ä½“æ”¹è¿›å»ºè®®ã€‚

---

## æ ¸å¿ƒæŒ‡æ ‡ï¼ˆ6ä¸ªç»´åº¦ï¼‰

### 1. å¥é•¿åˆ†å¸ƒå¹³è¡¡åº¦ (Sentence Length Distribution)
```

**Step 2: è¿è¡Œæ ¼å¼æ£€æŸ¥**

```bash
# ç¡®ä¿Markdownæ ¼å¼æ­£ç¡®
cat templates/skills/writing-techniques/writing-balance/SKILL.md
```

**Step 3: æäº¤**

```bash
git add templates/skills/writing-techniques/writing-balance/SKILL.md
git commit -m "feat: add writing-balance skill framework"
```

---

### Task 1.3: ç¼–å†™ writing-balance Skill - ç»´åº¦1ï¼ˆå¥é•¿åˆ†å¸ƒï¼‰

**Files:**
- Modify: `templates/skills/writing-techniques/writing-balance/SKILL.md`

**Step 1: æ·»åŠ å¥é•¿åˆ†å¸ƒç»´åº¦è¯¦ç»†è¯´æ˜**

åœ¨ `SKILL.md` ä¸­çš„"æ ¸å¿ƒæŒ‡æ ‡"éƒ¨åˆ†æ·»åŠ ï¼š

```markdown
### 1. å¥é•¿åˆ†å¸ƒå¹³è¡¡åº¦ (Sentence Length Distribution)

**æ£€æµ‹æ ‡å‡†**:
- çŸ­å¥ï¼ˆ<12å­—ï¼‰: 30-40%
- ä¸­å¥ï¼ˆ12-25å­—ï¼‰: 40-50%
- é•¿å¥ï¼ˆ>25å­—ï¼‰: 10-20%

**è¯„åˆ†ç®—æ³•**:

```python
# ä¼ªä»£ç ç¤ºä¾‹
def score_sentence_length(sentences):
    short = count(len(s) < 12 for s in sentences)
    medium = count(12 <= len(s) <= 25 for s in sentences)
    long = count(len(s) > 25 for s in sentences)

    total = len(sentences)
    short_pct = short / total
    medium_pct = medium / total
    long_pct = long / total

    # ç†æƒ³åˆ†å¸ƒï¼šçŸ­35% ä¸­50% é•¿15%
    ideal = (0.35, 0.50, 0.15)
    actual = (short_pct, medium_pct, long_pct)

    # è®¡ç®—åå·®ï¼ˆæ¬§æ°è·ç¦»ï¼‰
    deviation = sqrt(sum((a - i)^2 for a, i in zip(actual, ideal)))

    # è½¬æ¢ä¸ºåˆ†æ•°ï¼ˆ0-100ï¼‰
    score = max(0, 100 - deviation * 200)
    return score
```

**ç¤ºä¾‹è¾“å‡º**:
```yaml
å¥é•¿åˆ†å¸ƒï¼š85/100 âœ…
  çŸ­å¥: 38% (ç›®æ ‡30-40%)
  ä¸­å¥: 48% (ç›®æ ‡40-50%)
  é•¿å¥: 14% (ç›®æ ‡10-20%)

æ”¹è¿›å»ºè®®: å½“å‰åˆ†å¸ƒè‰¯å¥½ï¼Œä¿æŒèŠ‚å¥å˜åŒ–
```

**å¸¸è§é—®é¢˜**:
- âŒ çŸ­å¥è¿‡å¤šï¼ˆ>60%ï¼‰â†’ èŠ‚å¥å•ä¸€ï¼Œç¼ºä¹å¼ åŠ›
- âŒ é•¿å¥è¿‡å¤šï¼ˆ>30%ï¼‰â†’ è¯»è€…å®¹æ˜“ç–²åŠ³
- âœ… å¹³è¡¡åˆ†å¸ƒ â†’ èŠ‚å¥è‡ªç„¶ï¼Œé€‚åˆé•¿ç¯‡é˜…è¯»

---
```

**Step 2: éªŒè¯å†…å®¹**

```bash
grep -A 20 "å¥é•¿åˆ†å¸ƒ" templates/skills/writing-techniques/writing-balance/SKILL.md
```

**Step 3: æäº¤**

```bash
git add templates/skills/writing-techniques/writing-balance/SKILL.md
git commit -m "feat(writing-balance): add sentence length distribution dimension"
```

---

### Task 1.4: ç¼–å†™ writing-balance Skill - ç»´åº¦2-6

**Files:**
- Modify: `templates/skills/writing-techniques/writing-balance/SKILL.md`

**Step 1: æ·»åŠ è¯æ±‡ä¸°å¯Œåº¦ç»´åº¦**

```markdown
### 2. è¯æ±‡ä¸°å¯Œåº¦ (Lexical Diversity)

**æ£€æµ‹æ ‡å‡†**:
- TTR (Type-Token Ratio) > 0.65
- é«˜é¢‘è¯ï¼ˆå‡ºç°5æ¬¡+ï¼‰ä¸è¶…è¿‡æ€»è¯æ•°çš„15%
- åŒä¹‰è¯è½®æ¢ï¼ˆ"è¯´"çš„åŒä¹‰è¯ï¼šè®²ã€å¼€å£ã€é“ã€ç­”ã€å›ã€é—®ã€åº”ï¼‰

**è¯„åˆ†ç®—æ³•**:
```python
def score_lexical_diversity(text):
    tokens = tokenize(text)
    types = set(tokens)
    ttr = len(types) / len(tokens)

    # TTR > 0.65 ä¸ºä¼˜ç§€
    if ttr >= 0.65:
        score = 100
    else:
        score = (ttr / 0.65) * 100

    return score, ttr
```

**ç¤ºä¾‹è¾“å‡º**:
```yaml
è¯æ±‡ä¸°å¯Œåº¦ï¼š72/100 âš ï¸
  TTR: 0.58 (ç›®æ ‡>0.65)
  é«˜é¢‘è¯: "è¯´"å‡ºç°8æ¬¡

æ”¹è¿›å»ºè®®:
  - "è¯´"çš„åŒä¹‰è¯ï¼šè®²ã€å¼€å£ã€é“ã€ç­”ã€å›ã€é—®ã€åº”
  - å°è¯•ç”¨åŠ¨ä½œ/è¡¨æƒ…ä»£æ›¿å¯¹è¯æ ‡ç­¾
```

---
```

**Step 2: æ·»åŠ æå†™å±‚æ¬¡æ„Ÿç»´åº¦**

```markdown
### 3. æå†™å±‚æ¬¡æ„Ÿ (Descriptive Depth)

**æ£€æµ‹æ ‡å‡†**:
- æ„Ÿå®˜åˆ†å¸ƒ: è§†è§‰40% | å¬è§‰20% | è§¦/å—…/å‘³40%
- å½¢å®¹è¯å¯†åº¦: 4-8ä¸ª/100å­—
- åŠ¨/å/å½¢å¹³è¡¡: 5:3:2

**è¯„åˆ†ç®—æ³•**:
```python
def score_descriptive_depth(text):
    adjectives = extract_adjectives(text)
    adj_density = len(adjectives) / (len(text) / 100)

    # 4-8ä¸ª/100å­—ä¸ºç†æƒ³
    if 4 <= adj_density <= 8:
        score = 100
    elif adj_density < 4:
        score = (adj_density / 4) * 100
    else:  # > 8
        score = 100 - (adj_density - 8) * 10

    return score
```

**ç¤ºä¾‹è¾“å‡º**:
```yaml
æå†™å±‚æ¬¡ï¼š68/100 âš ï¸
  å½¢å®¹è¯å¯†åº¦: 3.2/100å­— (ç›®æ ‡4-8)
  æ„Ÿå®˜åˆ†å¸ƒ: è§†è§‰85% å¬è§‰10% å…¶ä»–5%

æ”¹è¿›å»ºè®®:
  - å¢åŠ è§¦è§‰æå†™ï¼ˆæ¸©åº¦ã€è´¨æ„Ÿï¼‰
  - å¢åŠ å—…è§‰æå†™ï¼ˆæ°”å‘³ã€é¦™å‘³ï¼‰
  - å½“å‰è¿‡åº¦ä¾èµ–è§†è§‰ï¼Œå°è¯•å¤šæ„Ÿå®˜äº¤å‰
```

---
```

**Step 3: æ·»åŠ æˆè¯­ä½¿ç”¨åº¦ç»´åº¦**

```markdown
### 4. æˆè¯­/å››å­—è¯ä½¿ç”¨åº¦ (Idiom Usage)

**æ£€æµ‹æ ‡å‡†**:
- â‰¤5ä¸ªæˆè¯­/1000å­—
- å£è¯­åŒ–æˆè¯­ä¼˜å…ˆ
- é¿å…è¿ç»­ä½¿ç”¨

**ç™½åå•**ï¼ˆå£è¯­åŒ–æˆè¯­ï¼Œå¯ç”¨ï¼‰:
- ä¸€è¨€éš¾å°½ã€è«åå…¶å¦™ã€ä¸ä»¥ä¸ºç„¶ã€è‹¥æ— å…¶äº‹ã€å¿ƒç…§ä¸å®£
- åŠä¿¡åŠç–‘ã€ç†æ‰€å½“ç„¶ã€é¢é¢ç›¸è§‘ã€ç›®çªå£å‘†ã€å¼ å£ç»“èˆŒ

**é»‘åå•**ï¼ˆæ–‡è¨€æˆè¯­ï¼Œé¿å…ï¼‰:
- è‚è‚ å¯¸æ–­ã€è¸Œèº‡æ»¡å¿—ã€ä»å®¹ä¸è¿«ã€äº”å‘³æ‚é™ˆã€ç™¾æ„Ÿäº¤é›†
- æ¬£å–œè‹¥ç‹‚ã€æ€’ä¸å¯éã€å¿å¿‘ä¸å®‰ã€æƒ´æƒ´ä¸å®‰ã€å¦‚é‡Šé‡è´Ÿ

**è¯„åˆ†ç®—æ³•**:
```python
def score_idiom_usage(text, idioms):
    count = len(idioms)
    limit = len(text) / 1000 * 5  # 5ä¸ª/1000å­—

    if count <= limit:
        score = 100
    else:
        score = max(0, 100 - (count - limit) * 10)

    # æ£€æŸ¥é»‘åå•æˆè¯­
    blacklist_count = count_blacklist_idioms(idioms)
    score -= blacklist_count * 15

    return max(0, score)
```

**ç¤ºä¾‹è¾“å‡º**:
```yaml
æˆè¯­ä½¿ç”¨ï¼š90/100 âœ…
  æ€»æ•°: 2ä¸ª/1000å­— (ç›®æ ‡â‰¤5)
  å£è¯­åŒ–: 2ä¸ª âœ…
  æ–‡è¨€åŒ–: 0ä¸ª âœ…

æ”¹è¿›å»ºè®®: æˆè¯­ä½¿ç”¨åˆç†ï¼Œä¿æŒå½“å‰æ°´å¹³
```

---
```

**Step 4: æ·»åŠ å¥å¼å˜åŒ–åº¦ç»´åº¦**

```markdown
### 5. å¥å¼å˜åŒ–åº¦ (Sentence Pattern Variety)

**æ£€æµ‹æ ‡å‡†**:
- é¿å…è¿ç»­3ä¸ªä»¥ä¸Šç›¸åŒå¥å¼
- ä¸»è°“å®¾/å€’è£…/çœç•¥/ç–‘é—®å¥æ··åˆ
- AIé«˜é¢‘å¥å¼é™åˆ¶é¢‘ç‡ï¼ˆâ‰¤2æ¬¡/1000å­—ï¼‰

**AIé«˜é¢‘å¥å¼**ï¼ˆéœ€è¦é™åˆ¶é¢‘ç‡ï¼‰:
1. "åœ¨...ä¸‹" - åœ¨æœˆå…‰çš„ç…§è€€ä¸‹
2. "ä»¿ä½›...ä¸€èˆ¬" - å¿«å¾—ä»¿ä½›ä¸€é˜µé£ä¸€èˆ¬
3. "æ­¤æ—¶æ­¤åˆ»" - æ­¤æ—¶æ­¤åˆ»ï¼Œå¥¹çš„å¿ƒæƒ…
4. "è®©...è®©..." - æ¸©çƒ­çš„è§¦æ„Ÿè®©å¥¹çš„æ€ç»ª
5. "ç„¶è€Œ" - ç„¶è€Œï¼Œäº‹æƒ…å¹¶ä¸åƒ

**è¯„åˆ†ç®—æ³•**:
```python
def score_pattern_variety(sentences):
    patterns = extract_patterns(sentences)
    consecutive = max_consecutive_same_pattern(patterns)
    ai_patterns = count_ai_patterns(sentences)

    # è¿ç»­ç›¸åŒå¥å¼æ‰£åˆ†
    score = 100 - max(0, consecutive - 2) * 20

    # AIé«˜é¢‘å¥å¼æ‰£åˆ†
    ai_limit = len(sentences) / 1000 * 2
    if ai_patterns > ai_limit:
        score -= (ai_patterns - ai_limit) * 10

    return max(0, score)
```

**ç¤ºä¾‹è¾“å‡º**:
```yaml
å¥å¼å˜åŒ–ï¼š65/100 âš ï¸
  è¿ç»­ç›¸åŒå¥å¼: 5ä¸ªä¸»è°“å®¾ç»“æ„
  AIé«˜é¢‘å¥å¼: "åœ¨...ä¸‹"å‡ºç°3æ¬¡

æ”¹è¿›å»ºè®®:
  - å¢åŠ å€’è£…å¥ï¼š"é—¨ï¼Œå¼€äº†"è€Œé"é—¨å¼€äº†"
  - å¢åŠ çœç•¥å¥ï¼š"ä»–èµ°äº†ã€‚æ²¡å›å¤´ã€‚"
  - å‡å°‘"åœ¨...ä¸‹"å¥å¼ï¼ˆå½“å‰3æ¬¡ï¼Œå»ºè®®â‰¤2æ¬¡/1000å­—ï¼‰
```

---
```

**Step 5: æ·»åŠ è‡ªç„¶åº¦è¯„åˆ†ç»´åº¦**

```markdown
### 6. è‡ªç„¶åº¦è¯„åˆ† (Naturalness Score)

**æ£€æµ‹æ ‡å‡†**:
- æ ‡ç‚¹å˜åŒ–: å¥å·70% | é—®å·10% | æ„Ÿå¹å·5% | é€—å·15%
- æ®µè½é•¿åº¦: 1-6å¥æ··åˆ
- å¯¹è¯çœŸå®: è¯­æ°”è¯ã€å£å¤´ç¦…ã€æœªå®Œæˆå¥

**è¯„åˆ†ç®—æ³•**:
```python
def score_naturalness(text, paragraphs, dialogues):
    # æ ‡ç‚¹åˆ†å¸ƒè¯„åˆ†
    punctuation_score = score_punctuation_variety(text)

    # æ®µè½é•¿åº¦è¯„åˆ†
    para_lengths = [count_sentences(p) for p in paragraphs]
    para_score = score_paragraph_variety(para_lengths)

    # å¯¹è¯çœŸå®åº¦è¯„åˆ†
    dialogue_score = score_dialogue_naturalness(dialogues)

    return (punctuation_score + para_score + dialogue_score) / 3
```

**ç¤ºä¾‹è¾“å‡º**:
```yaml
è‡ªç„¶åº¦ï¼š80/100 âœ…
  æ ‡ç‚¹åˆ†å¸ƒ: å¥å·75% é—®å·8% æ„Ÿå¹å·3% é€—å·14%
  æ®µè½é•¿åº¦: 1-5å¥æ··åˆ âœ…
  å¯¹è¯çœŸå®åº¦: åŒ…å«è¯­æ°”è¯"å•Šã€å§" âœ…

æ”¹è¿›å»ºè®®: è‡ªç„¶åº¦è‰¯å¥½ï¼Œå¯¹è¯çœŸå®æ„Ÿå¼º
```

---
```

**Step 6: æäº¤æ‰€æœ‰ç»´åº¦**

```bash
git add templates/skills/writing-techniques/writing-balance/SKILL.md
git commit -m "feat(writing-balance): add dimensions 2-6 (lexical diversity to naturalness)"
```

---

### Task 1.5: ç¼–å†™ writing-balance Skill - ç»¼åˆè¯„ä¼°è¾“å‡º

**Files:**
- Modify: `templates/skills/writing-techniques/writing-balance/SKILL.md`

**Step 1: æ·»åŠ ç»¼åˆè¯„ä¼°æ ¼å¼**

åœ¨ `SKILL.md` æœ«å°¾æ·»åŠ ï¼š

```markdown
---

## ç»¼åˆè¯„ä¼°è¾“å‡ºæ ¼å¼

å½“ç”¨æˆ·ä½¿ç”¨ `/write` å‘½ä»¤å®Œæˆä¸€æ®µå†™ä½œåï¼Œè‡ªåŠ¨è¾“å‡ºå¹³è¡¡åº¦è¯„ä¼°æŠ¥å‘Šï¼š

```yaml
ğŸ“Š å†™ä½œå¹³è¡¡åº¦è¯„ä¼°æŠ¥å‘Š

æ€»åˆ†ï¼š78/100 (è‰¯å¥½)

è¯¦ç»†ç»´åº¦ï¼š
  âœ… å¥é•¿åˆ†å¸ƒï¼š85/100 (çŸ­30% ä¸­50% é•¿20%)
  âš ï¸ è¯æ±‡ä¸°å¯Œåº¦ï¼š72/100 ("è¯´"å‡ºç°8æ¬¡ï¼Œå»ºè®®è½®æ¢)
  âš ï¸ æå†™å±‚æ¬¡ï¼š68/100 (å½¢å®¹è¯åå°‘ï¼Œå»ºè®®å¢åŠ è§¦è§‰æå†™)
  âœ… æˆè¯­ä½¿ç”¨ï¼š90/100 (ä»…2ä¸ªï¼Œä¸”å‡ä¸ºå£è¯­åŒ–)
  âš ï¸ å¥å¼å˜åŒ–ï¼š65/100 (è¿ç»­5ä¸ªä¸»è°“å®¾ç»“æ„)
  âœ… è‡ªç„¶åº¦ï¼š80/100 (æ®µè½é•¿åº¦è‡ªç„¶ï¼Œå¯¹è¯çœŸå®)

æ”¹è¿›å»ºè®®ï¼ˆä¼˜å…ˆçº§æ’åºï¼‰ï¼š
  1. ã€é«˜ã€‘å¢åŠ 1-2ä¸ªé•¿å¥ï¼ˆ>30å­—ï¼‰ä¸°å¯ŒèŠ‚å¥
  2. ã€ä¸­ã€‘"è¯´"çš„åŒä¹‰è¯ï¼šè®²ã€å¼€å£ã€é“ã€ç­”
  3. ã€ä¸­ã€‘ç¬¬3æ®µåŠ å…¥å—…è§‰æå†™ï¼ˆå’–å•¡é¦™æ°”ï¼‰
  4. ã€ä½ã€‘å°è¯•å€’è£…å¥å¢åŠ å¥å¼å˜åŒ–
```

**è¯„åˆ†ç­‰çº§**:
- 90-100: ä¼˜ç§€ â­â­â­â­â­
- 80-89: è‰¯å¥½ â­â­â­â­
- 70-79: è‰¯å¥½ â­â­â­
- 60-69: åŠæ ¼ âš ï¸ éœ€æ”¹è¿›
- <60: ä¸åŠæ ¼ âŒ éœ€è¦å¤§å¹…è°ƒæ•´

**è¯´æ˜**:
- æ€»åˆ†70-85ä¸ºæ¨èèŒƒå›´ï¼ˆè¿‡é«˜å¯èƒ½è¿‡åº¦ä¼˜åŒ–ï¼‰
- ä¸è¦è¿½æ±‚100åˆ†ï¼ˆä¼šå¯¼è‡´åƒµåŒ–ï¼‰
- ç»´åº¦é—´å¯ä»¥äº’è¡¥ï¼ˆå¦‚å¥å¼å˜åŒ–ç•¥ä½ä½†è¯æ±‡ä¸°å¯Œåº¦é«˜ï¼‰

---

## é…ç½®åŒ–æ”¯æŒ

ç”¨æˆ·å¯åœ¨ `specification.md` ä¸­è‡ªå®šä¹‰é˜ˆå€¼ï¼š

```yaml
writing_balance_config:
  strictness: medium  # strict | medium | loose

  # è‡ªå®šä¹‰ç›®æ ‡åˆ†å¸ƒ
  sentence_length_target:
    short: 35%        # é»˜è®¤30-40%
    medium: 50%       # é»˜è®¤40-50%
    long: 15%         # é»˜è®¤10-20%

  # æˆè¯­é…ç½®
  allow_idioms: true
  idiom_limit_per_1000: 5

  # å½¢å®¹è¯å¯†åº¦
  adjective_density: 6  # per 100 words

  # è‡ªå®šä¹‰ç™½åå•ï¼ˆé¢å¤–å…è®¸çš„è¯ï¼‰
  custom_whitelist:
    - "æŸä¸ªç‰¹æ®Šæˆè¯­"

  # è‡ªå®šä¹‰é»‘åå•ï¼ˆé¢å¤–ç¦ç”¨çš„è¯ï¼‰
  custom_blacklist:
    - "æŸä¸ªè®¨åŒçš„è¯"
```

**ä¸¥æ ¼åº¦æ¨¡å¼**:
- **strict**: é˜ˆå€¼æ›´ä¸¥æ ¼ï¼Œè¯„åˆ†æ›´ä¸¥è‹›ï¼ˆé€‚åˆè¿½æ±‚æè‡´å»AIçš„ä½œè€…ï¼‰
- **medium**: é»˜è®¤å¹³è¡¡æ¨¡å¼ï¼ˆæ¨èï¼‰
- **loose**: å®½æ¾æ¨¡å¼ï¼Œå…è®¸æ›´å¤šçµæ´»æ€§ï¼ˆé€‚åˆå¿«é€Ÿåˆ›ä½œï¼‰

---

## ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯1ï¼šå†™ä½œä¸­å®æ—¶ç›‘æ§

```
ç”¨æˆ·: /write ç»§ç»­å†™ç¬¬3ç« 

[AIç”Ÿæˆ500å­—å†…å®¹]

AIè‡ªåŠ¨è¯„ä¼°:
ğŸ“Š å†™ä½œå¹³è¡¡åº¦è¯„ä¼°æŠ¥å‘Š
æ€»åˆ†ï¼š82/100 (è‰¯å¥½) â­â­â­â­

è¯¦ç»†ç»´åº¦ï¼š
  âœ… å¥é•¿åˆ†å¸ƒï¼š88/100
  âœ… è¯æ±‡ä¸°å¯Œåº¦ï¼š85/100
  âš ï¸ æå†™å±‚æ¬¡ï¼š70/100 (å¯å¢åŠ å—…è§‰æå†™)
  âœ… æˆè¯­ä½¿ç”¨ï¼š95/100
  âœ… å¥å¼å˜åŒ–ï¼š80/100
  âœ… è‡ªç„¶åº¦ï¼š85/100

æ”¹è¿›å»ºè®®ï¼š
  - å½“å‰å¹³è¡¡åº¦è‰¯å¥½ï¼Œå¯ç»§ç»­ä¿æŒ
  - å¯é€‰ï¼šå¢åŠ 1-2å¤„å—…è§‰æå†™å¢å¼ºæ²‰æµ¸æ„Ÿ
```

### åœºæ™¯2ï¼šç”¨æˆ·ä¸»åŠ¨æ£€æŸ¥

```
ç”¨æˆ·: /analyze --focus=balance --range ch-10

[AIåˆ†æç¬¬10ç« ]

è¾“å‡º:
ğŸ“Š ç¬¬10ç«  å†™ä½œå¹³è¡¡åº¦è¯„ä¼°

æ€»åˆ†ï¼š68/100 (åŠæ ¼) âš ï¸

è¯¦ç»†ç»´åº¦ï¼š
  âš ï¸ å¥é•¿åˆ†å¸ƒï¼š55/100 (çŸ­å¥72%ï¼Œè¿‡å¤š)
  âš ï¸ è¯æ±‡ä¸°å¯Œåº¦ï¼š60/100 (TTR=0.52)
  âœ… æå†™å±‚æ¬¡ï¼š85/100
  âœ… æˆè¯­ä½¿ç”¨ï¼š90/100
  âš ï¸ å¥å¼å˜åŒ–ï¼š58/100 (è¿ç»­10ä¸ªä¸»è°“å®¾)
  âœ… è‡ªç„¶åº¦ï¼š80/100

æ”¹è¿›å»ºè®®ï¼ˆä¼˜å…ˆçº§æ’åºï¼‰ï¼š
  1. ã€é«˜ã€‘å¢åŠ 5-8ä¸ªé•¿å¥ï¼ˆ>30å­—ï¼‰ï¼Œå½“å‰é•¿å¥ä»…3%
  2. ã€é«˜ã€‘å¥å¼è¿‡äºå•ä¸€ï¼Œå°è¯•å€’è£…/çœç•¥/ç–‘é—®å¥
  3. ã€ä¸­ã€‘æ‰©å±•è¯æ±‡ï¼Œå‚è€ƒåŒä¹‰è¯è¡¨
```

---

## ä¸ anti-ai-v4 çš„å¯¹æ¯”

| ç»´åº¦ | anti-ai-v4ï¼ˆç¦æ­¢åˆ—è¡¨ï¼‰ | writing-balanceï¼ˆå¹³è¡¡è¯„åˆ†ï¼‰ |
|------|----------------------|---------------------------|
| **æ–¹æ³•** | 200+ç¦ç”¨è¯ + 7å±‚è§„åˆ™ | 6ä¸ªç»´åº¦è¯„åˆ† |
| **ç»“æœ** | é›¶AIå‘³ï¼Œä½†æ–‡å­¦æ€§å·® | å¹³è¡¡AIè¯†åˆ«åº¦ä¸è‡ªç„¶è¡¨è¾¾ |
| **å¥é•¿** | å¼ºåˆ¶80%<15å­— | çµæ´»åˆ†å¸ƒï¼ˆçŸ­30-40% ä¸­40-50% é•¿10-20%ï¼‰ |
| **å½¢å®¹è¯** | é™åˆ¶3ä¸ª/100å­— | å…è®¸4-8ä¸ª/100å­— |
| **æˆè¯­** | å®Œå…¨ç¦ç”¨ | å…è®¸å£è¯­æˆè¯­ï¼ˆâ‰¤5ä¸ª/1000å­—ï¼‰ |
| **ç”¨æˆ·ä½“éªŒ** | è§„åˆ™æœºæ¢°ï¼Œç¼ºä¹çµæ´»æ€§ | ç»™å‡ºå»ºè®®ï¼Œç”¨æˆ·å¯é€‰æ‹© |

---

## å®æ–½å»ºè®®

1. **æ¸è¿›å¼å¯ç”¨**: å…ˆç”¨ `loose` æ¨¡å¼ç†Ÿæ‚‰ç³»ç»Ÿï¼Œå†é€æ­¥è°ƒæ•´ä¸º `medium`
2. **ä¿ç•™v4é€‰é¡¹**: å¦‚æœç”¨æˆ·ç¡®å®éœ€è¦æç«¯å»AIï¼Œå¯ä»¥åœ¨é…ç½®ä¸­å¯ç”¨ `anti-ai-v4-mode: true`
3. **å®šæœŸæ ¡å‡†**: æ¯å†™å®Œ10ç« åï¼Œè¿è¡Œä¸€æ¬¡å…¨ç« èŠ‚å¹³è¡¡åº¦åˆ†æ
4. **ä¸ªæ€§åŒ–é…ç½®**: æ ¹æ®è‡ªå·±çš„å†™ä½œé£æ ¼è°ƒæ•´é˜ˆå€¼

---

## æŠ€æœ¯å®ç°è¯´æ˜

**For Claude Code**:
- æœ¬Skillåœ¨ `/write` å‘½ä»¤ç»“æŸåè‡ªåŠ¨æ¿€æ´»
- è¯»å–ç”¨æˆ·é…ç½®ï¼ˆå¦‚æœ‰ï¼‰ï¼š`specification.md` ä¸­çš„ `writing_balance_config`
- åˆ†æç”Ÿæˆçš„æ–‡æœ¬ï¼Œè®¡ç®—6ä¸ªç»´åº¦è¯„åˆ†
- è¾“å‡ºç»¼åˆæŠ¥å‘Šå’Œæ”¹è¿›å»ºè®®

**æ³¨æ„**:
- è¯„åˆ†ç®—æ³•ä¸ºä¼ªä»£ç ç¤ºä¾‹ï¼Œå®é™…å®ç°ç”±AIæ ¹æ®æ–‡æœ¬å†…å®¹åˆ†æ
- ä¸éœ€è¦å¤æ‚çš„NLPåº“ï¼ŒåŸºäºæ­£åˆ™è¡¨è¾¾å¼å’Œç®€å•ç»Ÿè®¡å³å¯
- é‡ç‚¹æ˜¯ç»™å‡ºæœ‰ä»·å€¼çš„å»ºè®®ï¼Œè€Œéç²¾ç¡®çš„æ•°å€¼

---

## ç‰ˆæœ¬å†å²

- **v1.0** (2026-02-14): åˆå§‹ç‰ˆæœ¬ï¼Œ6ä¸ªç»´åº¦è¯„åˆ†ç³»ç»Ÿ
- æ›¿ä»£: anti-ai-v4.mdï¼ˆä¿ç•™ä¸º anti-ai-v4-deprecated.mdï¼‰

---

## å‚è€ƒèµ„æ–™

- è®¾è®¡æ–‡æ¡£: `docs/plans/2026-02-14-optimization-design.md`
- æ›¿ä»£è§„åˆ™: `templates/knowledge-base/requirements/anti-ai-v4-deprecated.md`
- ååŒSkill: `templates/skills/writing-techniques/writing-techniques/SKILL.md`
```

**Step 2: éªŒè¯å®Œæ•´æ€§**

```bash
wc -l templates/skills/writing-techniques/writing-balance/SKILL.md
# åº”è¯¥çº¦800è¡Œå·¦å³
```

**Step 3: æäº¤**

```bash
git add templates/skills/writing-techniques/writing-balance/SKILL.md
git commit -m "feat(writing-balance): add comprehensive evaluation and configuration support"
```

---

### Task 1.6: åˆ›å»º writing-techniques Skillï¼ˆæ¡†æ¶ï¼‰

**Files:**
- Create: `templates/skills/writing-techniques/writing-techniques/SKILL.md`

**Step 1: åˆ›å»ºç›®å½•**

```bash
mkdir -p templates/skills/writing-techniques/writing-techniques
```

**Step 2: åˆ›å»ºSkillæ–‡ä»¶ï¼ˆæ¡†æ¶éƒ¨åˆ†ï¼‰**

```markdown
# Writing Techniques - å†™ä½œæŠ€å·§æ•™å­¦

## Skillç±»å‹
- **ç±»åˆ«**: writing-techniques
- **æ¿€æ´»æ–¹å¼**: /write å‘½ä»¤è‡ªåŠ¨æ¿€æ´»
- **ä¼˜å…ˆçº§**: é«˜ï¼ˆä¸ writing-balance ååŒå·¥ä½œï¼‰

## è®¾è®¡ç†å¿µ

**ä»æ­£é¢æ•™æˆå†™ä½œæŠ€å·§ï¼Œè€Œéè´Ÿé¢ç¦æ­¢**

ä¸ `writing-balance` çš„å…³ç³»ï¼š
- writing-balance: è¯„ä¼°"å†™å¾—å¥½ä¸å¥½"
- writing-techniques: æ•™æˆ"æ€ä¹ˆå†™æ›´å¥½"

## åŠŸèƒ½æ¦‚è¿°

æä¾›8ä¸ªæ¨¡å—çš„å†™ä½œæŠ€å·§æ•™å­¦ï¼Œå¸®åŠ©AIå’Œç”¨æˆ·æŒæ¡è‡ªç„¶ã€ç”ŸåŠ¨ã€æœ‰å±‚æ¬¡çš„å†™ä½œæ–¹æ³•ã€‚

---

## æ•™å­¦æ¨¡å—ï¼ˆ8ä¸ªï¼‰

### 1. æ ‡ç‚¹ç¬¦å·è‰ºæœ¯

**æ ¸å¿ƒåŸåˆ™**: æ ‡ç‚¹ç¬¦å·ä¸ä»…æ˜¯è¯­æ³•å·¥å…·ï¼Œæ›´æ˜¯èŠ‚å¥å’Œæƒ…æ„Ÿçš„è½½ä½“

#### çœç•¥å·çš„3ç§ç”¨æ³•

**1.1 æ€è€ƒåœé¡¿**
```
ä»–æƒ³äº†æƒ³......
â†’ âŒ AIåŒ–ï¼ˆæœºæ¢°åœé¡¿ï¼‰

ä»–æƒ³äº†æƒ³ã€‚
â†’ âœ… è‡ªç„¶ï¼ˆç®€æ´æœ‰åŠ›ï¼‰

ä»–æƒ³äº†æƒ³ï¼ŒåŠå¤©æ²¡è¯´è¯ã€‚
â†’ âœ… è‡ªç„¶ï¼ˆç”¨åŠ¨ä½œä»£æ›¿çœç•¥å·ï¼‰
```

**1.2 æœªå°½ä¹‹æ„**
```
"æˆ‘...æˆ‘ä¸æ˜¯æ•…æ„çš„......"
â†’ âœ… å¯ç”¨ï¼ˆè¡¨è¾¾çŠ¹è±«ï¼‰

"æˆ‘ä¸æ˜¯æ•…æ„çš„ã€‚"å¥¹ä½ç€å¤´ã€‚
â†’ âœ… æ›´å¥½ï¼ˆç”¨åŠ¨ä½œçƒ˜æ‰˜æƒ…ç»ªï¼‰
```

**1.3 è¯­éŸ³å»¶é•¿**
```
"å•Šâ€”â€”"
â†’ âœ… ç”¨ç ´æŠ˜å·è€Œéçœç•¥å·
```

**ä½¿ç”¨å»ºè®®**:
- æ¯1000å­—æœ€å¤š3-5ä¸ªçœç•¥å·
- ä¼˜å…ˆç”¨åŠ¨ä½œ/è¡¨æƒ…ä»£æ›¿
- é¿å…"æƒ³äº†æƒ³......"è¿™ç§AIåŒ–ç”¨æ³•

---

#### ç ´æŠ˜å·çš„èŠ‚å¥æ§åˆ¶

**2.1 è½¬æŠ˜å¼ºè°ƒ**
```
ä»–æ‰“å¼€é—¨â€”â€”æ„£ä½äº†ã€‚
â†’ âœ… åˆ¶é€ æ‚¬å¿µæ„Ÿ
```

**2.2 è§£é‡Šè¯´æ˜**
```
å¥¹ç¬‘äº†â€”â€”é‚£æ˜¯ä¸€ç§å¾ˆå¤æ‚çš„ç¬‘ã€‚
â†’ âš ï¸ AIåŒ–ï¼ˆè¿‡åº¦è§£é‡Šï¼‰

å¥¹ç¬‘äº†ã€‚ç¬‘å¾—æœ‰ç‚¹å¤æ‚ã€‚
â†’ âœ… æ›´è‡ªç„¶ï¼ˆæ‹†åˆ†å¥å­ï¼‰
```

**2.3 å£°éŸ³å»¶é•¿**
```
"ä¸â€”â€”"
â†’ âœ… è¡¨è¾¾æƒŠæ/æ‹’ç»
```

---

#### å¥å·vsé€—å·çš„èŠ‚å¥æŠŠæ§

**å¿«èŠ‚å¥**ï¼ˆçŸ­å¥ + å¥å·ï¼‰:
```
é—¨å¼€äº†ã€‚
ä»–è¿›æ¥ã€‚
çœ‹äº†å¥¹ä¸€çœ¼ã€‚
è½¬èº«èµ°äº†ã€‚

â†’ âœ… ç´§å¼ æ„Ÿã€å†³ç»æ„Ÿ
```

**æ…¢èŠ‚å¥**ï¼ˆé•¿å¥ + é€—å·ï¼‰:
```
é—¨ç¼“ç¼“æ‰“å¼€ï¼Œä»–èµ°è¿›æ¥ï¼Œçœ‹äº†å¥¹ä¸€çœ¼ï¼Œç„¶åè½¬èº«èµ°äº†ã€‚

â†’ âš ï¸ ç¼ºä¹åœé¡¿ï¼Œä¸€å£æ°”è¯´å®Œ
```

**å¹³è¡¡èŠ‚å¥**:
```
é—¨å¼€äº†ï¼Œä»–è¿›æ¥ã€‚
çœ‹äº†å¥¹ä¸€çœ¼ï¼Œè½¬èº«èµ°äº†ã€‚

â†’ âœ… é•¿çŸ­å¥ç»“åˆï¼ŒèŠ‚å¥è‡ªç„¶
```

---

### 2. å¥å¼å˜åŒ–æŠ€å·§

**æ ¸å¿ƒåŸåˆ™**: é¿å…è¿ç»­ç›¸åŒå¥å¼ï¼Œè¥é€ èŠ‚å¥å˜åŒ–

#### 2.1 é•¿çŸ­å¥é…åˆ

**"é•¿é“ºå« + çŸ­ç‚¹é¢˜"æ¨¡å¼**:
```
çª—å¤–çš„é›¨è¶Šä¸‹è¶Šå¤§ï¼Œé›¨ç‚¹æ‰“åœ¨ç»ç’ƒä¸Šå‘å‡ºå™¼å•ªå£°ï¼Œ
è·¯ä¸Šçš„è¡Œäººæ‰“ç€ä¼åŒ†åŒ†èµ°è¿‡ï¼Œæ•´æ¡è¡—ç¬¼ç½©åœ¨ç°è’™è’™çš„é›¨é›¾ä¸­ã€‚
å¾ˆå†·ã€‚

â†’ âœ… é•¿å¥é“ºå«æ°›å›´ï¼ŒçŸ­å¥ç‚¹é¢˜æƒ…ç»ª
```

**"çŸ­èµ· + é•¿æ‰¿ + çŸ­è½¬"æ¨¡å¼**:
```
é—¨å¼€äº†ã€‚ï¼ˆçŸ­ï¼‰
ä»–ç«™åœ¨é—¨å£ï¼Œæ‰‹é‡Œæ‹¿ç€ä¸€æŠŠä¼ï¼Œèº«ä¸Šçš„è¡£æœæ¹¿äº†å¤§åŠï¼Œ
å¤´å‘ä¸Šè¿˜æ»´ç€æ°´ã€‚ï¼ˆé•¿ï¼‰
å¥¹æ„£ä½äº†ã€‚ï¼ˆçŸ­ï¼‰

â†’ âœ… èŠ‚å¥æœ‰èµ·ä¼
```

---

#### 2.2 å€’è£…å¼ºè°ƒ

**æ­£å¸¸è¯­åº**:
```
é—¨å¼€äº†ã€‚
â†’ å¹³é“ºç›´å™
```

**å€’è£…è¯­åº**:
```
é—¨ï¼Œå¼€äº†ã€‚
â†’ âœ… å¼ºè°ƒ"é—¨"ï¼Œåˆ¶é€ æ‚¬å¿µ

å¼€äº†ï¼Œé—¨ã€‚
â†’ âŒ è¿‡åº¦å€’è£…ï¼Œä¸è‡ªç„¶
```

**é€‚ç”¨åœºæ™¯**:
- æƒ…ç»ªè½¬æŠ˜ç‚¹
- æ‚¬å¿µæ­ç¤ºå‰
- å¼ºè°ƒæŸä¸ªå…³é”®åŠ¨ä½œ/ç‰©å“

---

#### 2.3 çœç•¥å¥çš„ç•™ç™½

**å®Œæ•´å¥**:
```
ä»–èµ°äº†ï¼Œæ²¡æœ‰å›å¤´ã€‚
â†’ æ­£å¸¸è¡¨è¾¾
```

**çœç•¥å¥**:
```
ä»–èµ°äº†ã€‚
æ²¡å›å¤´ã€‚

â†’ âœ… ç•™ç™½ï¼Œæ›´æœ‰åŠ›é‡æ„Ÿ
```

**è¿ç»­çœç•¥**:
```
é—¨ã€‚
å¼€äº†ã€‚
ä»–ã€‚
è¿›æ¥ã€‚

â†’ âŒ è¿‡åº¦çœç•¥ï¼Œå˜æˆç”µæŠ¥ä½“
```

**ä½¿ç”¨å»ºè®®**:
- æ¯æ®µæœ€å¤š1-2ä¸ªçœç•¥å¥
- ç”¨äºæƒ…ç»ªé«˜æ½®æˆ–è½¬æŠ˜ç‚¹
- é¿å…è¿ç»­ä½¿ç”¨

---

### 3. æå†™æ‰‹æ³•

**æ ¸å¿ƒåŸåˆ™**: äº”æ„Ÿäº¤å‰ã€åŠ¨é™ç»“åˆã€ä¾§é¢çƒ˜æ‰˜

#### 3.1 äº”æ„Ÿäº¤å‰æå†™

**åªç”¨è§†è§‰**ï¼ˆAIå¸¸è§ï¼‰:
```
å¥¹ç«™åœ¨çª—å‰ï¼Œçœ‹ç€å¤–é¢çš„é›¨ã€‚
æœˆå…‰ç…§åœ¨å¥¹è„¸ä¸Šï¼Œæ˜¾å¾—å¾ˆç¾ã€‚

â†’ âš ï¸ å•ä¸€æ„Ÿå®˜ï¼Œç¼ºä¹æ²‰æµ¸æ„Ÿ
```

**äº”æ„Ÿäº¤å‰**:
```
å¥¹ç«™åœ¨çª—å‰ã€‚
é›¨æ°´æ•²æ‰“ç»ç’ƒï¼Œå‘å‡ºç»†ç¢çš„å£°éŸ³ã€‚ï¼ˆå¬è§‰ï¼‰
ç©ºæ°”é‡Œæœ‰è‚¡æ½®æ¹¿çš„å‘³é“ã€‚ï¼ˆå—…è§‰ï¼‰
æœˆå…‰å†·å†·åœ°æ‰“åœ¨å¥¹è„¸ä¸Šã€‚ï¼ˆè§†è§‰ + è§¦è§‰ï¼‰

â†’ âœ… å¤šæ„Ÿå®˜ï¼Œæ²‰æµ¸æ„Ÿå¼º
```

**äº”æ„Ÿåˆ†å¸ƒå»ºè®®**:
- è§†è§‰: 40%ï¼ˆä¸»å¯¼ï¼Œä½†ä¸å”¯ä¸€ï¼‰
- å¬è§‰: 20%ï¼ˆè¥é€ æ°›å›´ï¼‰
- è§¦è§‰/å—…è§‰/å‘³è§‰: 40%ï¼ˆç»†èŠ‚ï¼Œè®°å¿†ç‚¹ï¼‰

---

#### 3.2 åŠ¨é™ç»“åˆ

**åªå†™é™æ€**:
```
æˆ¿é—´å¾ˆå®‰é™ã€‚
å¥¹ååœ¨æ¤…å­ä¸Šã€‚
æ¡Œä¸Šæ”¾ç€ä¸€æ¯å’–å•¡ã€‚

â†’ âš ï¸ ç”»é¢å‘†æ¿
```

**åŠ¨é™ç»“åˆ**:
```
æˆ¿é—´å¾ˆå®‰é™ã€‚
å¥¹ååœ¨æ¤…å­ä¸Šï¼Œæ‰‹æŒ‡åœ¨æ¡Œé¢ä¸Šè½»è½»æ•²ç€ã€‚ï¼ˆåŠ¨ï¼‰
å’–å•¡è¿˜å†’ç€çƒ­æ°”ã€‚ï¼ˆåŠ¨ï¼‰

â†’ âœ… ç”»é¢æœ‰ç”Ÿå‘½åŠ›
```

---

#### 3.3 ä¾§é¢çƒ˜æ‰˜

**ç›´æ¥æå†™**ï¼ˆAIå¸¸è§ï¼‰:
```
å¥¹å¾ˆç¾ã€‚
â†’ âš ï¸ ç©ºæ´æ— åŠ›
```

**ä¾§é¢çƒ˜æ‰˜**:
```
è·¯è¿‡çš„äººéƒ½åœ¨çœ‹å¥¹ã€‚
â†’ âœ… ç”¨ä»–äººååº”çƒ˜æ‰˜

ä»–ç¬¬ä¸€æ¬¡è§åˆ°å¥¹ï¼Œæ„£äº†å¥½å‡ ç§’ã€‚
â†’ âœ… ç”¨ä»–äººååº”çƒ˜æ‰˜
```

**ä½¿ç”¨åœºæ™¯**:
- æå†™äººç‰©é­…åŠ›
- æå†™åœºæ™¯éœ‡æ’¼åŠ›
- æå†™æƒ…ç»ªå¼ºåº¦

---

### 4. å¯¹è¯çœŸå®åŒ–

**æ ¸å¿ƒåŸåˆ™**: è®©å¯¹è¯åƒçœŸäººè¯´è¯ï¼Œè€Œéä¹¦é¢è¯­

#### 4.1 è¯­æ°”è¯è‡ªç„¶ä½¿ç”¨

**AIåŒ–å¯¹è¯**ï¼ˆä¹¦é¢è¯­ï¼‰:
```
"ä½ æ€ä¹ˆèƒ½è¿™æ ·ï¼Ÿ"å¥¹æ„¤æ€’åœ°è¯´ã€‚
â†’ âš ï¸ ç”Ÿç¡¬
```

**çœŸäººå¯¹è¯**:
```
"ä½ æ€ä¹ˆèƒ½è¿™æ ·å•Šï¼Ÿ"
"ä½ è¿™æ ·ç®—ä»€ä¹ˆå˜›ã€‚"
"å“ï¼Œä½ åˆ«è¿™æ ·ã€‚"

â†’ âœ… è¯­æ°”è¯ï¼šå•Šã€å§ã€å‘¢ã€å“¦ã€å˜›ã€å“
```

**ä½¿ç”¨å»ºè®®**:
- æ¯3-5å¥å¯¹è¯ä¸­ç”¨1ä¸ªè¯­æ°”è¯
- ä¸åŒè§’è‰²ç”¨ä¸åŒè¯­æ°”è¯ï¼ˆäººç‰©æ ‡ç­¾ï¼‰
- é¿å…è¿‡åº¦ä½¿ç”¨ï¼ˆæ¯å¥è¯éƒ½æœ‰ï¼‰

---

#### 4.2 æœªå®Œæˆå¥

**å®Œæ•´å¥**:
```
"æˆ‘ä¸æ˜¯æ•…æ„çš„ï¼Œæˆ‘åªæ˜¯......"
â†’ âš ï¸ AIåŒ–ç”¨æ³•ï¼ˆçœç•¥å·æ»¥ç”¨ï¼‰
```

**æœªå®Œæˆå¥**:
```
"æˆ‘ä¸æ˜¯...æˆ‘åªæ˜¯......"
"æˆ‘......"å¥¹è¯´ä¸ä¸‹å»äº†ã€‚

â†’ âœ… è¡¨è¾¾çŠ¹è±«ã€æƒ…ç»ªæ¿€åŠ¨
```

---

#### 4.3 å£å¤´ç¦…/æ–¹è¨€ç‚¹ç¼€

**æ ‡å‡†å¯¹è¯**:
```
"æˆ‘çŸ¥é“äº†ã€‚"
â†’ ä¸­æ€§ï¼Œæ— ä¸ªæ€§
```

**æœ‰å£å¤´ç¦…çš„å¯¹è¯**:
```
"å¾—å˜ï¼Œæˆ‘çŸ¥é“äº†ã€‚"ï¼ˆåŒ—æ–¹ï¼‰
"å¥½çš„å‘€ã€‚"ï¼ˆå—æ–¹ï¼‰
"è¡Œï¼Œæ™“å¾—äº†ã€‚"ï¼ˆè¥¿å—ï¼‰

â†’ âœ… åœ°åŸŸæ„Ÿã€è§’è‰²ä¸ªæ€§
```

**ä½¿ç”¨å»ºè®®**:
- ä¸»è¦è§’è‰²å¯ä»¥æœ‰1-2ä¸ªå£å¤´ç¦…
- ä¸è¦æ‰€æœ‰è§’è‰²éƒ½ç”¨åŒä¸€ä¸ª
- é€‚åº¦ä½¿ç”¨ï¼Œä¸è¦æ¯å¥è¯éƒ½æœ‰

---

### 5. èŠ‚å¥æ§åˆ¶

**æ ¸å¿ƒåŸåˆ™**: ä¸åŒåœºæ™¯ç”¨ä¸åŒèŠ‚å¥

#### 5.1 å¿«èŠ‚å¥ï¼ˆåŠ¨ä½œ/å†²çªåœºæ™¯ï¼‰

**ç‰¹å¾**:
- çŸ­å¥ä¸ºä¸»ï¼ˆ<15å­—ï¼‰
- åŠ¨è¯å¯†é›†
- å°‘å½¢å®¹è¯
- å¤šç”¨å¥å·

**ç¤ºä¾‹**:
```
é—¨è¢«è¸¹å¼€äº†ã€‚
ä»–å†²è¿›æ¥ã€‚
æŠ“ä½å¥¹çš„æ‰‹ã€‚
å¾€å¤–æ‹–ã€‚

å¥¹æŒ£æ‰ã€‚
å°–å«ã€‚
æ²¡ç”¨ã€‚

â†’ âœ… ç´§å¼ æ„Ÿå¼º
```

---

#### 5.2 æ…¢èŠ‚å¥ï¼ˆæå†™/é“ºå«åœºæ™¯ï¼‰

**ç‰¹å¾**:
- é•¿å¥ä¸ºä¸»ï¼ˆ>20å­—ï¼‰
- æå†™ç»†è…»
- å¤šæ„Ÿå®˜
- å¤šç”¨é€—å·

**ç¤ºä¾‹**:
```
çª—å¤–çš„é›¨è¶Šä¸‹è¶Šå¤§ï¼Œé›¨ç‚¹æ•²æ‰“ç€ç»ç’ƒï¼Œ
å‘å‡ºç»†ç¢çš„å£°éŸ³ã€‚å¥¹ååœ¨çª—è¾¹ï¼Œæ‰‹é‡Œç«¯ç€ä¸€æ¯å·²ç»å‡‰äº†çš„å’–å•¡ï¼Œ
çœ‹ç€è¡—ä¸ŠåŒ†åŒ†è€Œè¿‡çš„è¡Œäººï¼Œçªç„¶è§‰å¾—æœ‰ç‚¹ç´¯ã€‚

â†’ âœ… è¥é€ æ°›å›´ï¼Œæ²‰æµ¸æ„Ÿ
```

---

#### 5.3 æƒ…ç»ªé€’è¿›ï¼ˆå¥å­é€æ¸å˜çŸ­/å˜é•¿ï¼‰

**ç”±é•¿åˆ°çŸ­**ï¼ˆæƒ…ç»ªçˆ†å‘ï¼‰:
```
å¥¹ä¸€ç›´å¿ç€ï¼ŒåŠªåŠ›ä¿æŒå¹³é™ï¼Œå‘Šè¯‰è‡ªå·±ä¸è¦åœ¨æ„ã€‚
ä½†æ˜¯å¬åˆ°è¿™å¥è¯ï¼Œå¥¹å†ä¹Ÿå¿ä¸ä½äº†ã€‚
å¥¹æŠ¬èµ·å¤´ã€‚
çœ‹ç€ä»–ã€‚
"ä½ è¯´ä»€ä¹ˆï¼Ÿ"

â†’ âœ… å¥å­è¶Šæ¥è¶ŠçŸ­ï¼Œæƒ…ç»ªé€æ¸çˆ†å‘
```

**ç”±çŸ­åˆ°é•¿**ï¼ˆæƒ…ç»ªå¹³å¤ï¼‰:
```
å¥¹å“­äº†ã€‚
å“­å¾—å¾ˆä¼¤å¿ƒã€‚
å“­äº†å¥½ä¸€ä¼šå„¿ï¼Œæ¸æ¸å¹³é™ä¸‹æ¥ï¼Œæ“¦äº†æ“¦çœ¼æ³ªï¼Œæ·±å¸ä¸€å£æ°”ï¼Œ
ç„¶åæŠ¬èµ·å¤´ï¼Œçœ‹ç€çª—å¤–çš„å¤©ç©ºã€‚

â†’ âœ… å¥å­é€æ¸å˜é•¿ï¼Œæƒ…ç»ªé€æ¸å¹³å¤
```

---

### 6. ç•™ç™½è‰ºæœ¯

**æ ¸å¿ƒåŸåˆ™**: ä¸è¦è¯´å°½ï¼Œç•™ç»™è¯»è€…æƒ³è±¡ç©ºé—´

#### 6.1 æ®µè½é—´çš„ç©ºç™½

**æ— ç•™ç™½**:
```
ä»–èµ°äº†ï¼Œå¥¹å¾ˆéš¾è¿‡ï¼Œä¸€ä¸ªäººååœ¨æˆ¿é—´é‡Œå“­ã€‚
ç¬¬äºŒå¤©æ—©ä¸Šï¼Œå¥¹èµ·åºŠåå‘ç°ä»–å›æ¥äº†ã€‚

â†’ âš ï¸ æ—¶é—´è·³è·ƒç”Ÿç¡¬
```

**æœ‰ç•™ç™½**:
```
ä»–èµ°äº†ã€‚
å¥¹ä¸€ä¸ªäººååœ¨æˆ¿é—´é‡Œã€‚

ç¬¬äºŒå¤©æ—©ä¸Šã€‚

é—¨å¼€äº†ã€‚
ä»–å›æ¥äº†ã€‚

â†’ âœ… ç©ºè¡Œåˆ¶é€ æ—¶é—´è·³è·ƒæ„Ÿ
```

---

#### 6.2 æœªè¯´ä¹‹æ„

**å…¨éƒ¨è¯´å‡º**ï¼ˆAIå¸¸è§ï¼‰:
```
ä»–çœ‹äº†å¥¹ä¸€çœ¼ï¼Œçœ¼ç¥ä¸­å……æ»¡äº†å¤æ‚çš„æƒ…ç»ªï¼Œ
æœ‰æ„¤æ€’ï¼Œæœ‰å¤±æœ›ï¼Œä¹Ÿæœ‰ä¸€ä¸ä¸èˆã€‚ç„¶åè½¬èº«èµ°äº†ã€‚

â†’ âš ï¸ è¿‡åº¦è§£é‡Š
```

**ç•™ç™½**:
```
ä»–çœ‹äº†å¥¹ä¸€çœ¼ã€‚
è½¬èº«èµ°äº†ã€‚

â†’ âœ… è®©è¯»è€…è‡ªå·±ä½“ä¼šçœ¼ç¥
```

---

#### 6.3 è¯»è€…æƒ³è±¡ç©ºé—´

**æå†™è¿‡ç»†**:
```
å¥¹ç©¿ç€ä¸€ä»¶ç™½è‰²çš„è¿è¡£è£™ï¼Œè£™æ‘†åˆ°è†ç›–ï¼Œ
è…°é—´ç³»ç€ä¸€æ¡è“è‰²çš„è…°å¸¦ï¼Œè„šä¸Šç©¿ç€ä¸€åŒé»‘è‰²çš„é«˜è·Ÿé‹ã€‚

â†’ âš ï¸ åƒäº§å“è¯´æ˜ä¹¦
```

**ç•™ç™½**:
```
å¥¹ç©¿ç€ç™½è‰²è¿è¡£è£™ã€‚
å¾ˆå¥½çœ‹ã€‚

â†’ âœ… ç‚¹åˆ°ä¸ºæ­¢ï¼Œè®©è¯»è€…è‡ªå·±æƒ³è±¡
```

---

### 7. è¯æ±‡é€‰æ‹©åŸåˆ™

**æ ¸å¿ƒåŸåˆ™**: å…·ä½“>æŠ½è±¡ï¼ŒåŠ¨è¯ä¼˜å…ˆï¼Œé¿å…è¿‡åº¦ä¿®é¥°

#### 7.1 å…·ä½“>æŠ½è±¡

**æŠ½è±¡è¯**:
```
å¥¹å–äº†ä¸€æ¯é¥®æ–™ã€‚
â†’ âš ï¸ æ¨¡ç³Š

å¥¹å–äº†ä¸€æ¯å’–å•¡ã€‚
â†’ âœ… æ›´å…·ä½“

å¥¹å–äº†ä¸€æ¯æ‹¿é“ã€‚
â†’ âœ… æœ€å…·ä½“ï¼ˆç”Ÿæ´»ç»†èŠ‚ï¼‰
```

**ä½¿ç”¨å»ºè®®**:
- ä¼˜å…ˆç”¨å…·ä½“åè¯
- å“ç‰Œ/å‹å·å¯ä»¥å¢å¼ºçœŸå®æ„Ÿ
- ä½†ä¸è¦è¿‡åº¦ï¼ˆå˜æˆå¹¿å‘Šï¼‰

---

#### 7.2 åŠ¨è¯ä¼˜å…ˆ

**è¢«åŠ¨å¥**ï¼ˆAIå¸¸è§ï¼‰:
```
é—¨è¢«å…³ä¸Šäº†ã€‚
â†’ âš ï¸ ç¼ºä¹åŠ›é‡æ„Ÿ
```

**ä¸»åŠ¨å¥**:
```
å¥¹å…³ä¸Šäº†é—¨ã€‚
â†’ âœ… æ›´æœ‰åŠ›

é—¨ç °åœ°å…³ä¸Šäº†ã€‚
â†’ âœ… æœ€æœ‰åŠ›ï¼ˆåŠ¨è¯ + è±¡å£°è¯ï¼‰
```

---

#### 7.3 é¿å…è¿‡åº¦ä¿®é¥°

**è¿‡åº¦ä¿®é¥°**:
```
éå¸¸ç‰¹åˆ«æå…¶å¥½
â†’ âŒ å †ç Œç¨‹åº¦è¯

ä¿®é•¿ç™½çš™çš„æ‰‹æŒ‡
â†’ âŒ è¿ç»­å½¢å®¹è¯
```

**é€‚åº¦ä¿®é¥°**:
```
å¾ˆå¥½
â†’ âœ… ç®€æ´æœ‰åŠ›

ç™½çš™çš„æ‰‹æŒ‡
â†’ âœ… ä¸€ä¸ªå½¢å®¹è¯è¶³å¤Ÿ
```

---

### 8. AIç—•è¿¹è¯†åˆ«ä¸è§„é¿

**æ ¸å¿ƒåŸåˆ™**: æ§åˆ¶é¢‘ç‡ï¼Œè€Œéå®Œå…¨ç¦æ­¢

#### 8.1 AIé«˜é¢‘è¯è¡¨ï¼ˆ100ä¸ªï¼‰

**æƒ…ç»ªç±»**:
- äº”å‘³æ‚é™ˆã€ç™¾æ„Ÿäº¤é›†ã€å¿ƒå¦‚åˆ€ç» â†’ æ›¿ä»£ï¼šä¸æ˜¯æ»‹å‘³ã€å¿ƒé‡Œä¹±ã€å¿ƒç–¼å¾—è¦å‘½

**åŠ¨ä½œç±»**:
- ç¼“ç¼“ã€æ‚ ç„¶ã€ä»å®¹ä¸è¿« â†’ æ›¿ä»£ï¼šæ…¢æ…¢ã€éšæ„ã€ä¸æ…Œä¸å¿™

**ç¨‹åº¦ç±»**:
- æå…¶ã€ä¸‡åˆ†ã€å¼‚å¸¸ â†’ æ›¿ä»£ï¼šå¾ˆã€ç‰¹åˆ«

**è½¬æŠ˜ç±»**:
- ç„¶è€Œã€æ®Šä¸çŸ¥ã€å²‚æ–™ â†’ æ›¿ä»£ï¼šä½†æ˜¯ã€æ²¡æƒ³åˆ°

**æå†™ç±»**:
- ä¿®é•¿çš„ã€æ·±é‚ƒçš„ã€ç’€ç’¨çš„ â†’ æ›¿ä»£ï¼šåˆ é™¤æˆ–ç®€åŒ–

**ä½¿ç”¨å»ºè®®**:
- ä¸å®Œå…¨ç¦ç”¨ï¼Œä½†é™åˆ¶é¢‘ç‡ï¼ˆâ‰¤2æ¬¡/1000å­—ï¼‰
- ä¼˜å…ˆç”¨æ›¿ä»£è¯
- å¦‚æœå¿…é¡»ç”¨ï¼Œé—´éš”è‡³å°‘500å­—

---

#### 8.2 AIå…¸å‹å¥å¼ï¼ˆ20ç§ï¼‰

**1. "åœ¨...ä¸‹"**
```
åœ¨æœˆå…‰çš„ç…§è€€ä¸‹ï¼Œå¥¹çš„è„¸åºæ˜¾å¾—æ ¼å¤–åŠ¨äººã€‚
â†’ âŒ AIåŒ–

æœˆå…‰æ‰“åœ¨å¥¹è„¸ä¸Šã€‚
å¥¹è„¸ä¸Šæœ‰æœˆå…‰ï¼ŒæŒºå¥½çœ‹çš„ã€‚
â†’ âœ… æ”¹å†™

ä½¿ç”¨å»ºè®®: â‰¤2æ¬¡/1000å­—
```

**2. "ä»¿ä½›...ä¸€èˆ¬"**
```
ä»–çš„é€Ÿåº¦å¿«å¾—ä»¿ä½›ä¸€é˜µé£ä¸€èˆ¬ã€‚
â†’ âŒ AIåŒ–

ä»–é€Ÿåº¦ç‰¹åˆ«å¿«ã€‚
ä»–å¿«å¾—åƒé˜µé£ã€‚
â†’ âœ… ç®€åŒ–æ¯”å–»

ä½¿ç”¨å»ºè®®: â‰¤2æ¬¡/1000å­—
```

**3. "æ­¤æ—¶æ­¤åˆ»"**
```
æ­¤æ—¶æ­¤åˆ»ï¼Œå¥¹çš„å¿ƒæƒ…æ ¼å¤–å¤æ‚ã€‚
â†’ âŒ AIåŒ–

å¥¹å¿ƒæƒ…å¾ˆå¤æ‚ã€‚
è¿™ä¼šå„¿å¥¹å¿ƒé‡Œä¹±å¾—å¾ˆã€‚
â†’ âœ… åˆ é™¤æ—¶é—´æŒ‡ç¤º

ä½¿ç”¨å»ºè®®: å®Œå…¨é¿å…
```

**4. "è®©...è®©..."**
```
æ¸©çƒ­çš„è§¦æ„Ÿè®©å¥¹çš„æ€ç»ªæ¸æ¸å¹³é™ä¸‹æ¥ã€‚
â†’ âŒ AIåŒ–ï¼ˆå› æœé“¾ï¼‰

æ¯å­æœ‰ç‚¹çƒ«ã€‚å¥¹æ‰‹æš–äº†ã€‚
å¥¹å¿ƒæƒ…æ…¢æ…¢å¹³é™äº†ã€‚
â†’ âœ… æ‹†åˆ†å› æœ

ä½¿ç”¨å»ºè®®: æ‹†åˆ†ä¸ºç‹¬ç«‹å¥å­
```

---

## ç»¼åˆåº”ç”¨ç¤ºä¾‹

### åœºæ™¯ï¼šä¸»è§’é‡åˆ°å±é™©ï¼ˆå¯¹æ¯”ï¼‰

#### âŒ AIåŒ–å†™æ³•

```
ææ˜ç¼“ç¼“æŠ¬èµ·å¤´ï¼Œæ·±é‚ƒçš„çœ¸å­ä¸­é—ªè¿‡ä¸€ä¸å‡é‡çš„ç¥è‰²ã€‚
ä»–èƒ½å¤Ÿæ¸…æ™°åœ°æ„Ÿå—åˆ°ï¼Œå‘¨å›´çš„æ°”æ°›å˜å¾—å¼‚å¸¸è¯¡å¼‚ï¼Œ
ä»¿ä½›æœ‰ä»€ä¹ˆä¸å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿä¸€èˆ¬ã€‚

ç„¶è€Œï¼Œäº‹æƒ…è¿œæ¯”ä»–æƒ³è±¡çš„è¦å¤æ‚å¾—å¤šã€‚æ®Šä¸çŸ¥ï¼Œ
åœ¨è¿™ç‰‡çœ‹ä¼¼å¹³é™çš„æ ‘æ—æ·±å¤„ï¼Œæ­£æœ‰ä¸€åŒå……æ»¡æ€æ„çš„çœ¼ç›
åœ¨æš—ä¸­è§‚å¯Ÿç€ä»–çš„ä¸€ä¸¾ä¸€åŠ¨ã€‚æ­¤æ—¶æ­¤åˆ»ï¼Œå±æœºå››ä¼ï¼Œ
ä»–å´æµ‘ç„¶ä¸è§‰ã€‚
```

**é—®é¢˜**:
- ç¦ç”¨è¯ï¼šç¼“ç¼“ã€æ·±é‚ƒã€å¼‚å¸¸ã€ç„¶è€Œã€æ®Šä¸çŸ¥ã€æ­¤æ—¶æ­¤åˆ»
- ç¦ç”¨å¥å¼ï¼š"ä»¿ä½›...ä¸€èˆ¬"ã€"åœ¨...ä¸‹"
- AIåŒ–è¡¨è¾¾ï¼šæ¸…æ™°åœ°æ„Ÿå—åˆ°ã€ä¸€ä¸¾ä¸€åŠ¨ã€æµ‘ç„¶ä¸è§‰

---

#### âœ… ä¼˜åŒ–å†™æ³•ï¼ˆåº”ç”¨8ä¸ªæ¨¡å—ï¼‰

```
ææ˜æŠ¬å¤´ã€‚ï¼ˆçŸ­å¥ï¼ŒèŠ‚å¥ï¼‰

å‘¨å›´å¤ªå®‰é™äº†ã€‚ï¼ˆå¥å¼å˜åŒ–ï¼‰

ä»–çªç„¶æ„è¯†åˆ°ä¸å¯¹åŠ²ã€‚çŒ›åœ°è½¬èº«ã€‚ï¼ˆå¿«èŠ‚å¥ï¼‰

æ ‘æ—é‡Œï¼Œæœ‰ä»€ä¹ˆåœ¨åŠ¨ã€‚ï¼ˆç•™ç™½ï¼Œæ‚¬å¿µï¼‰

ç³Ÿäº†ã€‚ï¼ˆçœç•¥å¥ï¼Œæƒ…ç»ªçˆ†å‘ï¼‰
```

**åº”ç”¨çš„æŠ€å·§**:
1. æ ‡ç‚¹ç¬¦å·ï¼šå¥å·åˆ¶é€ åœé¡¿æ„Ÿ
2. å¥å¼å˜åŒ–ï¼šçŸ­å¥ä¸ºä¸»ï¼Œè¥é€ ç´§å¼ 
3. èŠ‚å¥æ§åˆ¶ï¼šå¿«èŠ‚å¥ï¼ŒåŠ¨è¯å¯†é›†
4. ç•™ç™½è‰ºæœ¯ï¼šä¸æ˜è¯´å±é™©ï¼Œè®©è¯»è€…è‡ªå·±æ„Ÿå—
5. è¯æ±‡é€‰æ‹©ï¼šå…·ä½“åŠ¨è¯ï¼ˆæŠ¬å¤´ã€è½¬èº«ã€åŠ¨ï¼‰

---

## ä¸ writing-balance çš„ååŒ

**writing-balance** è´Ÿè´£è¯„ä¼°ï¼š
- å‘Šè¯‰ä½ "å¥é•¿åˆ†å¸ƒä¸å¹³è¡¡"
- å‘Šè¯‰ä½ "è¯æ±‡é‡å¤åº¦é«˜"

**writing-techniques** è´Ÿè´£æ•™å­¦ï¼š
- æ•™ä½ "æ€ä¹ˆæ··åˆé•¿çŸ­å¥"
- æ•™ä½ "æ€ä¹ˆç”¨åŒä¹‰è¯"

**å·¥ä½œæµç¨‹**:
1. ç”¨æˆ·ä½¿ç”¨ `/write` å†™ä½œ
2. AIåº”ç”¨ `writing-techniques` çš„æŠ€å·§åˆ›ä½œ
3. å†™å®Œåï¼Œ`writing-balance` è‡ªåŠ¨è¯„ä¼°
4. å¦‚æœè¯„åˆ†ä½ï¼Œç»™å‡ºæ”¹è¿›å»ºè®®
5. ç”¨æˆ·å‚è€ƒ `writing-techniques` çš„å…·ä½“æŠ€å·§è°ƒæ•´

---

## å®æ–½å»ºè®®

1. **é€æ­¥å­¦ä¹ **: ä¸è¦ä¸€æ¬¡æ€§åº”ç”¨æ‰€æœ‰æŠ€å·§ï¼Œå…ˆæŒæ¡1-2ä¸ªæ¨¡å—
2. **å®æˆ˜ç»ƒä¹ **: æ¯å†™ä¸€ç« åï¼Œå¯¹ç…§è¯„ä¼°æŠ¥å‘Šæ‰¾é—®é¢˜
3. **å½¢æˆä¹ æƒ¯**: é€æ¸å†…åŒ–è¿™äº›æŠ€å·§ï¼Œä¸éœ€è¦åˆ»æ„æ€è€ƒ
4. **ä¿ç•™ä¸ªæ€§**: æŠ€å·§æ˜¯å·¥å…·ï¼Œä¸æ˜¯æ·é”ï¼Œä¿ç•™è‡ªå·±çš„é£æ ¼

---

## ç‰ˆæœ¬å†å²

- **v1.0** (2026-02-14): åˆå§‹ç‰ˆæœ¬ï¼Œ8ä¸ªæ•™å­¦æ¨¡å—
- ååŒSkill: `writing-balance`

---

## å‚è€ƒèµ„æ–™

- è®¾è®¡æ–‡æ¡£: `docs/plans/2026-02-14-optimization-design.md`
- è¯„ä¼°Skill: `templates/skills/writing-techniques/writing-balance/SKILL.md`
```

**Step 3: ä¿å­˜æ–‡ä»¶**

```bash
# å°†ä¸Šè¿°å†…å®¹å†™å…¥æ–‡ä»¶ï¼ˆç”±äºå†…å®¹å¾ˆé•¿ï¼Œåˆ†æ­¥æ‰§è¡Œï¼‰
```

**Step 4: æäº¤**

```bash
git add templates/skills/writing-techniques/writing-techniques/SKILL.md
git commit -m "feat: add writing-techniques skill with 8 teaching modules"
```

---

### Task 1.7: æ›´æ–° anti-ai-v4.mdï¼ˆé‡å‘½åå¹¶åˆ›å»ºv5ï¼‰

**Files:**
- Rename: `templates/knowledge-base/requirements/anti-ai-v4.md` â†’ `anti-ai-v4-deprecated.md`
- Create: `templates/knowledge-base/requirements/anti-ai-v5-balanced.md`

**Step 1: é‡å‘½åv4**

```bash
cd templates/knowledge-base/requirements/
git mv anti-ai-v4.md anti-ai-v4-deprecated.md
```

**Step 2: åœ¨æ–‡ä»¶å¤´éƒ¨æ·»åŠ åºŸå¼ƒè¯´æ˜**

åœ¨ `anti-ai-v4-deprecated.md` å¼€å¤´æ·»åŠ ï¼š

```markdown
> **âš ï¸ æ­¤ç‰ˆæœ¬å·²åºŸå¼ƒ**
>
> **æ›¿ä»£æ–¹æ¡ˆ**:
> - æ–°ç‰ˆå¹³è¡¡è§„åˆ™: `anti-ai-v5-balanced.md`
> - æ™ºèƒ½è¯„ä¼°Skill: `templates/skills/writing-techniques/writing-balance/SKILL.md`
>
> **ä¿ç•™åŸå› **: ä½œä¸ºå‚è€ƒæ–‡æ¡£ï¼Œä¾›éœ€è¦æç«¯å»AIçš„ç”¨æˆ·ä½¿ç”¨
>
> **å¯ç”¨æ–¹å¼**: åœ¨ `specification.md` ä¸­è®¾ç½® `writing_balance_config.strictness: strict` å¹¶å¯ç”¨ `anti-ai-v4-mode: true`

---

# AI å»å‘³è§„åˆ™ v4.0ï¼ˆæ¿€è¿›ç‰ˆ - å·²åºŸå¼ƒï¼‰
```

**Step 3: åˆ›å»ºv5å¹³è¡¡ç‰ˆ**

åˆ›å»º `anti-ai-v5-balanced.md`ï¼š

```markdown
# AI å»å‘³è§„åˆ™ v5.0ï¼ˆå¹³è¡¡ç‰ˆï¼‰

## è®¾è®¡ç†å¿µ

**å¹³è¡¡AIè¯†åˆ«åº¦ä¸è‡ªç„¶è¡¨è¾¾** - ä¸è¿½æ±‚é›¶AIç—•è¿¹ï¼Œè€Œæ˜¯è¿½æ±‚"åƒçœŸäººå†™çš„"

**æ ¸å¿ƒåŸåˆ™**:
1. **å¤šæ ·åŒ–ä¼˜äºç¦æ­¢** - å…è®¸ä½¿ç”¨AIå¸¸ç”¨è¯ï¼Œä½†è¦æ±‚è½®æ¢å˜åŒ–
2. **å¹³è¡¡ä¼˜äºæç«¯** - é•¿çŸ­å¥æ··åˆã€è¯æ±‡ä¸°å¯Œã€å±‚æ¬¡åˆ†æ˜
3. **è‡ªç„¶ä¼˜äºæœºæ¢°** - ç¬¦åˆäººç±»é˜…è¯»ä¹ æƒ¯ï¼Œè€Œéæœºæ¢°è§„åˆ™

**ä¸v4çš„åŒºåˆ«**:
| ç»´åº¦ | v4æ¿€è¿›ç‰ˆ | v5å¹³è¡¡ç‰ˆ |
|------|---------|---------|
| æ–¹æ³• | ç¦æ­¢æ¸…å•ï¼ˆ200+è¯ï¼‰ | å¹³è¡¡è¯„åˆ†ï¼ˆ6ä¸ªç»´åº¦ï¼‰ |
| å¥é•¿ | å¼ºåˆ¶80%<15å­— | çµæ´»åˆ†å¸ƒï¼ˆçŸ­30-40% ä¸­40-50% é•¿10-20%ï¼‰ |
| å½¢å®¹è¯ | é™åˆ¶3ä¸ª/100å­— | å…è®¸4-8ä¸ª/100å­— |
| æˆè¯­ | å®Œå…¨ç¦ç”¨ | å…è®¸å£è¯­æˆè¯­ï¼ˆâ‰¤5ä¸ª/1000å­—ï¼‰ |
| ç»“æœ | é›¶AIå‘³ï¼Œä½†æ–‡å­¦æ€§å·® | å¹³è¡¡AIè¯†åˆ«åº¦ä¸è‡ªç„¶è¡¨è¾¾ |

---

## æ ¸å¿ƒè§„åˆ™ï¼ˆ6ä¸ªç»´åº¦ï¼‰

è¯¦ç»†è§„åˆ™è¯·å‚è€ƒï¼š
- **è¯„ä¼°Skill**: `templates/skills/writing-techniques/writing-balance/SKILL.md`
- **æŠ€å·§æ•™å­¦**: `templates/skills/writing-techniques/writing-techniques/SKILL.md`

### 1. å¥é•¿åˆ†å¸ƒå¹³è¡¡

**ç›®æ ‡**:
- çŸ­å¥ï¼ˆ<12å­—ï¼‰: 30-40%
- ä¸­å¥ï¼ˆ12-25å­—ï¼‰: 40-50%
- é•¿å¥ï¼ˆ>25å­—ï¼‰: 10-20%

**è§„åˆ™**: é¿å…è¿ç»­5ä¸ªä»¥ä¸ŠçŸ­å¥ï¼Œé¿å…è¿ç»­3ä¸ªä»¥ä¸Šé•¿å¥

### 2. è¯æ±‡ä¸°å¯Œåº¦

**ç›®æ ‡**: TTR > 0.65ï¼ˆæ¯100å­—ä¸é‡å¤è¯æ±‡ç‡ï¼‰

**è§„åˆ™**:
- åŒä¹‰è¯è½®æ¢ï¼ˆ"è¯´"â†’"è®²ã€å¼€å£ã€é“ã€ç­”"ï¼‰
- é¿å…åŒä¸€ä¸ªè¯åœ¨100å­—å†…å‡ºç°3æ¬¡ä»¥ä¸Š

### 3. æå†™å±‚æ¬¡æ„Ÿ

**ç›®æ ‡**:
- æ„Ÿå®˜åˆ†å¸ƒ: è§†è§‰40% | å¬è§‰20% | è§¦/å—…/å‘³40%
- å½¢å®¹è¯å¯†åº¦: 4-8ä¸ª/100å­—

**è§„åˆ™**: ä¸åªç”¨è§†è§‰æå†™ï¼Œå°è¯•å¤šæ„Ÿå®˜äº¤å‰

### 4. æˆè¯­ä½¿ç”¨åº¦

**ç›®æ ‡**: â‰¤5ä¸ªæˆè¯­/1000å­—

**å…è®¸ï¼ˆå£è¯­åŒ–æˆè¯­ï¼‰**:
- ä¸€è¨€éš¾å°½ã€è«åå…¶å¦™ã€ä¸ä»¥ä¸ºç„¶ã€è‹¥æ— å…¶äº‹ã€å¿ƒç…§ä¸å®£

**é¿å…ï¼ˆæ–‡è¨€æˆè¯­ï¼‰**:
- è‚è‚ å¯¸æ–­ã€è¸Œèº‡æ»¡å¿—ã€ä»å®¹ä¸è¿«ã€äº”å‘³æ‚é™ˆã€ç™¾æ„Ÿäº¤é›†

### 5. å¥å¼å˜åŒ–åº¦

**ç›®æ ‡**: é¿å…è¿ç»­3ä¸ªä»¥ä¸Šç›¸åŒå¥å¼

**é™åˆ¶é¢‘ç‡ï¼ˆâ‰¤2æ¬¡/1000å­—ï¼‰**:
- "åœ¨...ä¸‹" - åœ¨æœˆå…‰çš„ç…§è€€ä¸‹
- "ä»¿ä½›...ä¸€èˆ¬" - å¿«å¾—ä»¿ä½›ä¸€é˜µé£ä¸€èˆ¬

**å®Œå…¨é¿å…**:
- "æ­¤æ—¶æ­¤åˆ»" - ç”¨"è¿™ä¼šå„¿"ã€"ç°åœ¨"ä»£æ›¿
- "ç„¶è€Œ"å¼€å¤´ - ç”¨"ä½†æ˜¯"ã€"å¯æ˜¯"ä»£æ›¿

### 6. è‡ªç„¶åº¦

**ç›®æ ‡**:
- æ ‡ç‚¹å˜åŒ–: å¥å·70% | é—®å·10% | æ„Ÿå¹å·5% | é€—å·15%
- æ®µè½é•¿åº¦: 1-6å¥æ··åˆ
- å¯¹è¯çœŸå®: è¯­æ°”è¯ã€å£å¤´ç¦…

**è§„åˆ™**: ä¸å¼ºåˆ¶çŸ­æ®µè½ï¼Œå…è®¸è‡ªç„¶å˜åŒ–

---

## ä½¿ç”¨æ–¹å¼

### æ–¹å¼1: è‡ªåŠ¨è¯„ä¼°ï¼ˆæ¨èï¼‰

ä½¿ç”¨ `/write` å‘½ä»¤æ—¶ï¼ŒAIä¼šè‡ªåŠ¨åº”ç”¨å¹³è¡¡è§„åˆ™ï¼Œå¹¶åœ¨å†™å®Œåç»™å‡ºè¯„ä¼°æŠ¥å‘Šã€‚

### æ–¹å¼2: ä¸»åŠ¨æ£€æŸ¥

```bash
/analyze --focus=balance --range ch-10
```

### æ–¹å¼3: è‡ªå®šä¹‰é…ç½®

åœ¨ `specification.md` ä¸­é…ç½®ï¼š

```yaml
writing_balance_config:
  strictness: medium  # strict | medium | loose
  sentence_length_target:
    short: 35%
    medium: 50%
    long: 15%
  allow_idioms: true
  idiom_limit_per_1000: 5
  adjective_density: 6
```

---

## æ£€æµ‹æ¸…å•

### å†™å®Œæ¯ç« åè‡ªæ£€

- [ ] å¥é•¿åˆ†å¸ƒæ˜¯å¦å¹³è¡¡ï¼Ÿï¼ˆçŸ­30-40% ä¸­40-50% é•¿10-20%ï¼‰
- [ ] æ˜¯å¦æœ‰è¯æ±‡é‡å¤ï¼Ÿï¼ˆåŒä¸€ä¸ªè¯åœ¨100å­—å†…å‡ºç°3æ¬¡+ï¼‰
- [ ] æ˜¯å¦åªç”¨è§†è§‰æå†™ï¼Ÿï¼ˆå°è¯•å¬è§‰ã€è§¦è§‰ã€å—…è§‰ï¼‰
- [ ] æˆè¯­æ˜¯å¦è¿‡å¤šï¼Ÿï¼ˆ>5ä¸ª/1000å­—ï¼‰
- [ ] å¥å¼æ˜¯å¦å•ä¸€ï¼Ÿï¼ˆè¿ç»­3ä¸ªä»¥ä¸Šç›¸åŒå¥å¼ï¼‰
- [ ] æ ‡ç‚¹æ˜¯å¦å•ä¸€ï¼Ÿï¼ˆå…¨æ˜¯å¥å·æˆ–å…¨æ˜¯é€—å·ï¼‰
- [ ] å¯¹è¯æ˜¯å¦çœŸå®ï¼Ÿï¼ˆæœ‰è¯­æ°”è¯ã€å£å¤´ç¦…ï¼‰

---

## å®Œæ•´ç¤ºä¾‹å¯¹æ¯”

### åœºæ™¯ï¼šä¸»è§’é‡åˆ°å±é™©

#### âŒ v4æ¿€è¿›ç‰ˆï¼ˆè¿‡åº¦å»AIï¼‰

```
ææ˜æŠ¬å¤´ã€‚

å‘¨å›´å¤ªå®‰é™äº†ã€‚

ä»–çªç„¶æ„è¯†åˆ°ä¸å¯¹åŠ²ã€‚çŒ›åœ°è½¬èº«ã€‚

æ ‘æ—é‡Œï¼Œæœ‰ä»€ä¹ˆåœ¨åŠ¨ã€‚

ç³Ÿäº†ã€‚
```

**é—®é¢˜**: å…¨æ˜¯çŸ­å¥ï¼ŒèŠ‚å¥å•è°ƒï¼Œç¼ºä¹æ°›å›´

---

#### âœ… v5å¹³è¡¡ç‰ˆ

```
ææ˜æŠ¬å¤´ï¼Œå››å‘¨å®‰é™å¾—æœ‰äº›ä¸å¯¹åŠ²ã€‚

ä»–çŒ›åœ°è½¬èº«ã€‚æ ‘æ—æ·±å¤„ï¼Œæœ‰ä»€ä¹ˆä¸œè¥¿åœ¨åŠ¨ã€‚

ç³Ÿäº†ã€‚
```

**æ”¹è¿›**:
- é•¿çŸ­å¥ç»“åˆï¼ˆç¬¬1å¥é•¿ï¼Œç¬¬2å¥ä¸­ï¼Œç¬¬3å¥çŸ­ï¼‰
- ä¿ç•™äº†ç´§å¼ æ„Ÿ
- æ›´è‡ªç„¶æµç•…

---

#### âŒ AIåŒ–ç‰ˆæœ¬ï¼ˆå¯¹æ¯”å‚è€ƒï¼‰

```
ææ˜ç¼“ç¼“æŠ¬èµ·å¤´ï¼Œæ·±é‚ƒçš„çœ¸å­ä¸­é—ªè¿‡ä¸€ä¸å‡é‡çš„ç¥è‰²ã€‚
ä»–èƒ½å¤Ÿæ¸…æ™°åœ°æ„Ÿå—åˆ°ï¼Œå‘¨å›´çš„æ°”æ°›å˜å¾—å¼‚å¸¸è¯¡å¼‚ï¼Œ
ä»¿ä½›æœ‰ä»€ä¹ˆä¸å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿä¸€èˆ¬ã€‚

ç„¶è€Œï¼Œäº‹æƒ…è¿œæ¯”ä»–æƒ³è±¡çš„è¦å¤æ‚å¾—å¤šã€‚
```

**é—®é¢˜**: å¤§é‡AIé«˜é¢‘è¯ã€AIå¥å¼ã€è¿‡åº¦å½¢å®¹

---

## æ€»ç»“

**v5.0çš„æ ¸å¿ƒ**:
1. **å¹³è¡¡** - é•¿çŸ­å¥æ··åˆã€è¯æ±‡å¤šæ ·ã€æ„Ÿå®˜ä¸°å¯Œ
2. **è‡ªç„¶** - ç¬¦åˆäººç±»é˜…è¯»ä¹ æƒ¯
3. **çµæ´»** - å¯é…ç½®ã€å¯è°ƒæ•´ã€ä¿ç•™ä¸ªæ€§

**v4 vs v5**:
- v4: é›¶AIå‘³ï¼Œä½†åƒµç¡¬
- v5: ä½AIå‘³ï¼Œä½†è‡ªç„¶

**é€‚ç”¨åœºæ™¯**:
- å¤§å¤šæ•°ä½œè€… â†’ ä½¿ç”¨v5ï¼ˆæ¨èï¼‰
- æç«¯å»AIéœ€æ±‚ â†’ ä½¿ç”¨v4ï¼ˆæ…ç”¨ï¼‰

---

**è§„åˆ™ç‰ˆæœ¬**: v5.0
**æœ€åæ›´æ–°**: 2026-02-14
**ååŒå·¥å…·**: writing-balance Skill + writing-techniques Skill
```

**Step 4: æäº¤**

```bash
git add anti-ai-v4-deprecated.md anti-ai-v5-balanced.md
git commit -m "feat: deprecate anti-ai-v4 and add balanced v5 rules"
```

---

### Task 1.8: é›†æˆåˆ° /write å‘½ä»¤

**Files:**
- Modify: `templates/commands/write.md`

**Step 1: åœ¨ write.md å¼€å¤´æ·»åŠ Skillæ¿€æ´»è¯´æ˜**

åœ¨ `templates/commands/write.md` çš„ç³»ç»Ÿæç¤ºéƒ¨åˆ†æ·»åŠ ï¼š

```markdown
## è‡ªåŠ¨æ¿€æ´»çš„Skills

æœ¬å‘½ä»¤è‡ªåŠ¨æ¿€æ´»ä»¥ä¸‹Skillsï¼š

1. **writing-balance** - æ™ºèƒ½å†™ä½œå¹³è¡¡ç›‘æ§
   - æ–‡ä»¶: @templates/skills/writing-techniques/writing-balance/SKILL.md
   - åŠŸèƒ½: å†™ä½œå®Œæˆåè‡ªåŠ¨è¯„ä¼°6ä¸ªç»´åº¦å¹³è¡¡åº¦
   - è¾“å‡º: å¹³è¡¡åº¦è¯„ä¼°æŠ¥å‘Š + æ”¹è¿›å»ºè®®

2. **writing-techniques** - å†™ä½œæŠ€å·§æ•™å­¦
   - æ–‡ä»¶: @templates/skills/writing-techniques/writing-techniques/SKILL.md
   - åŠŸèƒ½: åº”ç”¨8ä¸ªæ¨¡å—çš„å†™ä½œæŠ€å·§
   - æ•ˆæœ: æå‡æ–‡å­—è‡ªç„¶åº¦ã€å±‚æ¬¡æ„Ÿã€èŠ‚å¥å˜åŒ–

**è¯´æ˜**:
- è¿™ä¸¤ä¸ªSkillsååŒå·¥ä½œï¼Œæ›¿ä»£äº†æ—§çš„ anti-ai-v4 ç¦æ­¢åˆ—è¡¨
- ç”¨æˆ·æ— éœ€æ‰‹åŠ¨æ¿€æ´»ï¼ŒAIä¼šè‡ªåŠ¨åº”ç”¨
- å¦‚éœ€è‡ªå®šä¹‰é…ç½®ï¼Œå¯åœ¨ specification.md ä¸­æ·»åŠ  `writing_balance_config`
```

**Step 2: éªŒè¯å¼•ç”¨**

```bash
grep -n "@templates/skills" templates/commands/write.md
```

**Step 3: æäº¤**

```bash
git add templates/commands/write.md
git commit -m "feat(write): integrate writing-balance and writing-techniques skills"
```

---

### Task 1.9: ç¼–å†™Phase 1æµ‹è¯•ç”¨ä¾‹

**Files:**
- Create: `tests/unit/skills/writing-balance.test.ts`

**Step 1: ç¼–å†™æµ‹è¯•æ¡†æ¶**

```typescript
import { describe, it, expect } from '@jest/globals';

describe('writing-balance skill', () => {
  describe('sentence length distribution', () => {
    it('should score 100 for perfect distribution', () => {
      const sentences = [
        // 35% short (<12 chars)
        "ä»–èµ°äº†ã€‚",
        "é—¨å¼€äº†ã€‚",
        "å¾ˆå†·ã€‚",
        "ç³Ÿäº†ã€‚",

        // 50% medium (12-25 chars)
        "å¥¹ç«™åœ¨çª—å‰ï¼Œçœ‹ç€å¤–é¢çš„é›¨ã€‚",
        "å’–å•¡è¿˜å†’ç€çƒ­æ°”ã€‚",
        "ä»–æƒ³äº†æƒ³ï¼Œæ²¡è¯´è¯ã€‚",
        "æœˆå…‰æ‰“åœ¨å¥¹è„¸ä¸Šã€‚",
        "æˆ¿é—´å¾ˆå®‰é™ã€‚",

        // 15% long (>25 chars)
        "çª—å¤–çš„é›¨è¶Šä¸‹è¶Šå¤§ï¼Œé›¨ç‚¹æ‰“åœ¨ç»ç’ƒä¸Šå‘å‡ºå™¼å•ªå£°ã€‚",
        "å¥¹ååœ¨æ¤…å­ä¸Šï¼Œæ‰‹æŒ‡åœ¨æ¡Œé¢ä¸Šè½»è½»æ•²ç€ï¼Œå’–å•¡è¿˜å†’ç€çƒ­æ°”ã€‚"
      ];

      const score = scoreSentenceLength(sentences);
      expect(score).toBeGreaterThan(85);
    });

    it('should score low for all short sentences', () => {
      const sentences = [
        "ä»–èµ°äº†ã€‚",
        "é—¨å¼€äº†ã€‚",
        "å¾ˆå†·ã€‚",
        "ç³Ÿäº†ã€‚",
        "å¥¹æ„£ä½äº†ã€‚"
      ];

      const score = scoreSentenceLength(sentences);
      expect(score).toBeLessThan(60);
    });
  });

  describe('lexical diversity', () => {
    it('should detect word repetition', () => {
      const text = "ä»–è¯´äº†ã€‚å¥¹è¯´äº†ã€‚æˆ‘ä¹Ÿè¯´äº†ã€‚ä»–åˆè¯´äº†ã€‚å¤§å®¶éƒ½åœ¨è¯´ã€‚";

      const { ttr, highFreqWords } = analyzeLexicalDiversity(text);
      expect(ttr).toBeLessThan(0.65);
      expect(highFreqWords).toContain('è¯´');
    });

    it('should score high for diverse vocabulary', () => {
      const text = "ä»–è®²äº†å‡ å¥ã€‚å¥¹å¼€å£å›åº”ã€‚æˆ‘æ’äº†ä¸€å¥è¯ã€‚ä»–åˆè¯´äº†ä»€ä¹ˆã€‚å¤§å®¶éƒ½åœ¨äº¤æµã€‚";

      const { ttr } = analyzeLexicalDiversity(text);
      expect(ttr).toBeGreaterThan(0.65);
    });
  });

  describe('idiom usage', () => {
    it('should allow colloquial idioms within limit', () => {
      const text = `
        ä¸€è¨€éš¾å°½ã€‚è¿™äº‹è¯´æ¥è¯é•¿ã€‚
        ä»–è«åå…¶å¦™åœ°ç”Ÿæ°”äº†ã€‚å¥¹è‹¥æ— å…¶äº‹åœ°èµ°è¿‡ã€‚
      `;  // 4ä¸ªæˆè¯­ï¼Œçº¦50å­— â†’ 80ä¸ª/1000å­—ï¼Œè¶…é™

      const score = scoreIdiomUsage(text);
      expect(score).toBeLessThan(70);
    });

    it('should penalize literary idioms', () => {
      const idioms = ['è‚è‚ å¯¸æ–­', 'äº”å‘³æ‚é™ˆ'];
      const score = scoreIdiomUsage('', idioms);
      expect(score).toBeLessThan(70);  // -15 * 2 = -30
    });
  });
});

// è¾…åŠ©å‡½æ•°ï¼ˆæ¨¡æ‹Ÿè¯„åˆ†ç®—æ³•ï¼‰
function scoreSentenceLength(sentences: string[]): number {
  const short = sentences.filter(s => s.length < 12).length;
  const medium = sentences.filter(s => s.length >= 12 && s.length <= 25).length;
  const long = sentences.filter(s => s.length > 25).length;

  const total = sentences.length;
  const shortPct = short / total;
  const mediumPct = medium / total;
  const longPct = long / total;

  const ideal = [0.35, 0.50, 0.15];
  const actual = [shortPct, mediumPct, longPct];

  const deviation = Math.sqrt(
    actual.reduce((sum, val, i) => sum + Math.pow(val - ideal[i], 2), 0)
  );

  return Math.max(0, 100 - deviation * 200);
}

function analyzeLexicalDiversity(text: string): { ttr: number; highFreqWords: string[] } {
  const words = text.replace(/[ã€‚ï¼Œã€ï¼ï¼Ÿ]/g, ' ').split(/\s+/).filter(w => w);
  const uniqueWords = new Set(words);
  const ttr = uniqueWords.size / words.length;

  const freq = new Map<string, number>();
  words.forEach(w => freq.set(w, (freq.get(w) || 0) + 1));

  const highFreqWords = Array.from(freq.entries())
    .filter(([_, count]) => count >= 3)
    .map(([word, _]) => word);

  return { ttr, highFreqWords };
}

function scoreIdiomUsage(text: string, idioms: string[] = []): number {
  const blacklist = ['è‚è‚ å¯¸æ–­', 'è¸Œèº‡æ»¡å¿—', 'ä»å®¹ä¸è¿«', 'äº”å‘³æ‚é™ˆ', 'ç™¾æ„Ÿäº¤é›†'];

  const textLength = text.replace(/[ã€‚ï¼Œã€ï¼ï¼Ÿ\s]/g, '').length;
  const limit = (textLength / 1000) * 5;

  let score = 100;

  if (idioms.length > limit) {
    score -= (idioms.length - limit) * 10;
  }

  const blacklistCount = idioms.filter(i => blacklist.includes(i)).length;
  score -= blacklistCount * 15;

  return Math.max(0, score);
}
```

**Step 2: è¿è¡Œæµ‹è¯•ï¼ˆåº”è¯¥å¤±è´¥ï¼Œå› ä¸ºæ²¡æœ‰å®ç°ï¼‰**

```bash
npm test -- tests/unit/skills/writing-balance.test.ts
```

Expected: FAIL (è¾…åŠ©å‡½æ•°æ˜¯æ¨¡æ‹Ÿçš„ï¼Œå®é™…Skillåœ¨Markdownä¸­)

**Step 3: æ·»åŠ è¯´æ˜æ³¨é‡Š**

åœ¨æµ‹è¯•æ–‡ä»¶å¼€å¤´æ·»åŠ ï¼š

```typescript
/**
 * writing-balance Skill æµ‹è¯•
 *
 * æ³¨æ„: æœ¬æµ‹è¯•éªŒè¯è¯„åˆ†ç®—æ³•çš„é€»è¾‘æ­£ç¡®æ€§
 * Skillæœ¬èº«æ˜¯Markdownæ–‡ä»¶ï¼Œç”±AIåœ¨è¿è¡Œæ—¶åº”ç”¨
 * è¿™é‡Œçš„è¾…åŠ©å‡½æ•°æ˜¯ç®—æ³•çš„TypeScriptå®ç°ï¼Œç”¨äºéªŒè¯
 */
```

**Step 4: æäº¤**

```bash
git add tests/unit/skills/writing-balance.test.ts
git commit -m "test: add unit tests for writing-balance skill algorithms"
```

---

### Task 1.10: Phase 1 é›†æˆæµ‹è¯•

**Files:**
- Create: `tests/integration/phase1-writing-balance.test.ts`

**Step 1: ç¼–å†™é›†æˆæµ‹è¯•**

```typescript
import { describe, it, expect, beforeAll, afterAll } from '@jest/globals';
import fs from 'fs-extra';
import path from 'path';
import os from 'os';

describe('Phase 1: Writing Balance Integration', () => {
  let tempDir: string;
  let projectDir: string;

  beforeAll(() => {
    tempDir = fs.mkdtempSync(path.join(os.tmpdir(), 'nws-phase1-'));
    projectDir = path.join(tempDir, 'test-project');
  });

  afterAll(() => {
    fs.removeSync(tempDir);
  });

  it('should have writing-balance skill file', () => {
    const skillPath = path.resolve(
      __dirname,
      '../../templates/skills/writing-techniques/writing-balance/SKILL.md'
    );
    expect(fs.existsSync(skillPath)).toBe(true);

    const content = fs.readFileSync(skillPath, 'utf-8');
    expect(content).toContain('å¥é•¿åˆ†å¸ƒå¹³è¡¡åº¦');
    expect(content).toContain('è¯æ±‡ä¸°å¯Œåº¦');
    expect(content).toContain('æå†™å±‚æ¬¡æ„Ÿ');
    expect(content).toContain('æˆè¯­ä½¿ç”¨åº¦');
    expect(content).toContain('å¥å¼å˜åŒ–åº¦');
    expect(content).toContain('è‡ªç„¶åº¦è¯„åˆ†');
  });

  it('should have writing-techniques skill file', () => {
    const skillPath = path.resolve(
      __dirname,
      '../../templates/skills/writing-techniques/writing-techniques/SKILL.md'
    );
    expect(fs.existsSync(skillPath)).toBe(true);

    const content = fs.readFileSync(skillPath, 'utf-8');
    expect(content).toContain('æ ‡ç‚¹ç¬¦å·è‰ºæœ¯');
    expect(content).toContain('å¥å¼å˜åŒ–æŠ€å·§');
    expect(content).toContain('æå†™æ‰‹æ³•');
    expect(content).toContain('å¯¹è¯çœŸå®åŒ–');
  });

  it('should have deprecated anti-ai-v4', () => {
    const oldPath = path.resolve(
      __dirname,
      '../../templates/knowledge-base/requirements/anti-ai-v4-deprecated.md'
    );
    expect(fs.existsSync(oldPath)).toBe(true);

    const content = fs.readFileSync(oldPath, 'utf-8');
    expect(content).toContain('æ­¤ç‰ˆæœ¬å·²åºŸå¼ƒ');
  });

  it('should have new anti-ai-v5-balanced', () => {
    const newPath = path.resolve(
      __dirname,
      '../../templates/knowledge-base/requirements/anti-ai-v5-balanced.md'
    );
    expect(fs.existsSync(newPath)).toBe(true);

    const content = fs.readFileSync(newPath, 'utf-8');
    expect(content).toContain('v5.0ï¼ˆå¹³è¡¡ç‰ˆï¼‰');
    expect(content).toContain('å¹³è¡¡AIè¯†åˆ«åº¦ä¸è‡ªç„¶è¡¨è¾¾');
  });

  it('should integrate skills in write command', () => {
    const writePath = path.resolve(
      __dirname,
      '../../templates/commands/write.md'
    );
    const content = fs.readFileSync(writePath, 'utf-8');

    expect(content).toContain('writing-balance');
    expect(content).toContain('writing-techniques');
  });
});
```

**Step 2: è¿è¡Œé›†æˆæµ‹è¯•**

```bash
npm test -- tests/integration/phase1-writing-balance.test.ts
```

Expected: PASSï¼ˆéªŒè¯æ–‡ä»¶å­˜åœ¨å’Œå†…å®¹æ­£ç¡®ï¼‰

**Step 3: æäº¤**

```bash
git add tests/integration/phase1-writing-balance.test.ts
git commit -m "test: add Phase 1 integration tests"
```

---

### Task 1.11: Phase 1 å®Œæˆæäº¤

**Step 1: è¿è¡Œæ‰€æœ‰æµ‹è¯•**

```bash
npm test
```

Expected: æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ275 + æ–°å¢æµ‹è¯•ï¼‰

**Step 2: æ›´æ–°æ–‡æ¡£**

åœ¨ `docs/plans/2026-02-14-optimization-design.md` ä¸­æ ‡è®° Phase 1 ä¸ºå®Œæˆã€‚

**Step 3: åˆ›å»º Phase 1 å®ŒæˆæŠ¥å‘Š**

åˆ›å»º `docs/plans/phase1-completion-report.md`:

```markdown
# Phase 1 å®ŒæˆæŠ¥å‘Š - AIå»å‘³æ™ºèƒ½åŒ–

**å®Œæˆæ—¥æœŸ**: [å¡«å†™å®é™…æ—¥æœŸ]
**å·¥æœŸ**: [å¡«å†™å®é™…å·¥æœŸ]
**æµ‹è¯•çŠ¶æ€**: âœ… å…¨éƒ¨é€šè¿‡

## äº¤ä»˜ç‰©æ¸…å•

### æ–°å¢æ–‡ä»¶ï¼ˆ2ä¸ªï¼‰
1. âœ… `templates/skills/writing-techniques/writing-balance/SKILL.md` (~800è¡Œ)
2. âœ… `templates/skills/writing-techniques/writing-techniques/SKILL.md` (~1000è¡Œ)

### æ›´æ–°æ–‡ä»¶ï¼ˆ3ä¸ªï¼‰
1. âœ… `templates/knowledge-base/requirements/anti-ai-v4.md` â†’ `anti-ai-v4-deprecated.md`
2. âœ… `templates/knowledge-base/requirements/anti-ai-v5-balanced.md`ï¼ˆæ–°å¢ï¼‰
3. âœ… `templates/commands/write.md`ï¼ˆé›†æˆæ–°Skillï¼‰

### æµ‹è¯•æ–‡ä»¶ï¼ˆ2ä¸ªï¼‰
1. âœ… `tests/unit/skills/writing-balance.test.ts`
2. âœ… `tests/integration/phase1-writing-balance.test.ts`

## åŠŸèƒ½éªŒæ”¶

- âœ… writing-balance èƒ½å‡†ç¡®è®¡ç®—6ä¸ªç»´åº¦è¯„åˆ†
- âœ… writing-techniques æä¾›8ä¸ªæ¨¡å—çš„å†™ä½œæŠ€å·§
- âœ… ä¸ /write å‘½ä»¤æ— ç¼é›†æˆ
- âœ… anti-ai-v4 å·²åºŸå¼ƒï¼Œv5å·²åˆ›å»º
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡

## ä¸‹ä¸€æ­¥

è¿›å…¥ Phase 2: ç”¨æˆ·ä½“éªŒæå‡
- å¢å¼º /guide å‘½ä»¤
- æ–°å¢ /help-me å‘½ä»¤
- é”™è¯¯å¤„ç†å¢å¼º
```

**Step 4: æœ€ç»ˆæäº¤**

```bash
git add docs/plans/phase1-completion-report.md
git commit -m "docs: Phase 1 completion report - AI flavor removal intelligence"
```

---

## Phase 2: ç”¨æˆ·ä½“éªŒæå‡ï¼ˆ1-2å‘¨ï¼‰

### Task 2.1: å¢å¼º /guide å‘½ä»¤ - ä¸Šä¸‹æ–‡æ£€æµ‹

**Files:**
- Modify: `templates/commands/guide.md`

**Step 1: æ·»åŠ é¡¹ç›®çŠ¶æ€æ£€æµ‹é€»è¾‘**

åœ¨ `guide.md` çš„ç³»ç»Ÿæç¤ºéƒ¨åˆ†æ·»åŠ ï¼š

```markdown
## ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ¨èå¼•æ“

åœ¨ç»™å‡ºæ¨èå‰ï¼Œå…ˆæ£€æµ‹é¡¹ç›®å½“å‰çŠ¶æ€ï¼š

### æ£€æµ‹æ¸…å•

1. **æ–‡ä»¶å­˜åœ¨æ€§æ£€æµ‹**:
```javascript
const hasSpec = fileExists('specification.md')
const hasPlan = fileExists('creative-plan.md')
const hasTasks = fileExists('tasks.md')
const chapterCount = countFiles('stories/*/content/*.md')
const hasTracking = fileExists('spec/tracking/character-state.json')
```

2. **æ¨¡å¼æ£€æµ‹**:
```javascript
const isSingleFileMode = fileExists('spec/tracking/character-state.json')
const isShardedMode = dirExists('spec/tracking/volumes')
const isMCPMode = fileExists('spec/tracking/novel-tracking.db')
```

3. **é—®é¢˜æ£€æµ‹**:
```javascript
const trackingSize = getFileSize('spec/tracking/character-state.json')
const needMigration = trackingSize > 50 * 1024  // >50KB
const mcpAvailable = isMCPMode && chapterCount > 300
```

### å†³ç­–é€»è¾‘

```yaml
IF not hasSpec:
  æ¨è: /specify æˆ– /constitution
  åŸå› : ç¼ºå°‘æ•…äº‹è§„æ ¼æ–‡ä»¶

ELSE IF hasSpec and not hasPlan:
  æ¨è: /plan
  åŸå› : æœ‰è§„æ ¼ä½†æ— è®¡åˆ’

ELSE IF hasPlan and not hasTasks:
  æ¨è: /tasks
  åŸå› : æœ‰è®¡åˆ’ä½†æ— ä»»åŠ¡åˆ†è§£

ELSE IF hasTasks and chapterCount == 0:
  æ¨è: /write
  åŸå› : ä»»åŠ¡å·²åˆ†è§£ï¼Œå¯ä»¥å¼€å§‹å†™ä½œ

ELSE IF chapterCount > 0:
  æ¨è: /analyze æˆ– /track --sync
  åŸå› : å·²æœ‰å†…å®¹ï¼Œå»ºè®®åˆ†ææˆ–åŒæ­¥

IF needMigration:
  è­¦å‘Š: /track --migrate --target sharded
  åŸå› : è¿½è¸ªæ–‡ä»¶è¿‡å¤§(>50KB)

IF chapterCount > 300 and not isMCPMode:
  æç¤º: è€ƒè™‘å¯ç”¨MCPæ¨¡å¼è·å¾—æ›´å¥½æ€§èƒ½
  å‘½ä»¤: /track --migrate --target mcp
```

---
```

**Step 2: æ·»åŠ æ–°æ‰‹å¼•å¯¼æ¨¡å¼**

```markdown
## æ–°æ‰‹å¼•å¯¼æ¨¡å¼

æ£€æµ‹ç”¨æˆ·æ˜¯å¦ä¸ºæ–°æ‰‹ï¼ˆé€šè¿‡å†å²å‘½ä»¤æ•°é‡æˆ–é…ç½®æ–‡ä»¶ï¼‰ï¼š

### é¦–æ¬¡ä½¿ç”¨ï¼ˆæ˜¾ç¤ºå®Œæ•´æµç¨‹å›¾ï¼‰

```
ğŸ“– ä¸ƒæ­¥æ–¹æ³•è®ºå®Œæ•´æµç¨‹

1. /constitution â”€â”
                  â”œâ”€â†’ å®šä¹‰åˆ›ä½œåŸåˆ™å’Œé£æ ¼
2. /specify â”€â”€â”€â”€â”€â”€â”˜

3. /clarify â”€â”€â”€â”€â”€â†’ æ¾„æ¸…å…³é”®å†³ç­–

4. /plan â”€â”€â”€â”€â”€â”€â”€â”€â†’ åˆ¶å®šåˆ›ä½œè®¡åˆ’

5. /tasks â”€â”€â”€â”€â”€â”€â”€â†’ åˆ†è§£ä»»åŠ¡æ¸…å•

6. /write â”€â”€â”€â”€â”€â”€â”€â†’ æ‰§è¡Œå†™ä½œ

7. /analyze â”€â”€â”€â”€â”€â†’ è´¨é‡éªŒè¯

å½“å‰ä½ç½®: â— 1 â—‹ 2 â—‹ 3 â—‹ 4 â—‹ 5 â—‹ 6 â—‹ 7
```

### ç¬¬2-5æ¬¡ä½¿ç”¨ï¼ˆç®€åŒ–æç¤ºï¼‰

```
ğŸ“ å½“å‰è¿›åº¦: å·²å®Œæˆ specification.md

ä¸‹ä¸€æ­¥:
  ğŸ¯ /plan - åˆ¶å®šåˆ›ä½œè®¡åˆ’
  ğŸ’¡ /clarify - å¦‚æœ‰ç–‘é—®å¯å…ˆæ¾„æ¸…

è¿›åº¦: â— â— â—‹ â—‹ â—‹ â—‹ â—‹
```

### ç†Ÿç»ƒç”¨æˆ·ï¼ˆä»…æ˜¾ç¤ºå¼‚å¸¸ï¼‰

```
âš ï¸ å¼‚å¸¸æé†’:
- spec/tracking/ ç›®å½•ä¸ºç©º â†’ å»ºè®®è¿è¡Œ /track-init
```

---
```

**Step 3: æäº¤**

```bash
git add templates/commands/guide.md
git commit -m "feat(guide): add context-aware recommendation engine"
```

---

### Task 2.2: åˆ›å»º /help-me å‘½ä»¤

**Files:**
- Create: `templates/commands/help-me.md`

**Step 1: åˆ›å»ºå‘½ä»¤æ–‡ä»¶**

```markdown
# help-me - è‡ªç„¶è¯­è¨€å‘½ä»¤æŸ¥è¯¢

## å‘½ä»¤æè¿°

é€šè¿‡è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ŒAIæ¨èæœ€åˆé€‚çš„å‘½ä»¤å¹¶ç»™å‡ºä½¿ç”¨ç¤ºä¾‹ã€‚

## ç”¨æ³•

```bash
/help-me <ä½ çš„éœ€æ±‚æè¿°>
```

## ç¤ºä¾‹

```bash
/help-me æˆ‘æƒ³ä¿®æ”¹è§’è‰²çš„æ€§æ ¼è®¾å®š
/help-me æ€ä¹ˆæ£€æŸ¥æ—¶é—´çº¿æœ‰æ²¡æœ‰çŸ›ç›¾
/help-me æŸ¥æ‰¾æŸä¸ªæƒ…èŠ‚
/help-me åˆ†ææœ€è¿‘å‡ ç« çš„èŠ‚å¥
```

---

## å·¥ä½œæµç¨‹

1. ç†è§£ç”¨æˆ·è‡ªç„¶è¯­è¨€éœ€æ±‚
2. åŒ¹é…åˆ°æœ€åˆé€‚çš„å‘½ä»¤
3. ç»™å‡ºä½¿ç”¨ç¤ºä¾‹å’Œç›¸å…³å‘½ä»¤
4. æä¾›è¯¦ç»†æ–‡æ¡£é“¾æ¥

---

## åœºæ™¯æ˜ å°„è¡¨ï¼ˆ50+åœºæ™¯ï¼‰

### è§’è‰²ç®¡ç†

| ç”¨æˆ·éœ€æ±‚ | æ¨èå‘½ä»¤ |
|---------|---------|
| ä¿®æ”¹è§’è‰²æ€§æ ¼ | /character update <è§’è‰²å> |
| æŸ¥çœ‹è§’è‰²å¡ç‰‡ | /character show <è§’è‰²å> |
| åˆ›å»ºæ–°è§’è‰² | /character create |
| åˆ†æè§’è‰²å¯¹è¯é£æ ¼ | /character voice <è§’è‰²å> |
| æŸ¥çœ‹è§’è‰²æ—¶é—´çº¿ | /character timeline <è§’è‰²å> |
| æŸ¥çœ‹è§’è‰²å…³ç³» | /character relate <è§’è‰²å> |

### æƒ…èŠ‚ç®¡ç†

| ç”¨æˆ·éœ€æ±‚ | æ¨èå‘½ä»¤ |
|---------|---------|
| æ£€æŸ¥æ—¶é—´çº¿çŸ›ç›¾ | /timeline |
| æŸ¥çœ‹è§’è‰²å…³ç³»å›¾ | /relations |
| è¿½è¸ªæƒ…èŠ‚çº¿è¿›åº¦ | /track --check |
| åŒæ­¥è¿½è¸ªæ•°æ® | /track --sync |
| æŸ¥çœ‹åˆ›ä½œç»Ÿè®¡ | /track --stats |

### å†…å®¹æŸ¥è¯¢

| ç”¨æˆ·éœ€æ±‚ | æ¨èå‘½ä»¤ |
|---------|---------|
| æŸ¥æ‰¾æŸä¸ªæƒ…èŠ‚ | /search <å…³é”®è¯> (éœ€MCP) |
| ç”Ÿæˆç¬¬Xå·æ‘˜è¦ | /volume-summary --volume vol-0X |
| å›é¡¾å‰æƒ… | /recap --brief |
| æŸ¥çœ‹æŸç« å†…å®¹ | ç›´æ¥æ‰“å¼€æ–‡ä»¶ stories/*/content/ch-XX.md |

### è´¨é‡åˆ†æ

| ç”¨æˆ·éœ€æ±‚ | æ¨èå‘½ä»¤ |
|---------|---------|
| åˆ†æèŠ‚å¥ | /analyze --focus=pacing |
| æ£€æŸ¥äººç‰©å¯¹è¯ | /analyze --focus=voice |
| æ£€æŸ¥ä¼ç¬” | /analyze --focus=foreshadow |
| åˆ†ææœ€è¿‘3ç«  | /analyze --range ch-10-12 |
| åˆ†ææ•´å· | /analyze --range vol-01 |
| æ£€æŸ¥å†™ä½œå¹³è¡¡åº¦ | /analyze --focus=balance |

### ä¿®æ”¹ä¸å®Œå–„

| ç”¨æˆ·éœ€æ±‚ | æ¨èå‘½ä»¤ |
|---------|---------|
| ä¿®æ”¹æŸç«  | /revise <ç« èŠ‚> |
| ç³»ç»Ÿæ€§ä¿®æ”¹ | /revise --level structure/pacing/consistency/polish |
| è´¨é‡æ£€æŸ¥ | /checklist |

### ç³»ç»Ÿæ“ä½œ

| ç”¨æˆ·éœ€æ±‚ | æ¨èå‘½ä»¤ |
|---------|---------|
| è¿ç§»åˆ°å¤§å‹é¡¹ç›®æ¨¡å¼ | /track --migrate --target sharded |
| è¿ç§»åˆ°MCPæ¨¡å¼ | /track --migrate --target mcp |
| åˆå§‹åŒ–è¿½è¸ªç³»ç»Ÿ | /track-init |
| å‡çº§é¡¹ç›® | novelws upgrade |

### ä¸“å®¶å’¨è¯¢

| ç”¨æˆ·éœ€æ±‚ | æ¨èå‘½ä»¤ |
|---------|---------|
| è§’è‰²å¡‘é€ å»ºè®® | /expert character |
| æƒ…èŠ‚è®¾è®¡å»ºè®® | /expert plot |
| ä¸–ç•Œè§‚æ„å»ºå»ºè®® | /expert worldbuilding |
| æ–‡ç¬”æå‡å»ºè®® | /expert prose |
| ç±»å‹å°è¯´å»ºè®® | /expert genre |

---

## è¾“å‡ºæ¨¡æ¿

```markdown
ğŸ“Œ æ¨èå‘½ä»¤ï¼š<å‘½ä»¤åç§°>

ç”¨æ³•ç¤ºä¾‹ï¼š
  <å…·ä½“å‘½ä»¤ç¤ºä¾‹>

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
1. <åŠŸèƒ½ç‚¹1>
2. <åŠŸèƒ½ç‚¹2>
3. <åŠŸèƒ½ç‚¹3>

ğŸ’¡ ç›¸å…³å‘½ä»¤ï¼š
- <ç›¸å…³å‘½ä»¤1> - <è¯´æ˜>
- <ç›¸å…³å‘½ä»¤2> - <è¯´æ˜>

ğŸ“– è¯¦ç»†æ–‡æ¡£ï¼šè¿è¡Œ <è·å–æ›´å¤šå¸®åŠ©çš„å‘½ä»¤>
```

---

## ç¤ºä¾‹å¯¹è¯

### ç¤ºä¾‹1ï¼šä¿®æ”¹è§’è‰²

```
ç”¨æˆ·: /help-me æˆ‘æƒ³ä¿®æ”¹è§’è‰²çš„æ€§æ ¼è®¾å®š

è¾“å‡º:
ğŸ“Œ æ¨èå‘½ä»¤ï¼š/character update

ç”¨æ³•ç¤ºä¾‹ï¼š
  /character update ææ˜

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
1. è¯»å–å½“å‰è§’è‰²å¡ç‰‡ï¼ˆspec/knowledge/characters/ææ˜.mdï¼‰
2. è®©ä½ ä¿®æ”¹æ€§æ ¼ã€èƒŒæ™¯ã€èƒ½åŠ›ç­‰ä¿¡æ¯
3. è‡ªåŠ¨æ›´æ–°æ–‡ä»¶
4. åŒæ­¥æ›´æ–° tracking æ•°æ®ï¼ˆå¦‚å·²å¯ç”¨ï¼‰

ğŸ’¡ ç›¸å…³å‘½ä»¤ï¼š
- /character show ææ˜ - æŸ¥çœ‹å½“å‰è®¾å®š
- /track --sync - åŒæ­¥ä¿®æ”¹åˆ°è¿½è¸ªæ–‡ä»¶
- /character voice ææ˜ - åˆ†æè§’è‰²å¯¹è¯é£æ ¼

ğŸ“– è¯¦ç»†æ–‡æ¡£ï¼šè¿è¡Œ /expert character è·å–è§’è‰²å¡‘é€ ä¸“å®¶å’¨è¯¢
```

### ç¤ºä¾‹2ï¼šæ£€æŸ¥æ—¶é—´çº¿

```
ç”¨æˆ·: /help-me æ€ä¹ˆæ£€æŸ¥æ—¶é—´çº¿æœ‰æ²¡æœ‰çŸ›ç›¾

è¾“å‡º:
ğŸ“Œ æ¨èå‘½ä»¤ï¼š/timeline

ç”¨æ³•ç¤ºä¾‹ï¼š
  /timeline

è¿™ä¸ªå‘½ä»¤ä¼šï¼š
1. è¯»å– spec/tracking/timeline.json
2. å¯è§†åŒ–æ—¶é—´çº¿ï¼ˆæŒ‰æ—¶é—´é¡ºåºæ’åˆ—æ‰€æœ‰äº‹ä»¶ï¼‰
3. è‡ªåŠ¨æ£€æµ‹æ—¶é—´å†²çªï¼ˆåŒä¸€æ—¶é—´å¤šä¸ªäº‹ä»¶ï¼‰
4. æ ‡è®°å¯ç–‘çš„æ—¶é—´è·³è·ƒ

ğŸ’¡ ç›¸å…³å‘½ä»¤ï¼š
- /character timeline <è§’è‰²å> - æŸ¥çœ‹æŸä¸ªè§’è‰²çš„æ—¶é—´çº¿
- /track --check - æ·±åº¦å¥åº·æ£€æŸ¥ï¼ˆåŒ…æ‹¬æ—¶é—´çº¿ï¼‰
- /analyze --focus=logic - é€»è¾‘ä¸€è‡´æ€§åˆ†æ

ğŸ“– è¯¦ç»†æ–‡æ¡£ï¼šåœ¨ CLAUDE.md ä¸­æœç´¢"æ—¶é—´çº¿ç®¡ç†"
```

---

## æ¨¡ç³ŠåŒ¹é…

å¦‚æœç”¨æˆ·éœ€æ±‚ä¸æ˜ç¡®ï¼Œç»™å‡ºå¤šä¸ªé€‰é¡¹ï¼š

```
ç”¨æˆ·: /help-me åˆ†æ

è¾“å‡º:
ğŸ¤” "åˆ†æ"å¯èƒ½æŒ‡ï¼š

1. åˆ†æç« èŠ‚è´¨é‡ â†’ /analyze
2. åˆ†æè§’è‰²å¯¹è¯ â†’ /analyze --focus=voice
3. åˆ†æèŠ‚å¥ â†’ /analyze --focus=pacing
4. åˆ†ææ•…äº‹æ¡†æ¶ â†’ /analyzeï¼ˆæ¡†æ¶æ¨¡å¼ï¼‰

è¯·æä¾›æ›´å¤šä¿¡æ¯ï¼Œæˆ–é€‰æ‹©ä¸Šè¿°å‘½ä»¤ä¹‹ä¸€ã€‚
```

---

## å®æ–½è¯´æ˜

**For Claude Code**:
- æœ¬å‘½ä»¤ä½¿ç”¨ç®€å•çš„å…³é”®è¯åŒ¹é… + åœºæ™¯æ˜ å°„è¡¨
- ä¸éœ€è¦å¤æ‚çš„NLPï¼ŒåŸºäºé¢„å®šä¹‰çš„æ˜ å°„å³å¯
- é‡ç‚¹æ˜¯è¦†ç›–å¸¸è§åœºæ™¯ï¼ˆ50+åœºæ™¯ï¼‰
- å¦‚æœåŒ¹é…ä¸åˆ°ï¼Œç»™å‡ºç›¸å…³å‘½ä»¤åˆ—è¡¨ä¾›é€‰æ‹©

---

## ç‰ˆæœ¬å†å²

- **v1.0** (2026-02-14): åˆå§‹ç‰ˆæœ¬ï¼Œ50+åœºæ™¯æ˜ å°„
```

**Step 2: æäº¤**

```bash
git add templates/commands/help-me.md
git commit -m "feat: add /help-me command for natural language command discovery"
```

---

### Task 2.3: åˆ›å»ºç»Ÿä¸€é”™è¯¯å¤„ç†æ¡†æ¶

**Files:**
- Modify: `src/core/errors.ts`

**Step 1: å†™å¤±è´¥æµ‹è¯•**

åˆ›å»º `tests/unit/core/errors.test.ts`:

```typescript
import { describe, it, expect } from '@jest/globals';
import {
  MissingFileError,
  ModeMismatchError,
  DataIntegrityError,
  DependencyMissingError
} from '../../../src/core/errors';

describe('Error Framework', () => {
  it('should create MissingFileError with suggestion', () => {
    const error = new MissingFileError(
      'spec/tracking/character-state.json',
      'è¿è¡Œ /track-init åˆå§‹åŒ–è¿½è¸ªç³»ç»Ÿ'
    );

    expect(error.message).toContain('spec/tracking/character-state.json');
    expect(error.message).toContain('ğŸ’¡ ä¿®å¤å»ºè®®');
    expect(error.message).toContain('/track-init');
    expect(error.name).toBe('MissingFileError');
  });

  it('should create ModeMismatchError', () => {
    const error = new ModeMismatchError(
      'mcp',
      'single-file',
      '/search'
    );

    expect(error.message).toContain('single-file');
    expect(error.message).toContain('mcp');
    expect(error.message).toContain('/search');
    expect(error.message).toContain('/track --migrate');
  });

  it('should create DataIntegrityError with auto-fix flag', () => {
    const error = new DataIntegrityError(
      'character-state.json æ ¼å¼é”™è¯¯',
      true
    );

    expect(error.message).toContain('character-state.json');
    expect(error.message).toContain('âœ… å·²è‡ªåŠ¨ä¿®å¤');
  });

  it('should create DependencyMissingError', () => {
    const error = new DependencyMissingError(
      'MCPæœåŠ¡å™¨',
      'æ£€æŸ¥ .claude/config.json ä¸­çš„ mcpServers é…ç½®'
    );

    expect(error.message).toContain('MCPæœåŠ¡å™¨');
    expect(error.message).toContain('.claude/config.json');
  });
});
```

**Step 2: è¿è¡Œæµ‹è¯•ï¼ˆåº”è¯¥å¤±è´¥ï¼‰**

```bash
npm test -- tests/unit/core/errors.test.ts
```

Expected: FAILï¼ˆç±»å‹æœªå®šä¹‰ï¼‰

**Step 3: å®ç°é”™è¯¯ç±»**

åœ¨ `src/core/errors.ts` ä¸­æ·»åŠ ï¼š

```typescript
/**
 * æ–‡ä»¶ç¼ºå¤±é”™è¯¯ï¼ˆå¸¦ä¿®å¤å»ºè®®ï¼‰
 */
export class MissingFileError extends Error {
  constructor(filePath: string, suggestion: string) {
    super(
      `æ–‡ä»¶ä¸å­˜åœ¨: ${filePath}\n\nğŸ’¡ ä¿®å¤å»ºè®®: ${suggestion}`
    );
    this.name = 'MissingFileError';
  }
}

/**
 * æ¨¡å¼ä¸åŒ¹é…é”™è¯¯
 */
export class ModeMismatchError extends Error {
  constructor(
    expectedMode: string,
    actualMode: string,
    action: string
  ) {
    super(
      `æ¨¡å¼ä¸åŒ¹é…: å½“å‰é¡¹ç›®ä½¿ç”¨ ${actualMode} æ¨¡å¼ï¼Œä½† ${action} éœ€è¦ ${expectedMode} æ¨¡å¼\n\n` +
      `ğŸ’¡ ä¿®å¤å»ºè®®: è¿è¡Œ /track --migrate --target ${expectedMode}`
    );
    this.name = 'ModeMismatchError';
  }
}

/**
 * æ•°æ®å®Œæ•´æ€§é”™è¯¯
 */
export class DataIntegrityError extends Error {
  constructor(issue: string, autoFixed: boolean) {
    super(
      `æ•°æ®å®Œæ•´æ€§é—®é¢˜: ${issue}\n\n` +
      (autoFixed ? 'âœ… å·²è‡ªåŠ¨ä¿®å¤' : 'âš ï¸ éœ€è¦æ‰‹åŠ¨æ£€æŸ¥')
    );
    this.name = 'DataIntegrityError';
  }
}

/**
 * ä¾èµ–ç¼ºå¤±é”™è¯¯
 */
export class DependencyMissingError extends Error {
  constructor(dependency: string, installCmd: string) {
    super(
      `ç¼ºå°‘ä¾èµ–: ${dependency}\n\nğŸ’¡ å®‰è£…æ–¹æ³•: ${installCmd}`
    );
    this.name = 'DependencyMissingError';
  }
}
```

**Step 4: è¿è¡Œæµ‹è¯•ï¼ˆåº”è¯¥é€šè¿‡ï¼‰**

```bash
npm test -- tests/unit/core/errors.test.ts
```

Expected: PASS

**Step 5: æäº¤**

```bash
git add src/core/errors.ts tests/unit/core/errors.test.ts
git commit -m "feat(errors): add unified error framework with helpful suggestions"
```

---

### Task 2.4: åˆ›å»ºè¯Šæ–­ç³»ç»Ÿï¼ˆæ¡†æ¶ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼ŒPhase 2å’ŒPhase 3çš„è¯¦ç»†ä»»åŠ¡å°†åœ¨åç»­ç»§ç»­ã€‚è¿™ä¸ªå®æ–½è®¡åˆ’å·²ç»æä¾›äº†ï¼š

1. **Phase 1çš„å®Œæ•´è¯¦ç»†ä»»åŠ¡**ï¼ˆTask 1.1 - 1.11ï¼‰
2. **Phase 2çš„éƒ¨åˆ†ä»»åŠ¡**ï¼ˆTask 2.1 - 2.4ï¼‰
3. **æ¯ä¸ªä»»åŠ¡çš„è¯¦ç»†æ­¥éª¤**ï¼ˆStep 1-Nï¼‰
4. **å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹**
5. **ç¡®åˆ‡çš„å‘½ä»¤å’ŒæœŸæœ›è¾“å‡º**

---

## æ‰§è¡Œå»ºè®®

ç”±äºè¿™æ˜¯ä¸€ä¸ªå¤§å‹é¡¹ç›®ï¼ˆ4-7å‘¨ï¼‰ï¼Œå»ºè®®ï¼š

1. **å…ˆå®ŒæˆPhase 1**ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2. **éªŒè¯æ•ˆæœ**åå†è¿›å…¥Phase 2
3. **æ ¹æ®åé¦ˆè°ƒæ•´**Phase 3çš„å…·ä½“å®æ–½

**ä¸‹ä¸€æ­¥**ï¼šéœ€è¦æˆ‘ç»§ç»­ç¼–å†™Phase 2å’ŒPhase 3çš„è¯¦ç»†ä»»åŠ¡å—ï¼Ÿè¿˜æ˜¯å…ˆå¼€å§‹æ‰§è¡ŒPhase 1ï¼Ÿ
