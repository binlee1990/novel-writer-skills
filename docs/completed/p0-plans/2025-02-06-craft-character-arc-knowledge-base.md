# Craft/Character-Arc 知识库实现计划

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**目标：** 创建角色弧线写作知识库文件 templates/knowledge-base/craft/character-arc.md

**架构：** 基于角色弧线理论（正向弧/负向弧/平面弧）和角色转变机制，编写 700-900 行的系统化角色成长指南

**技术栈：** Markdown 文档，遵循项目知识库格式规范

---

## 背景与动机

### 问题
- templates/knowledge-base/README.md (第43行) 列出 craft/character-arc.md 但文件不存在
- 角色弧线是小说核心元素，却缺乏系统化指导
- P0 优先级任务（PRD 承诺的 5 个 craft 知识库之一）

### 价值
1. **系统化角色成长框架** - 提供可复用的角色弧线设计模型
2. **解决常见问题** - 角色扁平、成长突兀、动机不足等
3. **跨题材通用** - 适用于所有以角色为驱动的故事
4. **支持长篇创作** - 帮助在 50+ 章节中保持角色弧线一致性

### 核心理论基础
- **三种角色弧线** (Positive/Negative/Flat Arc)
- **角色转变的八个阶段** (Character Transformation Stages)
- **Lie vs Truth** (谎言与真相模型)
- **内外冲突的平衡**

---

## Task 1: 研究现有资源

**Files:**
- Read: `templates/knowledge-base/genres/romance.md` (关系弧部分)
- Read: `spec/tracking/character-state.json` (示例格式，了解角色状态追踪)
- Search: 项目中所有提到"角色成长""人物弧线"的地方

**Step 1: 提取现有角色弧线相关内容**

```bash
grep -rn "角色.*弧\|人物.*弧\|角色成长\|character.*arc" templates/
```

**Step 2: 分析角色状态追踪结构**

```bash
# 如果存在示例文件
cat spec/tracking/character-state.json
```

**目的：** 了解项目如何追踪角色状态，知识库需要与追踪系统配合

---

## Task 2: 设计 character-arc.md 内容大纲

**内容结构：**

```markdown
# 角色弧线写作知识库

## 快速参考（Quick Reference）
- 角色弧线的定义
- 三种基本弧线类型
- 核心转变公式

## 核心原则（Core Principles）

### 1. 三种角色弧线类型

#### A. 正向弧线（Positive Arc）
- 定义：角色克服内在缺陷，成长为更好的人
- 公式：Lie（谎言/错误信念）→ Truth（真相/正确信念）
- 适用故事：成长故事、救赎故事
- 经典案例：《傲慢与偏见》伊丽莎白

#### B. 负向弧线（Negative Arc）
- 定义：角色被缺陷吞噬，堕落或毁灭
- 公式：Truth → Lie，或 Lie → Deeper Lie
- 适用故事：悲剧、堕落故事、反英雄故事
- 经典案例：《绝命毒师》Walter White

#### C. 平面弧线（Flat Arc）
- 定义：角色本身不变，但改变周围世界
- 公式：角色已知 Truth，用它影响他人
- 适用故事：英雄故事、传奇故事
- 经典案例：《神探夏洛克》

### 2. 正向弧线的八个阶段

#### 阶段 1: 角色世界（Character's World）
- 展示角色的日常生活
- 暗示内在缺陷
- Lie 如何影响角色

#### 阶段 2: 渴望与需求（Want vs Need）
- Want（表面渴望）：角色认为自己想要什么
- Need（真正需求）：角色真正需要什么（通常不自知）
- 冲突：Want 往往与 Need 相反

#### 阶段 3: 进入新世界（Crossing Threshold）
- 事件迫使角色离开舒适区
- 开始质疑 Lie
- 第一次遇见 Truth

#### 阶段 4: 抗拒改变（Resistance）
- 角色抓住 Lie 不放
- 尝试用旧方法解决新问题
- 小失败累积

#### 阶段 5: 中点顿悟（Midpoint Revelation）
- 第一次真正看见 Truth
- 但还未完全接受
- 行为开始改变

#### 阶段 6: 滑向深渊（Descent）
- 旧世界的诱惑 vs 新信念
- 最大的考验来临
- "黑暗时刻"

#### 阶段 7: 选择与牺牲（Choice）
- 必须在 Lie 和 Truth 之间做选择
- 放弃 Want，接受 Need
- 真正的转变发生

#### 阶段 8: 新自我（New Self）
- 用 Truth 解决最终冲突
- 证明成长的有效性
- 新平衡状态

### 3. Lie vs Truth 设计

#### 什么是 Lie（谎言/错误信念）
- 角色对自己、对世界的错误认知
- 限制角色的信念系统
- 示例：
  - "我不值得被爱"
  - "力量就是一切"
  - "相信别人会受伤"

#### 什么是 Truth（真相/正确信念）
- 角色需要学会的正确认知
- 解放角色的信念
- 示例：
  - "我值得爱与被爱"
  - "力量不是控制而是保护"
  - "信任是力量而非弱点"

#### 设计 Lie-Truth 对的技巧
- Lie 必须合理（有过往经历支持）
- Truth 必须与 Lie 直接对立
- Truth 必须能解决外部冲突

### 4. 内外冲突的平衡

#### 外部冲突（Plot）
- 角色与外界的斗争
- 可见的、物理的障碍
- 示例：打败反派、破案、赢得比赛

#### 内部冲突（Character Arc）
- 角色与自己的斗争
- 心理的、情感的障碍
- 示例：克服恐惧、放弃骄傲、学会信任

#### 两者的关系
- ✅ **优秀设计**：外部冲突逼迫角色面对内部冲突
- ❌ **糟糕设计**：两条线毫无关系，各讲各的

#### 示例对比

❌ **外内分离**：
```
外部：主角要打败邪恶组织
内部：主角要克服童年阴影
（两者毫无联系）
```

✅ **外内融合**：
```
外部：主角要打败邪恶组织
内部：主角一直独来独往（Lie: "依靠别人是弱点"）
转折：只有团队合作才能打败组织（Truth: "信任是力量"）
```

### 5. 角色弧线的节奏

#### 四幕结构中的弧线分布
- 第一幕（0-25%）：建立 Lie，展示日常
- 第二幕前半（25-50%）：质疑 Lie，抗拒 Truth
- 第二幕后半（50-75%）：接近 Truth，反复拉扯
- 第三幕（75-100%）：接受 Truth，转变完成

#### 长篇小说的弧线节奏
- 每 10 章左右一个弧线阶段
- 避免前 20 章毫无变化
- 中点（50%）必须有重要顿悟

## 实践应用（Practical Application）

### 在 /specify 阶段
- 定义角色的 Lie 和 Truth
- 选择角色弧线类型
- 规划弧线的八个阶段

### 在 /plan 阶段
- 将弧线阶段对应到章节
- 设计关键转变场景
- 确保外部冲突服务于内部成长

### 在 /write 阶段
- 每章检查角色状态变化
- 用行为展示成长（而非内心独白）
- 保持转变的渐进性

### 在 /analyze 阶段
- 检查弧线完整性
- 验证转变的合理性
- 追踪角色状态一致性

### 与 /track 命令的配合
- character-state.json 记录当前弧线阶段
- 每章更新角色的信念状态
- 监控成长是否按计划进行

## 常见陷阱（Common Pitfalls）

### 1. 角色没有弧线（静态角色）
[示例]

### 2. 转变太突然（缺乏铺垫）
[示例]

### 3. 内外冲突分离
[示例]

### 4. Lie 不够强大
[示例]

### 5. Truth 太容易获得
[示例]

### 6. 多个主角的弧线混乱
[示例]

## 示例分析（Examples）

### 案例 1: 完整正向弧线分析
[某经典小说角色，标注八个阶段]

### 案例 2: 负向弧线示例
[反英雄角色的堕落路径]

### 案例 3: 平面弧线示例
[不变的英雄如何改变世界]

### 案例 4: 多主角弧线交织
[双主角弧线如何互补]

## 进阶技巧（Advanced Techniques）

### 1. 假性转变（False Transformation）
- 角色看似改变，实则未触及核心
- 制造悬念和反转

### 2. 螺旋式弧线（Spiral Arc）
- 角色反复在 Lie 和 Truth 之间摇摆
- 更真实的成长路径
- 适用于长篇小说

### 3. 群像弧线设计
- 不同角色处于弧线不同阶段
- 角色之间的弧线互相影响

### 4. 反向铺垫（Reverse Foreshadowing）
- 回溯揭示角色过往
- 解释 Lie 的来源

## 角色弧线检查清单（Checklist）

设计阶段：
- [ ] 角色的 Lie 是否清晰？
- [ ] Truth 是否与 Lie 直接对立？
- [ ] 弧线类型是否明确（正/负/平）？
- [ ] 外部冲突是否逼迫内部成长？
- [ ] 八个阶段是否都有规划？

写作阶段（每章检查）：
- [ ] 角色在当前阶段的信念状态？
- [ ] 本章是否推进了弧线？
- [ ] 转变是否有行为证据？
- [ ] 节奏是否合理（不急不缓）？

分析阶段：
- [ ] 角色是否完成了弧线？
- [ ] 转变是否令人信服？
- [ ] 是否避免了突兀转变？

## 角色弧线类型快速选择

| 故事类型 | 推荐弧线 | 示例 |
|---------|---------|------|
| 成长故事 | 正向弧 | 《哈利·波特》 |
| 悲剧故事 | 负向弧 | 《麦克白》 |
| 英雄故事 | 平面弧 | 《指环王》 |
| 复仇故事 | 负向弧或正向弧 | 视主题而定 |
| 言情故事 | 双正向弧 | 两人互相成就 |

## Lie-Truth 示例库

### 常见 Lie 类型
1. **关于价值的 Lie**
   - "我不够好/不值得"
   - "我必须完美才能被接受"

2. **关于关系的 Lie**
   - "相信别人会受伤"
   - "我不需要任何人"

3. **关于力量的 Lie**
   - "力量就是控制一切"
   - "弱点必须隐藏"

4. **关于世界的 Lie**
   - "世界是黑暗的，只有我对"
   - "规则必须绝对遵守"

### 对应的 Truth
[每个 Lie 的对应 Truth 示例]

## 与 Commands 的集成

[详细说明]
```

---

## Task 3: 编写 character-arc.md 核心内容

**Files:**
- Create: `templates/knowledge-base/craft/character-arc.md`

**Step 1-6: 按大纲逐章节编写**

**总预估字数：** 700-900 行

---

## Task 4: 更新 README.md 关键词映射

**Files:**
- Modify: `templates/knowledge-base/README.md`

```yaml
character-arc:
  triggers: [角色弧线, 人物弧线, 角色成长, 人物成长, 角色转变, character arc]
  auto_load: craft/character-arc.md
```

---

## Task 5: 验证

**验证标准：**
- [ ] 文件 700-900 行
- [ ] 包含三种弧线类型完整说明
- [ ] 包含八阶段详细模型
- [ ] 至少 6 组 Lie-Truth 示例
- [ ] 检查清单完整

---

## Task 6: 提交

```bash
git add templates/knowledge-base/craft/character-arc.md
git add templates/knowledge-base/README.md
git commit -m "feat(knowledge-base): 添加 craft/character-arc.md 角色弧线知识库

- 三种角色弧线类型详解（正向/负向/平面）
- 正向弧线的八个阶段模型
- Lie vs Truth 设计方法
- 内外冲突平衡技巧
- 长篇小说弧线节奏控制

Closes: P0 优先级任务 #3"
```

---

**预估工作量：** 3-4 小时
