---
name: relations
description: ç®¡ç†å’Œè¿½è¸ªè§’è‰²å…³ç³»å˜åŒ–
argument-hint: [update | show | history | check] [è§’è‰²] [å…³ç³»] [ç›®æ ‡è§’è‰²]
allowed-tools: Read(//spec/tracking/relationships.json), Read(//spec/tracking/relationships.json), Write(//spec/tracking/relationships.json), Write(//spec/tracking/relationships.json), Bash(find:*), Bash(*)
model: claude-sonnet-4-5-20250929
scripts:
  sh: .specify/scripts/bash/manage-relations.sh
  ps: .specify/scripts/powershell/manage-relations.ps1
---

# è§’è‰²å…³ç³»ç®¡ç†

è¿½è¸ªå’Œç®¡ç†è§’è‰²ä¹‹é—´çš„å…³ç³»åŠ¨æ€ï¼Œç¡®ä¿å…³ç³»å‘å±•çš„åˆç†æ€§ã€‚

## èµ„æºåŠ è½½ï¼ˆå¯é€‰ï¼‰

æœ¬å‘½ä»¤ç”¨äºç®¡ç†è§’è‰²å…³ç³»ï¼Œé»˜è®¤è¯»å– `tracking/relationships.json`ã€‚

### å¯é€‰é…ç½®

```yaml
resource-loading:
  relations:
    knowledge-base:
      craft:
        - character-arc  # è§’è‰²å¼§çº¿çŸ¥è¯†
    skills:
      quality-assurance:
        - consistency-checker  # å…³ç³»ä¸€è‡´æ€§æ£€æŸ¥
```

**æ¨èèµ„æº**: character-arc.mdï¼ˆç†è§£å…³ç³»æ¼”å˜ï¼‰

## åŠŸèƒ½

1. **å…³ç³»ç½‘ç»œ** - ç»´æŠ¤è§’è‰²ä¹‹é—´çš„å…³ç³»å›¾è°±
2. **å…³ç³»å˜åŒ–** - è®°å½•å…³ç³»çš„æ¼”å˜å†ç¨‹
3. **æ´¾ç³»ç®¡ç†** - è¿½è¸ªå„åŠ¿åŠ›æ´¾ç³»çš„å¯¹ç«‹ä¸åˆä½œ
4. **æƒ…æ„Ÿè¿½è¸ª** - ç®¡ç†è§’è‰²é—´çš„æƒ…æ„Ÿå‘å±•

## ä½¿ç”¨æ–¹æ³•

æ‰§è¡Œè„šæœ¬ {SCRIPT} [æ“ä½œ] [å‚æ•°]ï¼š
- `update` - æ›´æ–°è§’è‰²å…³ç³»
- `show` - æ˜¾ç¤ºå…³ç³»ç½‘ç»œ
- `history` - æŸ¥çœ‹å…³ç³»å˜åŒ–å†å²
- `check` - éªŒè¯å…³ç³»é€»è¾‘

ç¤ºä¾‹ï¼š
```
{SCRIPT} update æä¸­åº¸ allies æ²ˆç‰å¿ --chapter 61 --note åˆå…¥ç¿°æ—ç›¸åŠ©
# PowerShell:
{SCRIPT} -Command update -A æä¸­åº¸ -Relation allies -B æ²ˆç‰å¿ -Chapter 61 -Note åˆå…¥ç¿°æ—ç›¸åŠ©
```

## æ•°æ®å­˜å‚¨

å…³ç³»æ•°æ®å­˜å‚¨åœ¨ `spec/tracking/relationships.json`ï¼š
```json
{
  "characters": {
    "ä¸»è§’": {
      "ç›Ÿå‹": ["è§’è‰²A", "è§’è‰²B"],
      "æ•Œå¯¹": ["è§’è‰²C"],
      "çˆ±æ…•": ["è§’è‰²D"],
      "æœªçŸ¥": ["è§’è‰²E"]
    }
  },
  "factions": {
    "æ”¹é©æ´¾": ["ä¸»è§’", "è§’è‰²A"],
    "ä¿å®ˆæ´¾": ["è§’è‰²C", "è§’è‰²F"]
  }
}
```

## è¾“å‡ºç¤ºä¾‹

```
ğŸ‘¥ è§’è‰²å…³ç³»ç½‘ç»œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ä¸»è§’ï¼šæä¸­åº¸
â”œâ”€ ğŸ’• çˆ±æ…•ï¼šæ²ˆç‰å¿
â”œâ”€ ğŸ¤ ç›Ÿå‹ï¼šå¼ å±…æ­£ï¼ˆéšè—ï¼‰
â”œâ”€ ğŸ“š å¯¼å¸ˆï¼šåˆ©ç›çª¦
â”œâ”€ âš”ï¸ æ•Œå¯¹ï¼šç”³æ—¶è¡Œæ´¾ç³»
â””â”€ ğŸ‘ï¸ ç›‘è§†ï¼šä¸œå‚

æ´¾ç³»å¯¹ç«‹ï¼š
æ”¹é©æ´¾ â†â†’ ä¿å®ˆæ´¾
ä¸œæ—å…š â†â†’ é˜‰å…š

æœ€è¿‘å˜åŒ–ï¼ˆç¬¬60ç« ï¼‰ï¼š
- æ²ˆç‰å¿ï¼šé™Œç”Ÿäºº â†’ ç›¸äº’å¸å¼•
- å¼ å±…æ­£ï¼šæœªçŸ¥ â†’ å¸ˆæ‰¿å…³ç³»
```

---

## ğŸ”— å‘½ä»¤é“¾å¼æç¤º

**å‘½ä»¤æ‰§è¡Œå®Œæˆåï¼Œè‡ªåŠ¨é™„åŠ ä¸‹ä¸€æ­¥å»ºè®®**ï¼š

```
ğŸ’¡ ä¸‹ä¸€æ­¥å»ºè®®ï¼š
1ï¸âƒ£ `/write [ç« èŠ‚å·]` â€” åŸºäºæ›´æ–°åçš„å…³ç³»ç½‘ç»œç»§ç»­å†™ä½œ
2ï¸âƒ£ `/character show [è§’è‰²å]` â€” æŸ¥çœ‹è§’è‰²å®Œæ•´æ¡£æ¡ˆå’Œå…³ç³»è¯¦æƒ…
3ï¸âƒ£ `/track --check` â€” éªŒè¯å…³ç³»æ•°æ®ä¸ç« èŠ‚å†…å®¹çš„ä¸€è‡´æ€§
```
