---
name: revision-polish
description: "Use when user has completed a draft (3+ chapters) and wants to systematically revise and polish - provides structured four-layer revision from structure to line editing, bridging /analyze diagnosis with actionable fixes"
allowed-tools: Read, Write
---

# 修改润色 (Revision & Polish)

## 快速参考（Quick Reference）

### 何时激活

**自动激活关键词**：
- 用户说"修改""润色""改稿""打磨""修订""polish""revise"
- `/analyze` 完成后用户说"怎么改""具体改哪里"
- `/export` 前检测到未经修改的初稿

**前置条件**：
- 至少 3 章已完成内容
- 建议先运行 `/analyze` 获取诊断报告

### 四层修改速查

```
第一层：结构修改 → 章节顺序、删减合并、高潮位置
第二层：节奏修改 → 紧张/舒缓交替、拖沓段落、钩子
第三层：一致性修改 → 角色、时间线、世界观、伏笔
第四层：文字润色 → 重复词、冗余表达、AI痕迹、句式
```

**核心规则**：必须从第一层开始，逐层向下。不要在结构未定时打磨文字。

---

## 核心原则 (Core Principles)

### 1. 分层修改，从大到小

**原则**：先解决大问题，再处理小问题。

**为什么必须按顺序？**
- 如果结构要大改（删章、合并、重排），文字润色就白做了
- 如果节奏要调整（删减拖沓段落），一致性检查的范围会变
- 每一层的修改可能影响下一层的内容

**检查方法**：
- 问自己："这一层还有未解决的问题吗？"
- 如果有 → 继续处理当前层
- 如果没有 → 进入下一层

### 2. 保持作者风格

**原则**：润色 ≠ 改成"标准好文"，而是"更好的你的风格"。

**执行方法**：
- 读取 `memory/style-reference.md`（如有，来自 `/book-internalize`）
- 读取 `memory/personal-voice.md`（如有）
- 修改时保持用户的个人风格特征
- 不替换用户的标志性表达方式

**风格保护清单**：
- ✓ 保留用户偏好的句式结构
- ✓ 保留用户的标志性用词
- ✓ 保留用户的叙事视角习惯
- ✗ 不要把口语化风格改成书面语（除非用户要求）
- ✗ 不要统一为"标准文学腔"

### 3. 有明确终点

**原则**：每层修改有明确的"通过标准"，避免无限循环。

**修改完成信号**：
- 每层都有具体的检查清单
- 全部通过 → 修改完成，可以导出
- 不追求完美，追求"足够好"

### 4. 可操作的建议

**原则**：不只说"有问题"，而是说"具体怎么改"。

❌ **不好的建议**：
```
节奏偏慢，建议加快。
```

✅ **好的建议**：
```
第 11 章第 3-5 段（约 800 字环境描写）建议删减至 200 字，
替换为一个简短的冲突事件：配角B突然带来坏消息。
这样可以将本章节奏从 3/10 提升到 6/10。
```

---

## 实践应用 (Best Practices)

### 执行流程

```
Step 0: 评估初稿状态
  ↓ 读取所有章节 + /analyze 报告（如有）
  ↓ 生成初稿评估报告
  ↓ 确定需要哪些层次的修改
  ↓
Step 1: 结构修改（Layer 1）
  ↓ 审查章节结构，提出调整建议
  ↓ 用户确认后执行
  ↓
Step 2: 节奏修改（Layer 2）
  ↓ 分析节奏曲线，标记问题区域
  ↓ 提供具体的节奏调整方案
  ↓
Step 3: 一致性修改（Layer 3）
  ↓ 检查角色、时间线、世界观、伏笔
  ↓ 列出所有矛盾和遗漏
  ↓
Step 4: 文字润色（Layer 4）
  ↓ 逐章扫描文字问题
  ↓ 提供具体的替换建议
  ↓
Step 5: 最终检查
  ↓ 运行修改完成检查清单
  ↓ 确认所有层次通过
  ↓
完成 → 可以导出
```

### Step 0: 初稿评估

**读取文件**：
1. 所有已完成章节：`stories/*/content/*.md` 或 `stories/*/chapters/*.md`
2. `/analyze` 报告（如有）：`stories/*/analysis-report.md`
3. 风格参考：`memory/style-reference.md`（如有）
4. 个人风格：`memory/personal-voice.md`（如有）
5. 创作计划：`stories/*/creative-plan.md`
6. 故事规格：`stories/*/specification.md`

**输出格式**：

```markdown
## 初稿评估报告

### 基本信息
- 总章数：30 章
- 总字数：256,000 字
- 平均章节长度：8,533 字

### 各层问题预估
| 层次 | 问题严重度 | 预估问题数 | 是否需要修改 |
|------|-----------|-----------|-------------|
| 结构 | ⚠️ 中等 | 3-5 处 | 是 |
| 节奏 | 🔴 严重 | 8-10 处 | 是 |
| 一致性 | ⚠️ 中等 | 5-7 处 | 是 |
| 文字 | 🟡 轻微 | 15-20 处 | 是 |

### 建议修改顺序
1. 先处理结构问题（预计影响 3 章）
2. 再处理节奏问题（预计影响 8 章）
3. 然后处理一致性（预计影响 5 章）
4. 最后文字润色（全部章节）

### 预估修改轮次
- 建议 2 轮修改即可达标
- 第 1 轮：结构 + 节奏（大改）
- 第 2 轮：一致性 + 文字（精修）
```

---

### Layer 1: 结构修改 (Structural Revision)

**目标**：确保整体叙事结构合理，章节安排得当。

**检查项**：
- 章节顺序是否合理？是否需要重排？
- 是否有多余章节需要删除或合并？
- 是否有缺失的关键场景需要补写？
- 主线/支线比例是否合理？
- 高潮点位置是否正确（通常在 70-80% 处）？
- 开头是否足够吸引人？结尾是否令人满意？

**输出格式**：

```markdown
## 结构审查报告

### 整体结构
- 结构类型：三幕式 / 英雄之旅 / 自由结构
- 章节总数：30 章
- 总字数：256,000 字

### 结构问题
| 严重度 | 位置 | 问题描述 | 操作建议 |
|--------|------|---------|---------|
| 🔴 严重 | 第 8-12 章 | 连续 5 章节奏停滞，与主线无关 | 合并为 3 章，删除支线B |
| 🟡 建议 | 第 1 章 | 开头 2000 字铺垫过长 | 删减至 500 字，从冲突开始 |
| 🟡 建议 | 第 20 章 | 高潮在 67% 处，偏早 | 后移到第 23 章（77%） |

### 操作清单
1. □ 合并第 9、10 章为一章
2. □ 删除第 11 章（与主线无关的支线）
3. □ 第 1 章开头改为 in medias res
4. □ 将高潮场景从第 20 章移至第 23 章

### 结构层通过标准
- □ 无多余章节（每章都推进主线或必要支线）
- □ 无缺失关键场景
- □ 高潮位置在 70-80%
- □ 开头在 500 字内建立钩子
- □ 结尾令人满意（或有意留悬念）
```

**用户确认**：结构修改影响最大，必须逐项确认后再执行。

---

### Layer 2: 节奏修改 (Pacing Revision)

**目标**：确保紧张/舒缓交替合理，无明显拖沓或过快。

**检查项**：
- 是否有连续 3+ 章节奏相同？
- 紧张/舒缓是否交替？
- 是否有明显拖沓的段落？
- 场景转换是否流畅？
- 章节结尾是否有钩子（hook）？

**输出格式**：

```markdown
## 节奏审查报告

### 节奏曲线
第 1-5 章：  ▓▓▓░░  中等（铺垫）
第 6-10 章： ▓▓▓▓░  较快（冲突升级）
第 11-15 章：▓░░░░  过慢 ⚠️
第 16-20 章：▓▓▓▓▓  高潮
第 21-25 章：▓▓▓░░  中等（收尾）

### 节奏问题
| 严重度 | 位置 | 问题描述 | 操作建议 |
|--------|------|---------|---------|
| 🔴 严重 | 第 11-15 章 | 连续 5 章节奏过慢 | 删减描写，增加冲突事件 |
| 🟡 警告 | 第 7 章结尾 | 缺少钩子，读者可能弃书 | 添加悬念或反转 |
| 🟡 建议 | 第 18-19 章 | 高潮后缺少喘息 | 插入安静反思场景 |

### 操作清单
1. □ 第 11-15 章：删减描写段落，增加冲突事件
2. □ 第 7 章结尾：添加悬念或反转
3. □ 第 18-19 章之间：插入角色反思的安静场景

### 节奏层通过标准
- □ 无连续 3 章以上节奏停滞
- □ 紧张/舒缓交替合理（紧张度标准差 > 2）
- □ 每章结尾有钩子或自然过渡
- □ 无明显拖沓段落（删除测试通过）
```

**配合工具**：参考 `pacing-control` Skill 的节奏工具箱进行具体调整。

---

### Layer 3: 一致性修改 (Consistency Revision)

**目标**：确保角色、时间线、世界观、伏笔前后一致。

**检查项**：
- 角色性格是否前后一致？（或有合理转变铺垫）
- 时间线是否有矛盾？
- 世界观设定是否自洽？
- 伏笔是否都有回收？
- 角色称呼/外貌描述是否一致？

**输出格式**：

```markdown
## 一致性审查报告

### 角色一致性
| 严重度 | 角色 | 位置 | 问题描述 | 操作建议 |
|--------|------|------|---------|---------|
| 🔴 矛盾 | 李明 | 第3章↔第8章 | "沉默寡言"突变"滔滔不绝" | 第6-7章添加转变铺垫 |
| 🔴 矛盾 | 苏婉儿 | 第5章↔第15章 | "黑色长发"变"棕色短发" | 第12章添加剪发描写 |

### 时间线一致性
| 严重度 | 位置 | 问题描述 | 操作建议 |
|--------|------|---------|---------|
| 🔴 矛盾 | 第10章↔第11章 | "三天后"与"第二天"冲突 | 统一为"两天后" |

### 伏笔回收
| 伏笔 | 埋设位置 | 回收位置 | 状态 |
|------|---------|---------|------|
| 神秘信件 | 第 3 章 | 未回收 | ❌ 需处理 |
| 断剑 | 第 5 章 | 第 20 章 | ✅ 已回收 |
| 老人的预言 | 第 7 章 | 未回收 | ⚠️ 建议第 22 章前回收 |

### 操作清单
1. □ 第 6-7 章添加李明性格转变的铺垫场景
2. □ 第 12 章添加苏婉儿剪发的描写
3. □ 修正第 10-11 章的时间线
4. □ 在第 18 章前回收"神秘信件"伏笔
5. □ 在第 22 章前回收"老人的预言"

### 一致性层通过标准
- □ 角色性格前后一致（或有合理转变铺垫）
- □ 时间线无矛盾
- □ 伏笔回收率 > 90%
- □ 世界观设定自洽
- □ 角色外貌/称呼描述一致
```

**配合工具**：参考 `consistency-checker` Skill 和 `spec/tracking/` 下的追踪文件。

---

### Layer 4: 文字润色 (Line Editing)

**目标**：消除文字层面的问题，提升可读性，同时保持作者风格。

**检查项**：
- 是否有重复用词（同一段出现 3 次相同词）？
- 是否有冗余表达（"他心里想着" → 直接写想法）？
- 对话标签是否过多（"他说""她说"）？
- 是否有 AI 痕迹词汇（参考 anti-ai 要求）？
- 句式是否单调（连续 10 个"他……"开头）？
- 是否符合 personal-voice.md / style-reference.md 的风格指南？

**输出格式**：

```markdown
## 文字润色报告

### 全局统计
| 问题类型 | 出现次数 | 严重度 | 建议 |
|---------|---------|--------|------|
| "突然"重复 | 47 次 | 🔴 严重 | 控制在 10 次以内 |
| "不由得"重复 | 23 次 | 🟡 中等 | 控制在 8 次以内 |
| "他心里暗暗想道"冗余 | 15 处 | 🟡 中等 | 删除，直接写想法 |
| AI痕迹词（不禁/竟然/居然） | 38 处 | 🔴 严重 | 替换为自然表达 |
| 连续同句式开头 | 12 处 | 🟡 中等 | 变换句式 |

### 逐章润色建议（示例）

#### 第 1 章
| 位置 | 原文 | 建议修改 | 原因 |
|------|------|---------|------|
| 第 3 段 | "他突然站起来" | "他猛地站起来" | 避免"突然"重复 |
| 第 7 段 | 连续 3 句"他……"开头 | 变换主语或句式 | 句式单调 |
| 第 12 段 | 4 处"他说""她说" | 删除 3 处，用动作代替 | 对话标签过多 |

#### 第 2 章
...（逐章列出）

### 文字层通过标准
- □ 无高频重复词（单词出现 < 总字数的 0.1%）
- □ 无冗余表达（"他心里想""他不禁"等已清除）
- □ 对话标签适度（连续对话中 < 30% 有标签）
- □ 无明显 AI 痕迹（anti-ai 词汇已替换）
- □ 句式有变化（无连续 5 句相同句式开头）
- □ 符合个人风格指南（如有 personal-voice.md）
```

**风格保护**：润色时始终对照 `style-reference.md` 和 `personal-voice.md`，确保修改后仍符合作者风格。

---

## 修改完成检查清单

当所有四层修改完成后，运行最终检查：

```markdown
## 修改完成检查清单

### 结构层 ✅
- [x] 无多余章节
- [x] 无缺失关键场景
- [x] 高潮位置合理（70-80%）
- [x] 开头吸引人，结尾令人满意

### 节奏层 ✅
- [x] 无连续 3 章以上节奏停滞
- [x] 紧张/舒缓交替合理
- [x] 每章结尾有钩子
- [x] 无明显拖沓段落

### 一致性层 ✅
- [x] 角色性格前后一致（或有合理转变）
- [x] 时间线无矛盾
- [x] 伏笔回收率 > 90%
- [x] 世界观设定自洽

### 文字层 ✅
- [x] 无高频重复词
- [x] 无冗余表达
- [x] 对话标签适度
- [x] 无明显 AI 痕迹
- [x] 符合个人风格指南

---

✅ 全部通过 → 修改完成，可以执行 /export 导出
```

**重要**：如果某一层未通过，不要跳到下一层。先解决当前层的问题。

---

## 与 /analyze 的协作

### 诊断 → 治疗 工作流

```
/analyze（诊断）
  ↓ 发现问题清单
  ↓
/revise（治疗）
  ↓ 按四层模型系统修改
  ↓
/analyze（复查）
  ↓ 验证问题已修复
  ↓
完成
```

### /analyze 报告的映射

| /analyze 发现 | 映射到修改层 |
|--------------|------------|
| 结构问题、章节缺失 | Layer 1: 结构修改 |
| 节奏偏慢/偏快、缺少钩子 | Layer 2: 节奏修改 |
| 角色矛盾、时间线错误、伏笔遗漏 | Layer 3: 一致性修改 |
| 重复用词、AI痕迹、风格不一致 | Layer 4: 文字润色 |

---

## 与其他 Skill 的协作

| Skill | 协作方式 |
|-------|---------|
| `pacing-control` | Layer 2 节奏修改时，参考其节奏工具箱 |
| `consistency-checker` | Layer 3 一致性修改时，参考其检测结果 |
| `style-learning` | Layer 4 文字润色时，参考学习到的风格 |
| `dialogue-techniques` | Layer 4 对话润色时，参考对话技巧 |
| `pre-write-checklist` | 修改前确保 context 完整 |

---

## 常见问题

### Q: 必须四层都做吗？

**A**: 不一定。根据初稿评估决定：
- 结构没问题 → 跳过 Layer 1
- 节奏没问题 → 跳过 Layer 2
- 但必须按顺序，不能跳着做（如跳过 Layer 1 直接做 Layer 3）

使用 `/revise --layer polish` 可以只做文字润色（适合结构和节奏已经很好的稿子）。

### Q: 修改会不会把我的风格改没了？

**A**: 不会。修改润色的核心原则之一就是"保持作者风格"：
- 读取你的 `personal-voice.md` 和 `style-reference.md`
- 只修改明确有问题的地方（重复、矛盾、AI痕迹）
- 不会把你的口语化风格改成书面语
- 每个修改都会说明理由，你可以选择接受或拒绝

### Q: 改了一轮还是不满意怎么办？

**A**: 建议最多 2-3 轮：
- 第 1 轮：结构 + 节奏（大改）
- 第 2 轮：一致性 + 文字（精修）
- 第 3 轮（可选）：针对性微调

如果 3 轮后仍不满意，问题可能不在修改，而在初稿设计。建议回到 `/plan` 重新审视创作计划。

### Q: /revise 和 /analyze --focus=style 有什么区别？

**A**:
- `/analyze --focus=style`：**诊断** - 告诉你风格有什么问题
- `/revise --layer polish`：**治疗** - 具体帮你修改文字

建议先诊断再治疗：`/analyze --focus=style` → `/revise --layer polish`

### Q: 可以只修改某几章吗？

**A**: 可以。使用 `--chapters` 参数：
- `/revise --chapters 1-10` → 只修改第 1-10 章
- `/revise --chapter 5` → 只修改第 5 章
- 但结构修改（Layer 1）建议全局审查，不要只看局部

---

**本Skill版本**: v1.0
**最后更新**: 2025-02-09
**核心问题**: 初稿写完不知道怎么系统地改；/analyze 只诊断不治疗
**配合**: analyze.md, revise.md, pacing-control, consistency-checker, style-learning
