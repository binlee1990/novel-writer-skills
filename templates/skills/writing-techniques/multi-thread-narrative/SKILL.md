---
name: multi-thread-narrative
description: "Use when story has multiple POVs, parallel plotlines, or interleaving timelines - tracks thread progress, detects hot/cold imbalances, suggests interweaving points, and monitors cross-thread foreshadowing"
allowed-tools: Read, Write
---

# 多线程叙事追踪 (Multi-Thread Narrative Tracking)

## 快速参考（Quick Reference）

### 何时激活

**自动激活关键词**：
- 用户说"多线""多POV""故事线""线程""平行叙事""群像""切换视角"
- 用户问"下一章写哪条线""这条线是不是太久没写了"
- 检测到故事有 2+ 条独立故事线
- `/plan` 阶段设计多线结构

**前置条件**：
- 至少 3 章已完成内容（需要足够数据识别线程）
- 故事有 2+ 条可识别的独立线程

### 五大核心能力速查

```
线程识别   → 自动识别 POV/地点/时间线/主题线
进度追踪   → 章节数、字数占比、最后更新、弧线阶段
平衡分析   → 热线/冷线检测、失衡警告、占比合理性
交织建议   → 切换时机、悬念设计、过渡策略
伏笔追踪   → 线内伏笔、线间伏笔、全局伏笔、回收状态
```

**核心规则**：每条线都需要被管理——不能太热（读者疲劳），不能太冷（读者遗忘）。

---

## 核心原则 (Core Principles)

### 1. 每条线都是承诺

**原则**：开启一条故事线，就是对读者的承诺——这条线会有发展和结局。

**违约后果**：
- 冷线太久 → 读者遗忘角色，失去情感连接
- 线程无结局 → 读者感到被欺骗
- 线程过多 → 读者无法跟踪，阅读体验碎片化

**管理标准**：
- 每条主线至少每 5 章出现一次
- 每条副线至少每 8 章出现一次
- 开启的线程必须有明确的结束计划

### 2. 平衡不等于平均

**原则**：线程平衡是指"合理分配"，不是"均匀分配"。

**合理分配**：
- 主线（核心冲突）：20-30% 篇幅
- 重要副线（关键角色）：15-20% 篇幅
- 次要副线（辅助角色）：8-12% 篇幅
- 点缀线（氛围/世界观）：3-5% 篇幅

**不合理的情况**：
- 所有线程完全均等 → 缺乏主次，读者不知道关注谁
- 一条线占 50%+ → 其他线沦为装饰
- 次要线比主线篇幅多 → 主次颠倒

### 3. 切换要有理由

**原则**：每次线程切换都应该有叙事理由，不是随机跳转。

**好的切换理由**：
- 悬念点切换（制造期待）
- 时间同步切换（同一时刻不同地点）
- 主题呼应切换（A线的事件呼应B线）
- 冷线回暖切换（太久没写，需要推进）

**坏的切换**：
- 无理由跳转（读者困惑）
- 高潮中途切换（打断节奏）
- 机械轮换（A-B-C-A-B-C，缺乏变化）

### 4. 汇聚创造高潮

**原则**：多线叙事的最大优势是"汇聚"——多条线在关键时刻交汇，产生强大的叙事冲击力。

**汇聚类型**：
- **物理汇聚**：角色在同一地点相遇
- **信息汇聚**：不同线的信息拼合出完整真相
- **主题汇聚**：不同线的主题在同一时刻呼应
- **冲突汇聚**：多条线的冲突同时爆发

---

## 线程识别 (Thread Identification)

### 识别规则

#### 1. POV 线程（视角线）

**识别依据**：
- 章节标题中的人物名（"第3章 - 艾莉亚"）
- 第一句的 POV 提示（"艾莉亚醒来时……"）
- 整章跟随同一角色的视角
- 内心独白的主体

**分类**：
```
类型: pov
识别置信度: 高（最容易识别）
常见于: 多POV小说、群像剧
```

#### 2. 地点线程（空间线）

**识别依据**：
- 明确的地理位置标记（"君临城""临冬城"）
- 场景描述的环境差异
- 角色群体的地理分布

**分类**：
```
类型: location
识别置信度: 中高
常见于: 战争小说、冒险小说
```

#### 3. 时间线程（时间线）

**识别依据**：
- 时间标记（"三个月前""二十年后"）
- 插叙/倒叙标识
- 平行时间线的事件

**分类**：
```
类型: timeline
识别置信度: 中
常见于: 悬疑小说、非线性叙事
```

#### 4. 主题线程（主题线）

**识别依据**：
- 独立的副情节（"暗线：复仇"）
- 主题关键词聚类
- 情节线的独立性

**分类**：
```
类型: theme
识别置信度: 中低（最难自动识别）
常见于: 文学小说、复杂叙事
```

### 边界情况处理

| 情况 | 处理方式 |
|------|---------|
| 混合 POV 章节（同章切换视角） | 拆分为子段落，分别归入对应线程 |
| 群戏章节（多角色均等） | 标记为 "ensemble"，归入主线 |
| 过渡章节（连接两线） | 归入占比更大的线程 |
| 单线程小说 | 不激活本 Skill，避免干扰 |

---

## 进度追踪 (Progress Tracking)

### 追踪指标

每条线程追踪以下指标：

| 指标 | 说明 | 计算方式 |
|------|------|---------|
| 章节数 | 该线出现的章节数量 | 统计包含该线的章节 |
| 字数 | 该线的总字数 | 累加该线所有段落字数 |
| 占比 | 该线字数占总字数的比例 | 线程字数 / 总字数 × 100% |
| 最后更新 | 该线最后一次推进的章节 | 最近包含该线的章节号 |
| 冷线章数 | 距离最后更新的章节数 | 当前章节 - 最后更新章节 |
| 弧线阶段 | 该线的叙事阶段 | 开局/发展/高潮/收尾 |
| 张力等级 | 该线当前的紧张程度 | 1-10 评分 |

### 弧线阶段判断

```
开局 (Setup):     进度 0-20%，建立角色和冲突
发展 (Rising):    进度 20-60%，冲突升级，障碍增加
高潮 (Climax):    进度 60-85%，核心冲突爆发
收尾 (Resolution): 进度 85-100%，冲突解决，线程关闭
```

### 线程状态

| 状态 | 条件 | 图标 |
|------|------|------|
| 活跃 (Active) | 冷线章数 ≤ 3 | ✅ |
| 注意 (Warning) | 冷线章数 4-5 | ⚠️ |
| 冷线 (Cold) | 冷线章数 6-8 | ❄️ |
| 危险 (Critical) | 冷线章数 > 8 | 🔴 |
| 过热 (Hot) | 连续 3+ 章出现 | 🔥 |
| 已完结 (Closed) | 弧线阶段 = 收尾完成 | ✔️ |

---

## 平衡分析 (Balance Analysis)

### 热线/冷线检测

#### 热线 (Hot Thread)
```
条件: 连续 3+ 章出现 OR 近 10 章占比 > 40%
风险: 读者对其他线失去兴趣
建议: 降温，切换到其他线
```

#### 冷线 (Cold Thread)
```
条件: 5+ 章未更新 OR 总占比 < 目标占比的 50%
风险: 读者遗忘角色和情节
建议: 尽快推进，至少提及
```

### 平衡度评分

```markdown
## 平衡度评分标准

### 章节分布均衡度
- 优秀 (9-10): 各线交替合理，主次分明
- 良好 (7-8): 基本均衡，偶有失衡
- 一般 (5-6): 明显失衡，1-2 条线过热/过冷
- 差 (< 5): 严重失衡，多条线被遗忘

### 字数占比合理性
主线: 20-30% → 合理
重要副线: 15-20% → 合理
次要副线: 8-12% → 合理
偏差 > 10% → 警告

### 更新频率
理想间隔: 2-4 章
警告阈值: 5 章
危险阈值: 8 章
```

### 建议算法

```
优先级排序:
1. Critical 冷线（> 8 章未更新）→ 必须立即推进
2. Cold 冷线（6-8 章未更新）→ 强烈建议推进
3. Hot 热线（连续 3+ 章）→ 建议降温
4. Warning 线程（4-5 章未更新）→ 建议关注
5. Active 线程 → 正常轮换
```

---

## 交织策略 (Interweaving Strategies)

### Strategy 1: 悬念点切换 (Suspension Point Switching)

在悬念点切换到另一线，制造期待感。

**执行方法**：
```
A线章末: "门外传来脚步声……"（悬念）
  ↓ 切换
B线: 推进B线情节
  ↓ 几章后
A线: 揭晓脚步声是谁（满足期待）
```

**适用场景**：所有多线叙事
**效果**：读者急于知道A线后续，但被迫先读B线，增加翻页欲望
**注意**：不要每次都用，会让读者疲劳

### Strategy 2: 平行升级 (Parallel Escalation)

多线同步升级张力，汇聚到高潮。

**执行方法**：
```
Ch20: A线 — 敌军逼近（张力 7/10）
Ch21: B线 — 阴谋暴露（张力 7/10）
Ch22: C线 — 龙蛋孵化（张力 8/10）
Ch23: 汇聚 — 三线在大战中交汇（张力 10/10）
```

**适用场景**：高潮前的准备阶段
**效果**：多线同时升温，汇聚时产生叠加效果
**注意**：需要精确控制各线的张力节奏

### Strategy 3: 呼应切换 (Call and Response)

一线埋设，另一线呼应，通过主题关联。

**执行方法**：
```
琼恩线: 发现异鬼遗迹（埋设）
  ↓ 切换
布兰线: 做噩梦见到异鬼（呼应）
  ↓ 读者意识到两线有关联
```

**适用场景**：需要建立线间联系时
**效果**：读者发现关联时产生"恍然大悟"的满足感
**注意**：呼应要自然，不要太刻意

### Strategy 4: 时间同步切换 (Time-Synced Cuts)

不同线程在同一时间点切换，制造"同时发生"的紧迫感。

**执行方法**：
```
A线: "日落时分，城墙上的战斗进入白热化……"
  ↓ 切换
B线: "同一天日落时，密室中的阴谋正在酝酿……"
```

**适用场景**：需要强调事件同时性时
**效果**：增加紧迫感和史诗感
**注意**：时间标记要明确，避免读者混淆

### 反模式 (Anti-Patterns)

| 反模式 | 问题 | 解决方案 |
|--------|------|---------|
| 随机跳转 | 无理由切换，读者困惑 | 每次切换都有叙事理由 |
| 机械轮换 | A-B-C-A-B-C 过于死板 | 根据叙事需要灵活调整 |
| 高潮中断 | 在高潮中途切换 | 让高潮完整结束再切换 |
| 遗忘线程 | 开启后长期不推进 | 定期检查冷线状态 |
| 线程过多 | 同时 6+ 条活跃线 | 合并或关闭部分线程 |

---

## 伏笔追踪 (Foreshadowing Tracking)

### 伏笔类型

#### 1. 线内伏笔 (Intra-Thread)
同一线程内的铺垫和回应。

```
艾莉亚线 Ch1: "父亲临死前说了什么"（埋设）
艾莉亚线 Ch15: 回忆起父亲的话（回应）
```

**追踪规则**：与 `reader-expectation` Skill 的期待追踪协同。

#### 2. 线间伏笔 (Inter-Thread)
不同线程间的交叉伏笔——多线叙事的独特优势。

```
琼恩线 Ch3: 发现神秘符号（埋设）
布兰线 Ch8: 梦中见到同样的符号（呼应/强化）
汇聚章 Ch20: 两线交汇，符号意义揭晓（满足）
```

**追踪规则**：
- 标记伏笔的源线程和目标线程
- 线间伏笔优先级高于线内伏笔（更容易被遗忘）
- 汇聚点是线间伏笔的最佳回收时机

#### 3. 全局伏笔 (Global)
贯穿所有线程的核心谜题。

```
预言: "当长夜降临，三把钥匙将开启命运之门"
A线: 发现第一把钥匙
B线: 发现第二把钥匙
C线: 发现第三把钥匙
汇聚: 三线交汇，预言应验
```

**追踪规则**：
- 全局伏笔是最高优先级
- 每条线都应该从不同角度推进全局伏笔
- 全局伏笔的回收通常在故事高潮

### 伏笔紧迫性

| 章节间隔 | 紧迫性 | 建议 |
|---------|--------|------|
| ≤ 5 章 | 🟢 Low | 正常延迟 |
| 6-10 章 | 🟡 Medium | 建议提及或提供线索 |
| > 10 章 | 🟠 High | 需要尽快回应 |
| > 15 章 | 🔴 Critical | 必须回应或重新激活 |

---

## 实践应用 (Best Practices)

### 线程分析输出格式

```markdown
## 📊 线程总览

### 已识别线程 [X] 条

| # | 线程名 | 类型 | 章节数 | 占比 | 最后更新 | 状态 | 张力 |
|---|--------|------|--------|------|---------|------|------|
| 1 | 艾莉亚的逃亡 | POV | 5 | 18% | Ch13 | ⚠️ 2章未更新 | 7/10 |
| 2 | 琼恩的长城 | POV | 6 | 22% | Ch14 | ✅ 活跃 | 6/10 |
| 3 | 提利昂的囚禁 | POV | 4 | 15% | Ch12 | ⚠️ 3章未更新 | 8/10 |
| 4 | 丹妮莉丝的崛起 | POV | 3 | 12% | Ch10 | ❄️ 冷线(5章) | 5/10 |
| 5 | 布兰的北境 | POV | 2 | 8% | Ch7 | 🔴 危险(8章) | 3/10 |

### ⚖️ 平衡性分析

**平衡度评分：6.5/10**

| 指标 | 状态 | 说明 |
|------|------|------|
| 章节分布 | ⚠️ 失衡 | 布兰线严重不足 |
| 字数占比 | 🟡 一般 | 琼恩线偏高(22%) |
| 更新频率 | 🔴 问题 | 2条线超过警告阈值 |
| 热线检测 | ✅ 无 | 无过热线程 |

**警告**：
- 🔴 布兰线已 8 章未更新，读者可能已遗忘该角色
- ❄️ 丹妮莉丝线已 5 章未更新，接近危险阈值
- ⚠️ 提利昂线张力最高(8/10)但 3 章未更新，悬念可能衰减

### 💡 下一章建议

**推荐：切换到【布兰线】**

| 项目 | 内容 |
|------|------|
| 推荐线程 | 布兰的北境 |
| 原因 | 冷线 8 章，必须推进；琼恩线 Ch14 结尾有悬念点，适合切换 |
| 切换点设计 | 琼恩发现异鬼遗迹 → 切换到布兰做噩梦见到异鬼（呼应切换） |
| 建议篇幅 | 3,500-4,500 字（追赶进度） |
| 弧线推进 | 将布兰从"开局"推进到"发展"阶段 |
| 伏笔建议 | 回应 Ch7 埋设的"三眼乌鸦"伏笔 |

**备选方案**：
- 方案B：切换到丹妮莉丝线（5章未更新，也需要推进）
- 方案C：继续提利昂线（张力最高，但已连续出现）

### 🔍 伏笔追踪

#### 线间伏笔
| 伏笔 | 源线程 | 目标线程 | 埋设 | 状态 | 紧迫性 |
|------|--------|---------|------|------|--------|
| 神秘符号 | 琼恩线 | 布兰线 | Ch3 | 未回应 | 🟠 High |
| 龙蛋异动 | 丹妮线 | 全局 | Ch5 | 部分回应 | 🟡 Medium |

#### 线内伏笔
| 伏笔 | 线程 | 埋设 | 状态 | 紧迫性 |
|------|------|------|------|--------|
| 父亲的遗言 | 艾莉亚线 | Ch1 | 未回应 | 🔴 Critical(14章) |
| 冰原狼的预兆 | 布兰线 | Ch7 | 未回应 | 🟠 High(8章) |

💡 建议在下一次布兰章节中回应"冰原狼的预兆"和"神秘符号"伏笔
```

### 汇聚点规划

```markdown
## 🔀 汇聚点规划

### 已规划汇聚点

| 章节 | 汇聚线程 | 类型 | 说明 |
|------|---------|------|------|
| Ch25 | 琼恩 + 布兰 | 物理汇聚 | 两人在北境相遇 |
| Ch35 | 全部线程 | 冲突汇聚 | 大战，所有角色参与 |
| Ch40 | 艾莉亚 + 提利昂 | 信息汇聚 | 拼合出阴谋真相 |

### 建议新增汇聚点

💡 Ch20 附近建议安排一次小汇聚（2-3 条线交汇），
   为 Ch35 的大汇聚做铺垫。
```

---

## 与其他 Skill 的协作

| Skill | 协作方式 |
|-------|---------|
| `reader-expectation` | 每条线的期待独立追踪，汇聚点是多线期待同时满足的时机 |
| `pacing-control` | 各线的节奏独立控制，整体节奏由线程切换频率决定 |
| `character-arc` | 每条 POV 线对应一个角色弧线 |
| `consistency-checker` | 跨线程的时间线和事实一致性检查 |
| `revision-polish` | Layer 3 一致性修改时检查线程平衡和伏笔回收 |

### 与 /analyze 的协作

```
/analyze → 发现线程失衡、伏笔遗忘
    ↓ 映射为线程管理问题
multi-thread-narrative Skill → 提供具体的平衡策略和交织建议
    ↓
/revise → 执行调整
```

### 与 /plan 的协作

```
/plan → 规划多线结构
    ↓ 识别线程和汇聚点
multi-thread-narrative Skill → 建议线程分配和交织模式
    ↓ 优化大纲
/plan → 更新大纲
```

---

## 常见问题

### Q: 多少条线程合适？

**A**: 取决于篇幅和体裁：
- 短篇（< 5万字）：1-2 条线
- 中篇（5-15万字）：2-3 条线
- 长篇（15-50万字）：3-5 条线
- 超长篇（> 50万字）：4-6 条线
- 超过 6 条同时活跃的线 → 管理困难，建议合并

### Q: 冷线太久怎么补救？

**A**: 三种补救策略：
1. **重新激活**：用一个强事件重新吸引注意力（"布兰突然醒来，发现自己能看到过去"）
2. **快速追赶**：用一章较长的篇幅快速推进该线进度
3. **合并关闭**：如果该线不再重要，将其合并到其他线或优雅关闭

### Q: 线程切换会不会打断读者？

**A**: 取决于切换质量：
- ✅ **好的切换**：在悬念点切换 + 新线开头有吸引力 + 两线有主题关联
- ❌ **坏的切换**：在高潮中途切换 + 新线开头平淡 + 两线毫无关联
- 经验法则：如果读者在切换后 3 段内被新线吸引，就是好切换

### Q: 单线程小说需要这个 Skill 吗？

**A**: 不需要。本 Skill 在检测到只有 1 条线程时不会激活。单线程小说应使用 `pacing-control` 和 `reader-expectation` Skill。

### Q: 如何处理嵌套叙事（故事中的故事）？

**A**: 嵌套叙事视为特殊的时间线线程：
- 外层叙事 = 主线程
- 内层叙事 = 嵌套线程（标记为 timeline 类型）
- 嵌套线程的平衡规则更宽松（可以集中出现）

---

**本Skill版本**: v1.0
**最后更新**: 2025-02-09
**核心问题**: 多线叙事中线程失衡、伏笔遗忘、切换混乱
**配合**: analyze.md, plan.md, reader-expectation, pacing-control, character-arc, consistency-checker
