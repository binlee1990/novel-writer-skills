---
name: pov-validator
description: "Use when writing narrative prose - monitors point-of-view consistency, detects POV violations like head-hopping, and ensures narrative perspective stays coherent throughout scenes and chapters"
allowed-tools: Read, Grep, Glob
---

# POV 视角验证器

## 核心功能

**监控叙述视角一致性** — 检测视角跳跃、越界感知等 POV 违规，确保叙事视角在场景和章节中保持连贯。

## 激活条件

- 执行 `/write` 时自动激活
- 提到"视角""POV""第一人称""第三人称""叙述者"等关键词时激活
- 执行 `/analyze` 时作为检查项之一

---

## 视角类型识别

| 视角类型 | 标志特征 | 限制 | 适用场景 |
|---------|---------|------|---------|
| **第一人称** | "我"叙述 | 只能感知自己的内心，他人只能通过外在表现推测 | 亲密感强、悬疑 |
| **第三人称有限** | "他/她"叙述，绑定一个角色 | 只能感知绑定角色的内心和感官范围 | 最常用，平衡亲密与灵活 |
| **第三人称全知** | 上帝视角 | 可进入任何角色内心，但需保持一致的叙述声音 | 史诗叙事、群像 |
| **第二人称** | "你"叙述 | 读者即主角，沉浸感极强但难以维持 | 实验性、互动叙事 |
| **多视角轮换** | 章节/场景切换视角角色 | 每个场景内必须保持单一视角 | 多线叙事、群像 |

---

## POV 违规检测

| 违规类型 | 说明 | 严重程度 |
|---------|------|---------|
| **视角跳跃（Head-hopping）** | 同一场景内未经标记地切换到另一角色的内心 | 🔴 关键 |
| **越界感知** | 视角角色感知到不可能知道的信息（背后的表情、另一房间的对话） | 🔴 关键 |
| **内心独白泄露** | 第三人称有限视角中，写出非视角角色的内心想法 | 🔴 关键 |
| **视角不一致** | 同一章内人称代词混乱（"我"和"他"混用） | ⚠️ 警告 |
| **称谓混乱** | 视角角色用不符合其身份的方式称呼他人 | ⚠️ 警告 |
| **信息来源不明** | 叙述中出现视角角色无法获知的背景信息 | 📝 注意 |

---

## 检测规则

### 规则 1：第一人称限制
- ✅ 可以描述"我"的感受、想法、感官体验
- ✅ 可以描述他人的外在表现（表情、动作、语气）
- ❌ 不能直接写出他人的内心想法
- ❌ 不能描述"我"不在场时发生的事

### 规则 2：第三人称有限限制
- ✅ 可以进入视角角色的内心
- ✅ 可以描述视角角色感官范围内的一切
- ❌ 不能进入非视角角色的内心
- ❌ 不能描述视角角色感官范围外的事件

### 规则 3：全知视角规则
- ✅ 可以进入任何角色的内心
- ✅ 可以描述任何地点的事件
- ⚠️ 需要保持一致的叙述声音和风格
- ⚠️ 频繁切换内心会导致读者迷失

### 规则 4：多视角切换标记
- ✅ 章节切换时可以更换视角角色
- ✅ 场景分隔符（***）后可以更换视角角色
- ❌ 同一场景内不能无标记切换视角
- ⚠️ 每章开头应尽快明确当前视角角色

### 规则 5：感官限制
- 视角角色只能感知五感范围内的信息
- 不能看到自己背后的事物（除非有镜子等合理手段）
- 不能听到隔音环境外的对话
- 不能闻到远距离的气味

---

## 警报格式

```
🔍 POV 违规警报

类型：视角跳跃（Head-hopping）
位置：第 8 章，第 3 段
当前 POV：林小雨（第三人称有限）
问题描述：
  原文："张伟心想，这个女人真是不可理喻。"
  → 当前视角角色是林小雨，不能直接写出张伟的内心想法。
修改建议：
  → "张伟皱起眉头，嘴角微微下撇。"（通过外在表现暗示）
  → "林小雨从张伟的表情中读出了不耐烦。"（通过视角角色的推测）
严重程度：🔴 关键
```

---

## 常见合法例外

| 例外情况 | 说明 | 注意事项 |
|---------|------|---------|
| **全知叙述者** | 有意选择的全知视角 | 需在全文中保持一致 |
| **不可靠叙述者** | 叙述者有意误导读者 | 需要有后续揭示 |
| **意识流** | 意识流动打破常规视角 | 需要明确的文学意图 |
| **书信体/日记体** | 多人书信自然包含多视角 | 每封信/日记内部保持单一视角 |
| **回忆/闪回** | 视角角色回忆过去的场景 | 仍受限于回忆者当时的感知 |

---

## 与其他技能协作

- **consistency-checker**：POV 一致性是整体一致性检查的子集
- **multi-thread-narrative**：多线叙事中每条线的视角管理
- **style-learning**：不同视角类型对应不同的文风特征
- **continuity-tracker**：视角角色的知识状态追踪

---

## 配置选项

```yaml
pov_validator:
  pov_mode: "third_person_limited"  # first_person / third_person_limited / third_person_omniscient / multi_pov
  strict_level: "standard"           # strict（严格）/ standard（标准）/ relaxed（宽松）
  allow_exceptions:
    - unreliable_narrator: false
    - stream_of_consciousness: false
    - epistolary: false
```

**严格程度说明**：
- **strict**：任何疑似违规都会警报
- **standard**：明确违规警报，模糊情况提示
- **relaxed**：仅检测明确的视角跳跃
