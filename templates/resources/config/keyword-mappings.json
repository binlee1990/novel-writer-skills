{
  "version": "1.2.0",
  "description": "关键词触发机制的映射表（含预编译正则）",
  "mappings": {
    "craft-knowledge": {
      "dialogue": {
        "keywords": ["对话", "台词", "说话", "对白", "conversation", "dialogue"],
        "regex": "对话|台词|说话|对白|conversation|dialogue",
        "regex_flags": "i",
        "resources": [
          "resources/craft/dialogue.md",
          "templates/skills/writing-techniques/dialogue-techniques/SKILL.md"
        ],
        "priority": 1
      },
      "scene-structure": {
        "keywords": ["场景", "镜头", "画面", "scene", "structure"],
        "regex": "场景|镜头|画面|scene|structure",
        "regex_flags": "i",
        "resources": [
          "resources/craft/scene-structure.md",
          "templates/skills/writing-techniques/scene-structure/SKILL.md"
        ],
        "priority": 1
      },
      "character-arc": {
        "keywords": ["角色成长", "角色弧线", "弧线", "转变", "成长", "character arc", "transformation"],
        "regex": "角色成长|角色弧线|弧线|转变|成长|character\\s*arc|transformation",
        "regex_flags": "i",
        "resources": [
          "resources/craft/character-arc.md",
          "templates/skills/writing-techniques/character-arc/SKILL.md"
        ],
        "priority": 1
      },
      "pacing": {
        "keywords": ["节奏", "拖沓", "太快", "太慢", "过快", "过慢", "pacing", "rhythm"],
        "regex": "节奏|拖沓|太快|太慢|过快|过慢|pacing|rhythm",
        "regex_flags": "i",
        "resources": [
          "resources/craft/pacing.md",
          "templates/skills/writing-techniques/pacing-control/SKILL.md"
        ],
        "priority": 1
      },
      "show-not-tell": {
        "keywords": ["展示", "描写", "tell", "show", "showing", "telling"],
        "regex": "展示|描写|tell|show|showing|telling",
        "regex_flags": "i",
        "resources": [
          "resources/craft/show-not-tell.md"
        ],
        "priority": 1
      },
      "hook-design": {
        "keywords": ["钩子", "悬念", "章末", "hook", "cliffhanger", "结尾"],
        "regex": "钩子|悬念|章末|hook|cliffhanger|结尾",
        "regex_flags": "i",
        "resources": [
          "resources/craft/hook-design.md"
        ],
        "priority": 1
      },
      "power-system": {
        "keywords": ["力量体系", "战力", "境界", "等级", "power system", "combat"],
        "regex": "力量体系|战力|境界|等级|power\\s*system|combat",
        "regex_flags": "i",
        "resources": [
          "resources/craft/power-system.md"
        ],
        "priority": 1
      },
      "tension-management": {
        "keywords": ["紧张感", "张力", "信息差", "时间压力", "两难", "tension", "dilemma"],
        "regex": "紧张感|张力|信息差|时间压力|两难|tension|dilemma",
        "regex_flags": "i",
        "resources": [
          "resources/craft/tension-management.md"
        ],
        "priority": 1
      }
    },
    "genre-knowledge": {
      "romance": {
        "keywords": ["言情", "恋爱", "感情", "爱情", "romance", "love"],
        "regex": "言情|恋爱|感情|爱情|romance|love",
        "regex_flags": "i",
        "resources": [
          "resources/genres/romance.md",
          "templates/skills/genre-knowledge/romance/SKILL.md"
        ],
        "priority": 2
      },
      "mystery": {
        "keywords": ["悬疑", "推理", "线索", "mystery", "detective", "clue"],
        "regex": "悬疑|推理|线索|mystery|detective|clue",
        "regex_flags": "i",
        "resources": [
          "resources/genres/mystery.md",
          "templates/skills/genre-knowledge/mystery/SKILL.md"
        ],
        "priority": 2
      },
      "wuxia": {
        "keywords": ["武侠", "江湖", "侠客", "武功", "wuxia", "martial arts"],
        "regex": "武侠|江湖|侠客|武功|wuxia|martial\\s*arts",
        "regex_flags": "i",
        "resources": [
          "resources/genres/wuxia.md"
        ],
        "priority": 2
      },
      "historical": {
        "keywords": ["历史", "古代", "朝代", "宫廷", "historical", "dynasty"],
        "regex": "历史|古代|朝代|宫廷|historical|dynasty",
        "regex_flags": "i",
        "resources": [
          "resources/genres/historical.md"
        ],
        "priority": 2
      },
      "sci-fi": {
        "keywords": ["科幻", "未来", "太空", "星际", "sci-fi", "science fiction"],
        "regex": "科幻|未来|太空|星际|sci-fi|science\\s*fiction",
        "regex_flags": "i",
        "resources": [
          "resources/genres/sci-fi.md"
        ],
        "priority": 2
      },
      "thriller": {
        "keywords": ["惊悚", "恐怖", "紧张", "thriller", "horror", "suspense"],
        "regex": "惊悚|恐怖|紧张|thriller|horror|suspense",
        "regex_flags": "i",
        "resources": [
          "resources/genres/thriller.md"
        ],
        "priority": 2
      },
      "revenge": {
        "keywords": ["复仇", "报仇", "仇恨", "revenge", "vengeance"],
        "regex": "复仇|报仇|仇恨|revenge|vengeance",
        "regex_flags": "i",
        "resources": [
          "resources/genres/revenge.md"
        ],
        "priority": 2
      },
      "xuanhuan": {
        "keywords": ["玄幻", "修仙", "修炼", "境界", "灵气", "宗门", "xuanhuan", "cultivation"],
        "regex": "玄幻|修仙|修炼|境界|灵气|宗门|xuanhuan|cultivation",
        "regex_flags": "i",
        "resources": [
          "resources/genres/xuanhuan.md"
        ],
        "priority": 2
      },
      "urban": {
        "keywords": ["都市", "现代", "城市", "职场", "urban", "modern", "city"],
        "regex": "都市|现代|城市|职场|urban|modern|city",
        "regex_flags": "i",
        "resources": [
          "resources/genres/urban.md"
        ],
        "priority": 2
      },
      "game-lit": {
        "keywords": ["游戏", "系统", "面板", "副本", "game", "system", "dungeon"],
        "regex": "游戏|系统|面板|副本|game|system|dungeon",
        "regex_flags": "i",
        "resources": [
          "resources/genres/game-lit.md"
        ],
        "priority": 2
      },
      "rebirth": {
        "keywords": ["重生", "穿越", "回到过去", "前世", "rebirth", "reincarnation", "transmigration"],
        "regex": "重生|穿越|回到过去|前世|rebirth|reincarnation|transmigration",
        "regex_flags": "i",
        "resources": [
          "resources/genres/rebirth.md"
        ],
        "priority": 2
      }
    },
    "quality-assurance": {
      "consistency": {
        "keywords": ["一致性", "矛盾", "冲突", "consistency", "contradiction"],
        "regex": "一致性|矛盾|冲突|consistency|contradiction",
        "regex_flags": "i",
        "resources": [
          "templates/skills/quality-assurance/consistency-checker/SKILL.md"
        ],
        "priority": 3
      }
    }
  },
  "regex-patterns": {
    "dialogue": "对话|台词|说话|对白",
    "scene": "场景|镜头|画面",
    "character-arc": "角色成长|角色弧线|弧线|转变|成长",
    "pacing": "节奏|拖沓|太快|太慢|过快|过慢",
    "show-tell": "展示|描写|tell|show",
    "hook-design": "钩子|悬念|章末|hook|cliffhanger|结尾",
    "power-system": "力量体系|战力|境界|等级",
    "romance": "言情|恋爱|感情|爱情",
    "mystery": "悬疑|推理|线索",
    "wuxia": "武侠|江湖|侠客|武功",
    "historical": "历史|古代|朝代|宫廷",
    "sci-fi": "科幻|未来|太空|星际",
    "thriller": "惊悚|恐怖|紧张",
    "revenge": "复仇|报仇|仇恨",
    "xuanhuan": "玄幻|修仙|修炼|境界|灵气|宗门",
    "consistency": "一致性|矛盾|冲突",
    "tension-management": "紧张感|张力|信息差|时间压力|两难",
    "urban": "都市|现代|城市|职场",
    "game-lit": "游戏|系统|面板|副本",
    "rebirth": "重生|穿越|回到过去|前世"
  },
  "notes": {
    "priority": "优先级数字越小越高（1 最高）",
    "usage": "scripts/bash/check-writing-state.sh 会读取此文件",
    "extensibility": "可通过 specification.md 的 resource-loading.keyword-triggers.custom-mappings 扩展",
    "performance": "regex 字段为预编译正则表达式，脚本直接使用，避免运行时构建"
  }
}
